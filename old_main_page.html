<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AOSP Media Framework ì•„í‚¤í…ì²˜ ì‹œê°í™”</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e1a;
            --bg-secondary: #111827;
            --bg-card: #1a1f35;
            --bg-card-hover: #222844;
            --accent-primary: #00d4ff;
            --accent-secondary: #7c3aed;
            --accent-tertiary: #ec4899;
            --text-primary: #e5e7eb;
            --text-secondary: #9ca3af;
            --text-muted: #6b7280;
            --border-color: rgba(255, 255, 255, 0.1);
            --glow-color: rgba(0, 212, 255, 0.3);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #0f1419 50%, #1a0f2e 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header Styles */
        header {
            text-align: center;
            margin-bottom: 60px;
            padding: 60px 20px;
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.1) 0%, rgba(0, 212, 255, 0.1) 100%);
            border-radius: 24px;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(0, 212, 255, 0.05) 0%, transparent 70%);
            animation: pulse 8s ease-in-out infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                transform: scale(1);
                opacity: 0.5;
            }

            50% {
                transform: scale(1.1);
                opacity: 0.8;
            }
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            position: relative;
            z-index: 1;
            text-shadow: 0 0 40px var(--glow-color);
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 300;
            position: relative;
            z-index: 1;
        }

        /* Section Styles */
        .section {
            margin-bottom: 80px;
            padding: 40px;
            background: var(--bg-card);
            border-radius: 20px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary), var(--accent-tertiary));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .section:hover {
            border-color: rgba(0, 212, 255, 0.3);
            box-shadow: 0 10px 40px rgba(0, 212, 255, 0.1);
            transform: translateY(-2px);
        }

        .section:hover::before {
            opacity: 1;
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
            color: var(--accent-primary);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 12px;
            font-size: 1.3rem;
            font-weight: 900;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 212, 255, 0.3);
        }

        .section-description {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            padding-left: 65px;
        }

        /* Diagram Container */
        .diagram-container {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid var(--border-color);
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
            min-height: 300px;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .card {
            background: var(--bg-secondary);
            padding: 25px;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: linear-gradient(180deg, var(--accent-primary), var(--accent-secondary));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .card:hover {
            transform: translateX(5px);
            border-color: rgba(0, 212, 255, 0.4);
            box-shadow: 0 5px 20px rgba(0, 212, 255, 0.15);
        }

        .card:hover::before {
            opacity: 1;
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .card-icon {
            font-size: 1.5rem;
        }

        .card-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .card-description ul {
            margin-top: 10px;
            padding-left: 20px;
        }

        .card-description li {
            margin-bottom: 8px;
        }

        /* Code styling */
        code {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(0, 212, 255, 0.1);
            padding: 2px 8px;
            border-radius: 4px;
            color: var(--accent-primary);
            font-size: 0.9em;
        }

        /* Comparison Table */
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            overflow: hidden;
            border-radius: 12px;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 15px 20px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            background: linear-gradient(135deg, rgba(124, 58, 237, 0.2), rgba(0, 212, 255, 0.2));
            color: var(--accent-primary);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .comparison-table td {
            background: var(--bg-secondary);
        }

        .comparison-table tr:hover td {
            background: var(--bg-card-hover);
        }

        /* Tag Styles */
        .tag {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
            margin: 4px;
        }

        .tag-new {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.2), rgba(124, 58, 237, 0.2));
            color: var(--accent-primary);
            border: 1px solid var(--accent-primary);
        }

        .tag-legacy {
            background: rgba(156, 163, 175, 0.2);
            color: var(--text-secondary);
            border: 1px solid var(--text-muted);
        }

        .tag-hal {
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.2), rgba(124, 58, 237, 0.2));
            color: var(--accent-tertiary);
            border: 1px solid var(--accent-tertiary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }

            .subtitle {
                font-size: 1.1rem;
            }

            .section {
                padding: 25px;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .content-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Scroll Animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeInUp 0.6s ease-out;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: linear-gradient(180deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(180deg, var(--accent-secondary), var(--accent-tertiary));
        }
    </style>
</head>

<body>
    <div class="container">
        <header>
            <h1>AOSP Media Framework</h1>
            <p class="subtitle">Android Open Source Project ë¯¸ë””ì–´ í”„ë ˆì„ì›Œí¬ ì•„í‚¤í…ì²˜ ìƒì„¸ ì‹œê°í™”</p>
            <div style="margin-top: 30px; display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <a href="aosp.html"
                    style="display: inline-flex; align-items: center; gap: 10px; padding: 14px 28px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(0, 212, 255, 0.2)); border: 2px solid #10b981; border-radius: 12px; color: #10b981; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; position: relative; z-index: 2;">
                    ğŸ¤– Android AOSP ì•„í‚¤í…ì²˜ â†’
                </a>
                <a href="mediasession.html"
                    style="display: inline-flex; align-items: center; gap: 10px; padding: 14px 28px; background: linear-gradient(135deg, rgba(249, 115, 22, 0.2), rgba(0, 212, 255, 0.2)); border: 2px solid #f97316; border-radius: 12px; color: #f97316; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; position: relative; z-index: 2;">
                    ğŸµ MediaSession Framework â†’
                </a>
                <a href="carmedia.html"
                    style="display: inline-flex; align-items: center; gap: 10px; padding: 14px 28px; background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(0, 212, 255, 0.2)); border: 2px solid #f59e0b; border-radius: 12px; color: #f59e0b; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; position: relative; z-index: 2;">
                    ğŸš— Car Media Service â†’
                </a>
                <a href="widevine.html"
                    style="display: inline-flex; align-items: center; gap: 10px; padding: 14px 28px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(0, 212, 255, 0.2)); border: 2px solid #10b981; border-radius: 12px; color: #10b981; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; position: relative; z-index: 2;">
                    ğŸ”’ Widevine DRM ì•„í‚¤í…ì²˜ â†’
                </a>
                <a href="widevine.html"
                    style="display: inline-flex; align-items: center; gap: 10px; padding: 14px 28px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(0, 212, 255, 0.2)); border: 2px solid #10b981; border-radius: 12px; color: #10b981; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; position: relative; z-index: 2;">
                    ğŸ”’ Widevine DRM ì•„í‚¤í…ì²˜ â†’
                </a>
                <a href="gas.html"
                    style="display: inline-flex; align-items: center; gap: 10px; padding: 14px 28px; background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(0, 212, 255, 0.2)); border: 2px solid #f59e0b; border-radius: 12px; color: #f59e0b; text-decoration: none; font-weight: 600; font-size: 1.1rem; transition: all 0.3s ease; position: relative; z-index: 2;">
                    ğŸš— Google Automotive Services â†’
                </a>
            </div>
        </header>

        <!-- Section 1: Overall Architecture -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">1</span>
                ì „ì²´ ì•„í‚¤í…ì²˜
            </h2>
            <p class="section-description">
                AOSP Media FrameworkëŠ” Applicationë¶€í„° Hardwareê¹Œì§€ ì—¬ëŸ¬ ë ˆì´ì–´ë¡œ êµ¬ì„±ëœ ë³µì¡í•œ êµ¬ì¡°ì…ë‹ˆë‹¤.
                ê° ë ˆì´ì–´ëŠ” ëª…í™•í•˜ê²Œ ì •ì˜ëœ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ìƒí˜¸ì‘ìš©í•©ë‹ˆë‹¤.
            </p>

            <div class="diagram-container">
                <div class="mermaid">
                    graph TB
                    subgraph APP["Application Layer"]
                    A1["Application<br />(Java/Kotlin)"]
                    end

                    subgraph FRAMEWORK["Application Framework Layer"]
                    F1["android.media APIs"]
                    F2["MediaPlayer"]
                    F3["MediaCodec"]
                    F4["MediaRecorder"]
                    end

                    subgraph JNI["JNI Bridge"]
                    J1["JNI Glue Classes"]
                    end

                    subgraph NATIVE["Native Framework Layer"]
                    N1["libmedia"]
                    N2["Stagefright Engine"]
                    N3["MediaExtractor"]
                    N4["NuPlayer / AwesomePlayer"]
                    N5["CCodec<br />(Codec2 Entry)"]
                    N6["ACodec<br />(OMX Entry)"]
                    end

                    subgraph BINDER["Binder IPC"]
                    B1["Binder Proxies"]
                    end

                    subgraph SERVER["Media Server"]
                    S1["MediaPlayerService"]
                    S2["AudioFlinger"]
                    S3["CameraService"]
                    end

                    subgraph CODEC2["Codec2 Framework (Modern)"]
                    C2_1["Codec2Client"]
                    C2_2["C2Component"]
                    C2_3["C2ComponentStore"]
                    C2_4["C2BufferChannel"]
                    end

                    subgraph OMX["OpenMAX IL (Legacy)"]
                    O1["OMXCodec"]
                    O2["OMX Components"]
                    end

                    subgraph HAL["Hardware Abstraction Layer"]
                    H1["Audio HAL<br />(Core/Effects)"]
                    H2["Codec2 HAL"]
                    H3["Camera HAL"]
                    end

                    subgraph KERNEL["Linux Kernel & Drivers"]
                    K1["ALSA Driver"]
                    K2["V4L2 Driver"]
                    K3["Hardware Codecs"]
                    end

                    A1 --> F1
                    F1 --> F2 & F3 & F4
                    F2 & F3 & F4 --> J1
                    J1 --> N1
                    N1 --> N2
                    N2 --> N3 & N4
                    N4 --> N5 & N6
                    N5 --> C2_1
                    N6 --> O1

                    N1 --> B1
                    B1 --> S1 & S2 & S3

                    C2_1 --> C2_2 & C2_3
                    C2_2 --> C2_4
                    C2_3 --> H2

                    O1 --> O2
                    O2 --> H2

                    S2 --> H1
                    S3 --> H3
                    H2 --> K3
                    H1 --> K1
                    H3 --> K2

                    style APP fill:#1a1f35,stroke:#00d4ff,stroke-width:2px
                    style FRAMEWORK fill:#1a1f35,stroke:#00d4ff,stroke-width:2px
                    style JNI fill:#1a1f35,stroke:#9ca3af,stroke-width:1px
                    style NATIVE fill:#1a1f35,stroke:#7c3aed,stroke-width:2px
                    style BINDER fill:#1a1f35,stroke:#9ca3af,stroke-width:1px
                    style SERVER fill:#1a1f35,stroke:#7c3aed,stroke-width:2px
                    style CODEC2 fill:#1a1f35,stroke:#00d4ff,stroke-width:3px
                    style OMX fill:#1a1f35,stroke:#6b7280,stroke-width:1px,stroke-dasharray: 5 5
                    style HAL fill:#1a1f35,stroke:#ec4899,stroke-width:2px
                    style KERNEL fill:#1a1f35,stroke:#ec4899,stroke-width:2px
                </div>
            </div>
        </section>

        <!-- Section 2: Application Framework -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">2</span>
                Application Framework Layer
            </h2>
            <p class="section-description">
                Android ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë¯¸ë””ì–´ ê¸°ëŠ¥ì— ì ‘ê·¼í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•˜ëŠ” ê³ ìˆ˜ì¤€ Java/Kotlin APIë“¤ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¬</span>
                        MediaPlayer
                    </h3>
                    <div class="card-description">
                        <p>ê³ ìˆ˜ì¤€ ë¯¸ë””ì–´ ì¬ìƒ API</p>
                        <ul>
                            <li>ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤ íŒŒì¼ ì¬ìƒ</li>
                            <li>ìŠ¤íŠ¸ë¦¬ë° ì§€ì› (HTTP, RTSP)</li>
                            <li>ê°„ë‹¨í•œ ì¬ìƒ ì œì–´ (play, pause, stop)</li>
                            <li>ë‚´ë¶€ì ìœ¼ë¡œ NuPlayer ì‚¬ìš©</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš™ï¸</span>
                        MediaCodec
                    </h3>
                    <div class="card-description">
                        <p>ì €ìˆ˜ì¤€ ì½”ë± ì ‘ê·¼ API</p>
                        <ul>
                            <li>í•˜ë“œì›¨ì–´/ì†Œí”„íŠ¸ì›¨ì–´ ì½”ë± ì§ì ‘ ì œì–´</li>
                            <li>ì¸ì½”ë”/ë””ì½”ë” ë²„í¼ ê´€ë¦¬</li>
                            <li>ë¹„ë™ê¸° ì²˜ë¦¬ ì§€ì›</li>
                            <li>Surface ì¶œë ¥ ì§€ì›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“¹</span>
                        MediaRecorder
                    </h3>
                    <div class="card-description">
                        <p>ë¯¸ë””ì–´ ë…¹í™” API</p>
                        <ul>
                            <li>ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤ ìº¡ì²˜</li>
                            <li>ë‹¤ì–‘í•œ í¬ë§· ì§€ì› (MP4, 3GP ë“±)</li>
                            <li>ì¹´ë©”ë¼/ë§ˆì´í¬ í†µí•©</li>
                            <li>ì‹¤ì‹œê°„ ì¸ì½”ë”©</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”—</span>
                        JNI Bridge
                    </h3>
                    <div class="card-description">
                        <p>Java-Native ì—°ê²°</p>
                        <ul>
                            <li>Java API â†’ C++ Native ì½”ë“œ ë³€í™˜</li>
                            <li>íƒ€ì… ë§¤í•‘ ë° ë©”ëª¨ë¦¬ ê´€ë¦¬</li>
                            <li>ì˜ˆì™¸ ì²˜ë¦¬ ë¸Œë¦¿ì§€</li>
                            <li><code>android_media_MediaPlayer.cpp</code></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Native Framework -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">3</span>
                Native Framework Layer
            </h2>
            <p class="section-description">
                C++ë¡œ êµ¬í˜„ëœ í•µì‹¬ ë¯¸ë””ì–´ ì²˜ë¦¬ ì—”ì§„ì…ë‹ˆë‹¤. Stagefright ì—”ì§„ì„ ì¤‘ì‹¬ìœ¼ë¡œ êµ¬ì„±ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
            </p>

            <div class="diagram-container">
                <div class="mermaid">
                    graph LR
                    subgraph STAGEFRIGHT["Stagefright Engine"]
                    ME["MediaExtractor<br />(Demuxer)"]
                    NP["NuPlayer<br />(Player Engine)"]
                    CC["CCodec<br />(Codec2)"]
                    AC["ACodec<br />(OpenMAX)"]
                    end

                    subgraph COMPONENTS["Core Components"]
                    LM["libmedia<br />(IPC Client)"]
                    LS["libstagefright<br />(Core Logic)"]
                    end

                    APP["Application<br />Framework"] --> LM
                    LM --> ME
                    ME --> NP
                    NP --> CC & AC
                    NP --> LS

                    style STAGEFRIGHT fill:#1a1f35,stroke:#7c3aed,stroke-width:2px
                    style COMPONENTS fill:#1a1f35,stroke:#00d4ff,stroke-width:2px
                    style CC fill:#0a0e1a,stroke:#00d4ff,stroke-width:2px
                    style AC fill:#0a0e1a,stroke:#6b7280,stroke-width:1px,stroke-dasharray: 5 5
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“¦</span>
                        MediaExtractor
                    </h3>
                    <div class="card-description">
                        <p>ë¯¸ë””ì–´ ì»¨í…Œì´ë„ˆ íŒŒì‹±</p>
                        <ul>
                            <li>ë‹¤ì–‘í•œ ì»¨í…Œì´ë„ˆ í¬ë§· ì§€ì› (MP4, MKV, WebM)</li>
                            <li>íŠ¸ë™ ë¶„ë¦¬ (ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤)</li>
                            <li>ë©”íƒ€ë°ì´í„° ì¶”ì¶œ</li>
                            <li>APEX ëª¨ë“ˆë¡œ ì—…ë°ì´íŠ¸ ê°€ëŠ¥</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">â–¶ï¸</span>
                        NuPlayer
                    </h3>
                    <div class="card-description">
                        <p>í†µí•© ì¬ìƒ ì—”ì§„ (Android 5.0+)</p>
                        <ul>
                            <li>ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤ ë™ê¸°í™”</li>
                            <li>ë²„í¼ ê´€ë¦¬ ë° ìŠ¤ì¼€ì¤„ë§</li>
                            <li>ë””ì½”ë” ì œì–´</li>
                            <li>ë Œë”ëŸ¬ (AudioTrack, Surface) ì—°ê²°</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ†•</span>
                        CCodec
                        <span class="tag tag-new">Modern</span>
                    </h3>
                    <div class="card-description">
                        <p>Codec2 Framework ì§„ì…ì </p>
                        <ul>
                            <li><code>/frameworks/av/media/codec2/sfplugin/</code></li>
                            <li>ACodecê³¼ ì¼ê´€ëœ API ì œê³µ</li>
                            <li>Codec2Clientì™€ ìƒí˜¸ì‘ìš©</li>
                            <li>ì œë¡œì¹´í”¼ ë²„í¼ ì±„ë„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”™</span>
                        ACodec
                        <span class="tag tag-legacy">Legacy</span>
                    </h3>
                    <div class="card-description">
                        <p>OpenMAX IL ì§„ì…ì </p>
                        <ul>
                            <li>Android 9 ì´í•˜ì—ì„œ ì£¼ë¡œ ì‚¬ìš©</li>
                            <li>OMXCodec ë˜í¼</li>
                            <li>í•˜ìœ„ í˜¸í™˜ì„± ì œê³µ</li>
                            <li>Codec2ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤‘</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3.5: Codec2 Architecture -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">3.5</span>
                Codec2 ì•„í‚¤í…ì²˜
                <span class="tag tag-new">Android 10+</span>
            </h2>
            <p class="section-description">
                Codec2ëŠ” OpenMAX ILì„ ëŒ€ì²´í•˜ëŠ” í˜„ëŒ€ì ì¸ ì½”ë± í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.
                ì„±ëŠ¥ í–¥ìƒ, ëª¨ë“ˆí™”, ë©”ì¸ë¼ì¸ ì—…ë°ì´íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
            </p>

            <div class="diagram-container">
                <div class="mermaid">
                    graph TB
                    subgraph APP_LAYER["Application Layer"]
                    MC["MediaCodec API"]
                    end

                    subgraph CCODEC["CCodec Layer"]
                    CC_MAIN["CCodec<br />(Entry Point)"]
                    CC_BUFFER["CCodecBufferChannel<br />(Zero-Copy Buffers)"]
                    CC_CLIENT["Codec2Client"]
                    end

                    subgraph C2_CORE["Codec2 Core"]
                    C2_COMP["C2Component<br />(Decoder/Encoder)"]
                    C2_STORE["C2ComponentStore<br />(Factory)"]
                    C2_PARAM["C2Params<br />(Configuration)"]
                    end

                    subgraph C2_IMPL["Component Implementations"]
                    C2_SW["Software Codecs<br />(c2.android.*)"]
                    C2_HW["Hardware Codecs<br />(c2.vendor.*)"]
                    end

                    subgraph C2_HAL["Codec2 HAL"]
                    HAL_INTF["android.hardware<br />.media.c2@1.x"]
                    end

                    MC --> CC_MAIN
                    CC_MAIN --> CC_BUFFER & CC_CLIENT
                    CC_CLIENT --> C2_COMP & C2_STORE
                    C2_COMP --> C2_PARAM
                    C2_STORE --> C2_SW & C2_HW
                    C2_HW --> HAL_INTF

                    style APP_LAYER fill:#1a1f35,stroke:#00d4ff,stroke-width:2px
                    style CCODEC fill:#1a1f35,stroke:#7c3aed,stroke-width:2px
                    style C2_CORE fill:#1a1f35,stroke:#00d4ff,stroke-width:3px
                    style C2_IMPL fill:#1a1f35,stroke:#ec4899,stroke-width:2px
                    style C2_HAL fill:#1a1f35,stroke:#ec4899,stroke-width:2px
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Œ</span>
                        Codec2Client
                    </h3>
                    <div class="card-description">
                        <p>Codec2 Framework ì§„ì…ì </p>
                        <ul>
                            <li>Component ë° Interface ê°ì²´ ìƒì„±</li>
                            <li>Vendor ComponentStore ì ‘ê·¼</li>
                            <li>ë¦¬ìŠ¤ë„ˆ ì½œë°± ê´€ë¦¬</li>
                            <li>HIDL/AIDL í†µì‹ </li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        C2Component
                    </h3>
                    <div class="card-description">
                        <p>ì‹¤ì œ ì½”ë± ì»´í¬ë„ŒíŠ¸</p>
                        <ul>
                            <li>íŠ¹ì • ì½”ë± êµ¬í˜„ (H.264, VP8, VP9, AV1)</li>
                            <li>ê³ ìœ í•œ ì»´í¬ë„ŒíŠ¸ ì´ë¦„ (<code>c2.android.*</code>)</li>
                            <li>ì‘ì—… í ì²˜ë¦¬ (Input/Output)</li>
                            <li>íŒŒë¼ë¯¸í„° ì¿¼ë¦¬ ë° ì„¤ì •</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ­</span>
                        C2ComponentStore
                    </h3>
                    <div class="card-description">
                        <p>ì»´í¬ë„ŒíŠ¸ íŒ©í† ë¦¬ ë° ê´€ë¦¬</p>
                        <ul>
                            <li>Component ìƒì„± ë° ë¼ì´í”„ì‚¬ì´í´ ê´€ë¦¬</li>
                            <li>C2PlatformComponentStore êµ¬í˜„</li>
                            <li>ë²¤ë”ë³„ ì»¤ìŠ¤í…€ êµ¬í˜„ ê°€ëŠ¥</li>
                            <li>APEX íŒ¨í‚¤ì§• ì§€ì›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš¡</span>
                        C2BufferChannel
                    </h3>
                    <div class="card-description">
                        <p>ì œë¡œì¹´í”¼ ë²„í¼ ê´€ë¦¬</p>
                        <ul>
                            <li>íš¨ìœ¨ì ì¸ ë²„í¼ ì „ë‹¬ (Zero-Copy)</li>
                            <li>Shared Memory í™œìš©</li>
                            <li>ì„±ëŠ¥ ìµœì í™” í•µì‹¬ ìš”ì†Œ</li>
                            <li>ì…ì¶œë ¥ ë²„í¼ ìŠ¤ì¼€ì¤„ë§</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš™ï¸</span>
                        C2Params
                    </h3>
                    <div class="card-description">
                        <p>ì„¤ì • íŒŒë¼ë¯¸í„°</p>
                        <ul>
                            <li><strong>ì •ì  íŒŒë¼ë¯¸í„°:</strong> í•´ìƒë„, í”„ë¡œíŒŒì¼, í‚¤í”„ë ˆì„ ê°„ê²©</li>
                            <li><strong>ë™ì  íŒŒë¼ë¯¸í„°:</strong> ë¹„íŠ¸ë ˆì´íŠ¸, í”„ë ˆì„ë ˆì´íŠ¸, í‚¤í”„ë ˆì„ ìš”ì²­</li>
                            <li>íƒ€ì…ë³„ ê³ ìœ í•œ C2Param êµ¬ì¡°</li>
                            <li>ì»´í¬ë„ŒíŠ¸ë³„ ì„¤ì • ê°€ëŠ¥</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“¦</span>
                        ë©”ì¸ë¼ì¸ ëª¨ë“ˆ
                    </h3>
                    <div class="card-description">
                        <p>Google ê´€ë¦¬ ì—…ë°ì´íŠ¸</p>
                        <ul>
                            <li>ì œì¡°ì‚¬ê°€ ì§ì ‘ ìˆ˜ì • ë¶ˆê°€</li>
                            <li>Play Storeë¥¼ í†µí•œ ë³´ì•ˆ ì—…ë°ì´íŠ¸</li>
                            <li>ë‹¨í¸í™” ê°ì†Œ</li>
                            <li>ë¹ ë¥¸ ë²„ê·¸ ìˆ˜ì • ë° ê¸°ëŠ¥ ì¶”ê°€</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Codec2 vs OpenMAX Comparison -->
            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                ğŸ”„ Codec2 vs OpenMAX IL ë¹„êµ
            </h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>í•­ëª©</th>
                        <th>Codec2 (C2)</th>
                        <th>OpenMAX IL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>ë„ì… ì‹œê¸°</strong></td>
                        <td>Android 10 (2019)</td>
                        <td>ì´ˆê¸° Android ë²„ì „</td>
                    </tr>
                    <tr>
                        <td><strong>ë²„í¼ ê´€ë¦¬</strong></td>
                        <td>Zero-Copy (ê³µìœ  ë©”ëª¨ë¦¬)</td>
                        <td>ë²„í¼ ë³µì‚¬ í•„ìš”</td>
                    </tr>
                    <tr>
                        <td><strong>ì„±ëŠ¥</strong></td>
                        <td>ë†’ìŒ (ë³µì‚¬ ì˜¤ë²„í—¤ë“œ ì œê±°)</td>
                        <td>ìƒëŒ€ì ìœ¼ë¡œ ë‚®ìŒ</td>
                    </tr>
                    <tr>
                        <td><strong>ëª¨ë“ˆí™”</strong></td>
                        <td>ë©”ì¸ë¼ì¸ ëª¨ë“ˆ (Google ê´€ë¦¬)</td>
                        <td>ì‹œìŠ¤í…œ ì´ë¯¸ì§€ì— í¬í•¨</td>
                    </tr>
                    <tr>
                        <td><strong>ì—…ë°ì´íŠ¸</strong></td>
                        <td>Play Store í†µí•´ ë…ë¦½ ì—…ë°ì´íŠ¸</td>
                        <td>ì‹œìŠ¤í…œ OTA í•„ìš”</td>
                    </tr>
                    <tr>
                        <td><strong>í™•ì¥ì„±</strong></td>
                        <td>ì»´í¬ë„ŒíŠ¸ ì²´ì´ë‹, í•„í„° ì§€ì›</td>
                        <td>ì œí•œì </td>
                    </tr>
                    <tr>
                        <td><strong>ì„¤ì • ê´€ë¦¬</strong></td>
                        <td>C2Params (íƒ€ì… ì•ˆì „)</td>
                        <td>OMX Index (ëœ ì•ˆì „)</td>
                    </tr>
                    <tr>
                        <td><strong>HAL ì¸í„°í˜ì´ìŠ¤</strong></td>
                        <td>HIDL/AIDL ê¸°ë°˜</td>
                        <td>OMX IL ì¸í„°í˜ì´ìŠ¤</td>
                    </tr>
                    <tr>
                        <td><strong>í˜„ì¬ ìƒíƒœ</strong></td>
                        <td>í™œì„± ê°œë°œ ë° ê¶Œì¥</td>
                        <td>ë ˆê±°ì‹œ, ë‹¨ê³„ì  íê¸°</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 4: Media Server -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">4</span>
                Media Server
            </h2>
            <p class="section-description">
                ë¯¸ë””ì–´ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ëŠ” ì‹œìŠ¤í…œ í”„ë¡œì„¸ìŠ¤ì…ë‹ˆë‹¤. Binder IPCë¥¼ í†µí•´ í´ë¼ì´ì–¸íŠ¸ì™€ í†µì‹ í•©ë‹ˆë‹¤.
            </p>

            <div class="diagram-container">
                <div class="mermaid">
                    graph TB
                    subgraph CLIENT["Client Process"]
                    C1["MediaPlayer<br />(App)"]
                    end

                    subgraph BINDER["Binder IPC"]
                    B1["IMediaPlayer<br />(Interface)"]
                    end

                    subgraph SERVER["Media Server Process"]
                    MS["MediaPlayerService"]
                    AF["AudioFlinger"]
                    CS["CameraService"]
                    end

                    subgraph HAL_LAYER["HAL Layer"]
                    AHAL["Audio HAL"]
                    CHAL["Camera HAL"]
                    end

                    C1 -->|"IPC Call"| B1
                    B1 --> MS
                    MS --> AF & CS
                    AF --> AHAL
                    CS --> CHAL

                    style CLIENT fill:#1a1f35,stroke:#00d4ff,stroke-width:2px
                    style BINDER fill:#1a1f35,stroke:#9ca3af,stroke-width:1px
                    style SERVER fill:#1a1f35,stroke:#7c3aed,stroke-width:2px
                    style HAL_LAYER fill:#1a1f35,stroke:#ec4899,stroke-width:2px
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ®</span>
                        MediaPlayerService
                    </h3>
                    <div class="card-description">
                        <p>ë¯¸ë””ì–´ ì¬ìƒ ì„œë¹„ìŠ¤</p>
                        <ul>
                            <li>MediaPlayer ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ê´€ë¦¬</li>
                            <li>Stagefright ì—”ì§„ ì„ íƒ ë° ì œì–´</li>
                            <li>í´ë¼ì´ì–¸íŠ¸ë³„ ì„¸ì…˜ ê´€ë¦¬</li>
                            <li>ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ ë° ìš°ì„ ìˆœìœ„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Š</span>
                        AudioFlinger
                    </h3>
                    <div class="card-description">
                        <p>ì˜¤ë””ì˜¤ ë¯¹ì‹± ì—”ì§„</p>
                        <ul>
                            <li>ì—¬ëŸ¬ ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ ë¯¹ì‹±</li>
                            <li>Audio HALê³¼ ì§ì ‘ í†µì‹ </li>
                            <li>ìƒ˜í”Œë ˆì´íŠ¸ ë³€í™˜</li>
                            <li>ì˜¤ë””ì˜¤ ì´í™íŠ¸ ì ìš©</li>
                            <li>ì˜¤ë””ì˜¤ ë¼ìš°íŒ… ì œì–´</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“¸</span>
                        CameraService
                    </h3>
                    <div class="card-description">
                        <p>ì¹´ë©”ë¼ ê´€ë¦¬ ì„œë¹„ìŠ¤</p>
                        <ul>
                            <li>ì¹´ë©”ë¼ ì¥ì¹˜ ì—°ê²° ë° ì œì–´</li>
                            <li>Camera HAL ì¸í„°í˜ì´ìŠ¤</li>
                            <li>í”„ë ˆì„ ìº¡ì²˜ ë° ìŠ¤íŠ¸ë¦¬ë°</li>
                            <li>ë©€í‹° ì¹´ë©”ë¼ ì§€ì›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”—</span>
                        Binder IPC
                    </h3>
                    <div class="card-description">
                        <p>í”„ë¡œì„¸ìŠ¤ ê°„ í†µì‹ </p>
                        <ul>
                            <li>í´ë¼ì´ì–¸íŠ¸-ì„œë²„ RPC ë©”ì»¤ë‹ˆì¦˜</li>
                            <li>í”„ë¡ì‹œ ë° ìŠ¤í… ìë™ ìƒì„±</li>
                            <li>ê³µìœ  ë©”ëª¨ë¦¬ ì§€ì›</li>
                            <li><code>/frameworks/av/media/libmedia</code></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: HAL Layer -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">5</span>
                Hardware Abstraction Layer (HAL)
                <span class="tag tag-hal">Hardware</span>
            </h2>
            <p class="section-description">
                í•˜ë“œì›¨ì–´ ì¶”ìƒí™” ê³„ì¸µìœ¼ë¡œ, Android Frameworkì™€ í•˜ë“œì›¨ì–´ ë“œë¼ì´ë²„ ì‚¬ì´ì˜ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸµ</span>
                        Audio HAL
                    </h3>
                    <div class="card-description">
                        <p>ì˜¤ë””ì˜¤ í•˜ë“œì›¨ì–´ ì¸í„°í˜ì´ìŠ¤ (AIDL)</p>
                        <ul>
                            <li><strong>Core HAL:</strong> AudioFlingerê°€ ì‚¬ìš©í•˜ëŠ” ë©”ì¸ API</li>
                            <li><strong>Effects HAL:</strong> ì˜¤ë””ì˜¤ ì´í™íŠ¸ ì œì–´ (AGC, NS)</li>
                            <li><strong>Common HAL:</strong> ê³µí†µ ë°ì´í„° íƒ€ì… ë¼ì´ë¸ŒëŸ¬ë¦¬</li>
                            <li>Android 14+ëŠ” AIDL ê¸°ë°˜</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¬</span>
                        Codec2 HAL
                    </h3>
                    <div class="card-description">
                        <p>ë¹„ë””ì˜¤/ì˜¤ë””ì˜¤ ì½”ë± HAL</p>
                        <ul>
                            <li><code>android.hardware.media.c2@1.x</code></li>
                            <li>í•˜ë“œì›¨ì–´ ì¸ì½”ë”/ë””ì½”ë” ì ‘ê·¼</li>
                            <li>ë²¤ë”ë³„ ì»¤ìŠ¤í…€ ì½”ë± ì§€ì›</li>
                            <li>C2ComponentStore êµ¬í˜„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“·</span>
                        Camera HAL
                    </h3>
                    <div class="card-description">
                        <p>ì¹´ë©”ë¼ í•˜ë“œì›¨ì–´ ì¸í„°í˜ì´ìŠ¤</p>
                        <ul>
                            <li>HAL3 (Camera2 APIìš©)</li>
                            <li>íŒŒì´í”„ë¼ì¸ ì„¤ì • ë° ì œì–´</li>
                            <li>ìº¡ì²˜ ìš”ì²­ ì²˜ë¦¬</li>
                            <li>ë©”íƒ€ë°ì´í„° ë° ì´ë¯¸ì§€ ìŠ¤íŠ¸ë¦¼</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”™</span>
                        OpenMAX IL (ë ˆê±°ì‹œ)
                        <span class="tag tag-legacy">Deprecated</span>
                    </h3>
                    <div class="card-description">
                        <p>ë ˆê±°ì‹œ ì½”ë± ì¸í„°í˜ì´ìŠ¤</p>
                        <ul>
                            <li>Android 9 ì´í•˜ì—ì„œ ì‚¬ìš©</li>
                            <li>Khronos í‘œì¤€ ê¸°ë°˜</li>
                            <li>í¬íŠ¸ ê¸°ë°˜ ë²„í¼ í†µì‹ </li>
                            <li>Android 10+ì—ì„œ Codec2ë¡œ ëŒ€ì²´</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: Video Playback Flow -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">6</span>
                ë¹„ë””ì˜¤ ì¬ìƒ í”Œë¡œìš°
            </h2>
            <p class="section-description">
                ë¹„ë””ì˜¤ íŒŒì¼ì´ ì¬ìƒë  ë•Œ ê° ë ˆì´ì–´ë¥¼ ê±°ì¹˜ë©° ë°ì´í„°ê°€ ì–´ë–»ê²Œ ë³€í™˜ë˜ê³  ì²˜ë¦¬ë˜ëŠ”ì§€ ë³´ì—¬ì¤ë‹ˆë‹¤.
            </p>

            <div class="diagram-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App as Application
                    participant MP as MediaPlayer
                    participant NP as NuPlayer
                    participant ME as MediaExtractor
                    participant CC as CCodec
                    participant C2 as C2Component
                    participant HAL as Codec2 HAL
                    participant HW as Hardware Decoder
                    participant SF as Surface

                    App->>MP: setDataSource(url)
                    App->>MP: prepare()
                    MP->>NP: ì´ˆê¸°í™”
                    NP->>ME: ì»¨í…Œì´ë„ˆ íŒŒì‹±
                    ME-->>NP: ë¹„ë””ì˜¤ íŠ¸ë™ ì •ë³´
                    NP->>CC: ë””ì½”ë” ìƒì„± ìš”ì²­
                    CC->>C2: Codec2Client.createComponent()
                    C2->>HAL: í•˜ë“œì›¨ì–´ ì½”ë± í™•ì¸
                    HAL-->>C2: ì»´í¬ë„ŒíŠ¸ ìƒì„±

                    App->>MP: start()
                    loop ì¬ìƒ ë£¨í”„
                    NP->>ME: getSample()
                    ME-->>NP: ì••ì¶•ëœ ë¹„ë””ì˜¤ í”„ë ˆì„
                    NP->>CC: queueInputBuffer()
                    CC->>C2: queue() - Zero-Copy
                    C2->>HW: í•˜ë“œì›¨ì–´ ë””ì½”ë”©
                    HW-->>C2: ë””ì½”ë”©ëœ í”„ë ˆì„
                    C2-->>CC: dequeueOutputBuffer()
                    CC-->>NP: ë””ì½”ë”©ëœ í”„ë ˆì„
                    NP->>SF: renderToSurface()
                    end

                    App->>MP: stop()
                    MP->>NP: ì •ì§€
                    NP->>CC: ë””ì½”ë” í•´ì œ
                    CC->>C2: ì»´í¬ë„ŒíŠ¸ í•´ì œ
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.3rem; margin-top: 30px; margin-bottom: 15px;">
                ğŸ“‹ ë‹¨ê³„ë³„ ìƒì„¸ ì„¤ëª…
            </h3>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">1ï¸âƒ£ ì†ŒìŠ¤ ì„¤ì •</h3>
                    <div class="card-description">
                        <ul>
                            <li>ì•±ì—ì„œ <code>MediaPlayer.setDataSource()</code> í˜¸ì¶œ</li>
                            <li>ë¡œì»¬ íŒŒì¼ ë˜ëŠ” ë„¤íŠ¸ì›Œí¬ URL ì§€ì •</li>
                            <li>NuPlayer ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">2ï¸âƒ£ ì»¨í…Œì´ë„ˆ íŒŒì‹±</h3>
                    <div class="card-description">
                        <ul>
                            <li>MediaExtractorê°€ MP4/MKV ì»¨í…Œì´ë„ˆ ë¶„ì„</li>
                            <li>ë¹„ë””ì˜¤/ì˜¤ë””ì˜¤/ìë§‰ íŠ¸ë™ ì‹ë³„</li>
                            <li>ì½”ë± ì •ë³´ ë° ë©”íƒ€ë°ì´í„° ì¶”ì¶œ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">3ï¸âƒ£ ë””ì½”ë” ìƒì„±</h3>
                    <div class="card-description">
                        <ul>
                            <li>CCodecì„ í†µí•´ Codec2Client í˜¸ì¶œ</li>
                            <li>ì ì ˆí•œ C2Component ì„ íƒ (H.264, VP9 ë“±)</li>
                            <li>í•˜ë“œì›¨ì–´ ì½”ë± ìš°ì„ , ì†Œí”„íŠ¸ì›¨ì–´ ì½”ë± ëŒ€ì²´</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">4ï¸âƒ£ ë””ì½”ë”© ë£¨í”„</h3>
                    <div class="card-description">
                        <ul>
                            <li>ì••ì¶•ëœ í”„ë ˆì„ì„ ì…ë ¥ ë²„í¼ì— íì‰</li>
                            <li>ì œë¡œì¹´í”¼ë¡œ í•˜ë“œì›¨ì–´ ë””ì½”ë”ì— ì „ë‹¬</li>
                            <li>ë””ì½”ë”©ëœ YUV í”„ë ˆì„ ìˆ˜ì‹ </li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">5ï¸âƒ£ ë Œë”ë§</h3>
                    <div class="card-description">
                        <ul>
                            <li>ë””ì½”ë”©ëœ í”„ë ˆì„ì„ Surfaceë¡œ ì „ë‹¬</li>
                            <li>SurfaceFlingerê°€ í™”ë©´ í•©ì„±</li>
                            <li>ì˜¤ë””ì˜¤ì™€ ë™ê¸°í™” (A/V Sync)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">6ï¸âƒ£ ì •ë¦¬</h3>
                    <div class="card-description">
                        <ul>
                            <li>ì¬ìƒ ì¢…ë£Œ ì‹œ ë””ì½”ë” í•´ì œ</li>
                            <li>ë²„í¼ ë©”ëª¨ë¦¬ í•´ì œ</li>
                            <li>í•˜ë“œì›¨ì–´ ë¦¬ì†ŒìŠ¤ ë°˜í™˜</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 7: Audio Playback Flow -->
        <section class="section">
            <h2 class="section-title">
                <span class="section-number">7</span>
                ì˜¤ë””ì˜¤ ì¬ìƒ í”Œë¡œìš°
            </h2>
            <p class="section-description">
                ì˜¤ë””ì˜¤ íŒŒì¼ì´ ì¬ìƒë  ë•Œì˜ ë°ì´í„° íë¦„ê³¼ ê° ì»´í¬ë„ŒíŠ¸ì˜ ì—­í• ì„ ì‹œê°í™”í•©ë‹ˆë‹¤.
            </p>

            <div class="diagram-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App as Application
                    participant MP as MediaPlayer
                    participant NP as NuPlayer
                    participant ME as MediaExtractor
                    participant C2 as C2Component<br />(Audio Decoder)
                    participant AF as AudioFlinger
                    participant AHAL as Audio HAL
                    participant SPK as Speaker

                    App->>MP: setDataSource(audio.mp3)
                    App->>MP: prepare()
                    MP->>NP: ì´ˆê¸°í™”
                    NP->>ME: MP3 íŒŒì‹±
                    ME-->>NP: ì˜¤ë””ì˜¤ íŠ¸ë™ (AAC/MP3)
                    NP->>C2: ì˜¤ë””ì˜¤ ë””ì½”ë” ìƒì„±

                    App->>MP: start()
                    loop ì¬ìƒ ë£¨í”„
                    NP->>ME: getSample()
                    ME-->>NP: ì••ì¶•ëœ ì˜¤ë””ì˜¤ í”„ë ˆì„
                    NP->>C2: ë””ì½”ë”© ìš”ì²­
                    C2-->>NP: PCM ë°ì´í„°
                    NP->>AF: AudioTrack.write()
                    AF->>AF: ë¯¹ì‹± & ì´í™íŠ¸
                    AF->>AHAL: ì˜¤ë””ì˜¤ ì¶œë ¥
                    AHAL->>SPK: ì¬ìƒ
                    end

                    App->>MP: stop()
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¼</span>
                        ì••ì¶• í¬ë§·
                    </h3>
                    <div class="card-description">
                        <p>ì…ë ¥ ì˜¤ë””ì˜¤ í¬ë§·</p>
                        <ul>
                            <li>AAC (Advanced Audio Coding)</li>
                            <li>MP3 (MPEG Audio Layer 3)</li>
                            <li>Opus, Vorbis, FLAC</li>
                            <li>ë¹„íŠ¸ë ˆì´íŠ¸: 128-320 kbps (MP3)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”§</span>
                        ë””ì½”ë”©
                    </h3>
                    <div class="card-description">
                        <p>ì˜¤ë””ì˜¤ ë””ì½”ë” ì²˜ë¦¬</p>
                        <ul>
                            <li>C2Component (ì†Œí”„íŠ¸ì›¨ì–´ ë””ì½”ë”)</li>
                            <li>ì••ì¶• â†’ PCM ë³€í™˜</li>
                            <li>ìƒ˜í”Œë ˆì´íŠ¸: 44.1kHz / 48kHz</li>
                            <li>ì±„ë„: ìŠ¤í…Œë ˆì˜¤ (2ch) / ë©€í‹°ì±„ë„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸšï¸</span>
                        AudioFlinger
                    </h3>
                    <div class="card-description">
                        <p>ì˜¤ë””ì˜¤ ë¯¹ì‹± ë° ì²˜ë¦¬</p>
                        <ul>
                            <li>ì—¬ëŸ¬ AudioTrack ë¯¹ì‹±</li>
                            <li>ë³¼ë¥¨ ì¡°ì • ë° í˜ì´ë“œ</li>
                            <li>ì´í™íŠ¸ ì ìš© (EQ, Reverb)</li>
                            <li>ìƒ˜í”Œë ˆì´íŠ¸ ë¦¬ìƒ˜í”Œë§</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Š</span>
                        Audio HAL
                    </h3>
                    <div class="card-description">
                        <p>í•˜ë“œì›¨ì–´ ì˜¤ë””ì˜¤ ì¶œë ¥</p>
                        <ul>
                            <li>PCM ë°ì´í„° â†’ í•˜ë“œì›¨ì–´ ì „ë‹¬</li>
                            <li>ALSA/OSS ë“œë¼ì´ë²„ ì œì–´</li>
                            <li>ì˜¤ë””ì˜¤ ë¼ìš°íŒ… (ìŠ¤í”¼ì»¤/í—¤ë“œí°)</li>
                            <li>ì €ì „ë ¥ ì˜¤ë””ì˜¤ ê²½ë¡œ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.3rem; margin-top: 40px; margin-bottom: 15px;">
                ğŸ”„ ë²„í¼ ê´€ë¦¬ ë° ë™ê¸°í™”
            </h3>

            <div class="card">
                <div class="card-description">
                    <p><strong>ë²„í¼ í”Œë¡œìš°:</strong></p>
                    <ol style="margin-top: 10px; padding-left: 20px;">
                        <li><strong>ì…ë ¥ ë²„í¼:</strong> MediaExtractorì—ì„œ ì••ì¶•ëœ ì˜¤ë””ì˜¤ í”„ë ˆì„ ì¶”ì¶œ</li>
                        <li><strong>ë””ì½”ë” ë²„í¼:</strong> C2Componentê°€ ì••ì¶• í•´ì œí•˜ì—¬ PCM ìƒì„±</li>
                        <li><strong>AudioTrack ë²„í¼:</strong> NuPlayerê°€ PCM ë°ì´í„°ë¥¼ AudioFlingerì— ì „ë‹¬</li>
                        <li><strong>HAL ë²„í¼:</strong> AudioFlingerê°€ ë¯¹ì‹± í›„ Audio HALë¡œ ì „ë‹¬</li>
                        <li><strong>í•˜ë“œì›¨ì–´ ë²„í¼:</strong> DMAë¥¼ í†µí•´ ìŠ¤í”¼ì»¤ë¡œ ì¬ìƒ</li>
                    </ol>

                    <p style="margin-top: 20px;"><strong>ì§€ì—° ìµœì†Œí™”:</strong></p>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>ì‘ì€ ë²„í¼ í¬ê¸°ë¡œ ë ˆì´í„´ì‹œ ê°ì†Œ</li>
                        <li>Fast Audio Path (ì €ì „ë ¥ ëª¨ë“œ)</li>
                        <li>AAudio API (ì €ì§€ì—° ì˜¤ë””ì˜¤)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer
            style="text-align: center; padding: 40px 20px; color: var(--text-muted); border-top: 1px solid var(--border-color); margin-top: 60px;">
            <p>AOSP Media Framework Architecture Visualization</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">
                Based on Android 10+ (Codec2) and latest AOSP documentation
            </p>
        </footer>
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#1a1f35',
                primaryTextColor: '#e5e7eb',
                primaryBorderColor: '#00d4ff',
                lineColor: '#7c3aed',
                secondaryColor: '#111827',
                tertiaryColor: '#0a0e1a',
                background: '#0a0e1a',
                mainBkg: '#1a1f35',
                secondBkg: '#111827',
                border1: '#00d4ff',
                border2: '#7c3aed',
                note: '#ec4899',
                noteBkgColor: 'rgba(236, 72, 153, 0.1)',
                noteBorderColor: '#ec4899',
                fontFamily: 'Noto Sans KR'
            },
            flowchart: {
                curve: 'basis',
                padding: 20,
                nodeSpacing: 50,
                rankSpacing: 50
            },
            sequence: {
                diagramMarginX: 50,
                diagramMarginY: 10,
                actorMargin: 50,
                width: 150,
                height: 65,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35
            }
        });

        // Add scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(30px)';
            section.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
            observer.observe(section);
        });
    </script>
</body>

</html>