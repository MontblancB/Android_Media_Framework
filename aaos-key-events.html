<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AAOS Key Event Handling | Android Media Framework</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=JetBrains+Mono:wght@400;500;700&display=swap"
        rel="stylesheet">

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #0a0e1a;
            --bg-secondary: #111827;
            --bg-card: #1a1f35;
            --bg-card-hover: #222844;

            /* Enhanced Palette */
            --accent-blue: #3b82f6;
            --accent-indigo: #6366f1;
            --accent-teal: #14b8a6;
            --accent-green: #10b981;
            --accent-rose: #f43f5e;
            --accent-amber: #f59e0b;

            --text-primary: #e5e7eb;
            --text-secondary: #9ca3af;
            --text-muted: #6b7280;
            --border-color: rgba(255, 255, 255, 0.1);
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #0f1419 50%, #0f172a 100%);
            color: var(--text-primary);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .nav {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }

        .nav-button {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: rgba(26, 31, 53, 0.9);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .nav-button:hover {
            background: rgba(59, 130, 246, 0.1);
            border-color: var(--accent-blue);
            transform: translateX(-5px);
        }

        header {
            text-align: center;
            margin-bottom: 60px;
            margin-top: 40px;
            padding: 80px 20px;
            background: radial-gradient(circle at top right, rgba(16, 185, 129, 0.15), transparent 40%),
                radial-gradient(circle at bottom left, rgba(99, 102, 241, 0.15), transparent 40%),
                linear-gradient(135deg, rgba(17, 24, 39, 0.8) 0%, rgba(17, 24, 39, 0.95) 100%);
            border-radius: 32px;
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 50px -10px rgba(0, 0, 0, 0.5);
        }

        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 900;
            background: linear-gradient(to right, var(--accent-green), var(--accent-teal), var(--accent-blue), var(--accent-indigo));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 20px;
            letter-spacing: -1px;
        }

        .subtitle {
            font-size: 1.3rem;
            color: var(--text-secondary);
            font-weight: 300;
        }

        /* Section Styles */
        .section {
            margin-bottom: 80px;
            padding: 40px;
            background: var(--bg-card);
            border-radius: 24px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .section:hover {
            border-color: rgba(99, 102, 241, 0.3);
            box-shadow: 0 10px 40px rgba(99, 102, 241, 0.1);
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .section-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border-radius: 14px;
            font-size: 1.3rem;
            font-weight: 900;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        /* Section Specific Colors */
        .sec-input .section-title {
            color: var(--accent-teal);
        }

        .sec-input .section-number {
            background: linear-gradient(135deg, var(--accent-teal), var(--accent-green));
        }

        .sec-car .section-title {
            color: var(--accent-indigo);
        }

        .sec-car .section-number {
            background: linear-gradient(135deg, var(--accent-indigo), var(--accent-blue));
        }

        .sec-ux .section-title {
            color: var(--accent-rose);
        }

        .sec-ux .section-number {
            background: linear-gradient(135deg, var(--accent-rose), var(--accent-amber));
        }

        .section-description {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 30px;
            padding-left: 65px;
            max-width: 900px;
        }

        /* Diagram Container */
        .diagram-container {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid var(--border-color);
            overflow-x: auto;
        }

        .mermaid {
            display: flex;
            justify-content: center;
            min-height: 300px;
        }

        /* Content Grid */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .card {
            background: var(--bg-secondary);
            padding: 30px;
            border-radius: 20px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
            position: relative;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .sec-input .card:hover {
            border-color: var(--accent-teal);
        }

        .sec-car .card:hover {
            border-color: var(--accent-indigo);
        }

        .sec-ux .card:hover {
            border-color: var(--accent-rose);
        }

        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .sec-input .card-title {
            color: var(--accent-teal);
        }

        .sec-car .card-title {
            color: var(--accent-indigo);
        }

        .sec-ux .card-title {
            color: var(--accent-rose);
        }

        .card-icon {
            font-size: 1.5rem;
        }

        .card-description {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.7;
        }

        .card-description ul {
            margin-top: 10px;
            padding-left: 20px;
        }

        .card-description li {
            margin-bottom: 8px;
        }

        .card-description ol {
            margin-top: 10px;
            padding-left: 20px;
        }

        /* Code styling */
        code {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(255, 255, 255, 0.05);
            padding: 2px 6px;
            border-radius: 4px;
            color: var(--accent-blue);
            font-size: 0.9em;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-primary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-muted);
        }
    </style>
</head>

<body>
    <nav class="nav">
        <a href="index.html" class="nav-button">
            â† Android Media
        </a>
    </nav>

    <div class="container">
        <header>
            <h1>AAOS Key Event Handling</h1>
            <p class="subtitle">Architecture and flow of key events in Android Automotive OS, from hardware input to
                app-level handling.</p>
        </header>

        <!-- Section 1: Input Framework (AOSP) -->
        <section class="section sec-input">
            <h2 class="section-title">
                <span class="section-number">1</span>
                Input Framework (AOSP)
            </h2>
            <p class="section-description">
                AAOSëŠ” í‘œì¤€ Android Input Frameworkë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ì§€ë§Œ, ì°¨ëŸ‰ í•˜ë“œì›¨ì–´(í•¸ë“¤ ë¦¬ëª¨ì»¨, ë¡œí„°ë¦¬ ë…¸ë¸Œ ë“±)ë¥¼ ì²˜ë¦¬í•˜ê¸° ìœ„í•´
                <strong>Vehicle HAL (VHAL)</strong>ì´ ì¶”ê°€ëœ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
            </p>
            <div class="diagram-container">
                <div class="mermaid">
                    graph TD
                    HW[Vehicle Hardware<br />Steering Wheel / Buttons] --> VHAL[Vehicle
                    HAL<br />android.hardware.automotive.vehicle]
                    VHAL -- "VEHICLE_PROPERTY_HW_KEY_INPUT" --> CarService[Car Service]
                    CarService --> InputMgr[InputManagerService]
                    InputMgr --> App[Application]

                    style VHAL fill:#10b981,stroke:#fff,color:#fff
                    style CarService fill:#3b82f6,stroke:#fff,color:#fff
                    style HW fill:#1a1f35,stroke:#9ca3af
                    style InputMgr fill:#1a1f35,stroke:#9ca3af
                    style App fill:#1a1f35,stroke:#9ca3af
                </div>
            </div>
            <p style="margin-top: 20px; color: var(--text-secondary);">
                ê¸°ë³¸ì ì¸ í‚¤ ì´ë²¤íŠ¸ëŠ” Linux Kernel Driver(evdev)ë¥¼ í†µí•´ <code>InputReader</code>ë¡œ ì „ë‹¬ë˜ì§€ë§Œ,
                ì°¨ëŸ‰ íŠ¹í™” í‚¤(Custom Input)ëŠ” VHALì„ í†µí•´ <code>CarService</code>ë¡œ ì „ë‹¬ë˜ì–´ ë³„ë„ ì²˜ë¦¬ë©ë‹ˆë‹¤.
            </p>
        </section>

        <!-- Section 2: Car Service (AAOS Specific) -->
        <section class="section sec-car">
            <h2 class="section-title">
                <span class="section-number">2</span>
                Car Service (AAOS ì „ìš©)
            </h2>
            <p class="section-description">
                <strong>CarInputService</strong>ëŠ” AAOSì—ì„œ ì…ë ¥ ì´ë²¤íŠ¸ë¥¼ ì¤‘ì•™ì—ì„œ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ ì»´í¬ë„ŒíŠ¸ì…ë‹ˆë‹¤.
                VHALë¡œë¶€í„° ë°›ì€ ì´ë²¤íŠ¸ë¥¼ ë¶„ì„í•˜ì—¬ ì ì ˆí•œ íƒ€ê²Ÿ(Cluster, Main Display, Voice Assistant ë“±)ìœ¼ë¡œ ë¼ìš°íŒ…í•©ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">ğŸš—</span> CarInputService</h3>
                    <div class="card-description">ì…ë ¥ ì´ë²¤íŠ¸ë¥¼ ëª¨ë‹ˆí„°ë§í•˜ê³  í•„í„°ë§í•©ë‹ˆë‹¤.
                        íŠ¹ìˆ˜ í‚¤(Voice, Call)ë¥¼ ê°€ë¡œì±„ê±°ë‚˜, ë¡œí„°ë¦¬ ì´ë²¤íŠ¸ë¥¼ í‘œì¤€ í‚¤ ì´ë²¤íŠ¸ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.</div>
                </div>
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">ğŸ¹</span> InstrumentClusterRenderingService</h3>
                    <div class="card-description">ê³„ê¸°íŒ(Cluster) ë””ìŠ¤í”Œë ˆì´ë¥¼ íƒ€ê²Ÿìœ¼ë¡œ í•˜ëŠ” í‚¤ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•©ë‹ˆë‹¤.
                        (ì˜ˆ: í•¸ë“¤ì˜ 'ë‹¤ìŒ ê³¡' ë²„íŠ¼ì´ ê³„ê¸°íŒ UIë¥¼ ì œì–´í•  ë•Œ)</div>
                </div>
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">ğŸ”„</span> RotaryController</h3>
                    <div class="card-description">ë¡œí„°ë¦¬ ë…¸ë¸Œ(Rotary Knob) ì…ë ¥ì„ í¬ì»¤ìŠ¤ ì´ë™(Navigation) ì´ë²¤íŠ¸ë¡œ ë³€í™˜í•˜ì—¬
                        í„°ì¹˜ ìŠ¤í¬ë¦°ì´ ì•„ë‹Œ ì¡°ì‘ê³„ì—ì„œë„ ì•±ì„ ì œì–´í•  ìˆ˜ ìˆê²Œ í•©ë‹ˆë‹¤.</div>
                </div>
            </div>
        </section>

        <!-- Section 3: Car Input / UX Restriction -->
        <section class="section sec-ux">
            <h2 class="section-title">
                <span class="section-number">3</span>
                Car Input & UX Restriction
            </h2>
            <p class="section-description">
                ìš´ì „ì ì•ˆì „ì„ ìœ„í•´ ì£¼í–‰ ìƒíƒœ(Driving State)ì— ë”°ë¼ ì…ë ¥ ë° UXê°€ ì œí•œë©ë‹ˆë‹¤.
                <strong>CarUxRestrictionsManager</strong>ëŠ” ì°¨ëŸ‰ì˜ ê¸°ì–´ ìƒíƒœ(Parked, Moving)ì— ë”°ë¼ ì•±ì˜ UI ìƒí˜¸ì‘ìš©ì„ ì œì–´í•©ë‹ˆë‹¤.
            </p>

            <div class="diagram-container">
                <div class="mermaid">
                    graph LR
                    Sensor[Gear / Speed Sensor] --> CarInfo[CarInfoManager]
                    CarInfo -- "Update State" --> UXR[CarUxRestrictionsManager]
                    UXR -- "onUxRestrictionsChanged()" --> App

                    subgraph App Logic
                    State{Is Moving?}
                    State -- Yes --> Block[Block Input / Hide Video]
                    State -- No --> Allow[Allow Full Interaction]
                    end

                    style UXR fill:#f43f5e,stroke:#fff,color:#fff
                    style Sensor fill:#1a1f35,stroke:#9ca3af
                    style CarInfo fill:#1a1f35,stroke:#9ca3af
                    style App fill:#1a1f35,stroke:#3b82f6
                    style App Logic fill:#1a1f35,stroke:#3b82f6
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">ğŸ›‘</span> Moving State</h3>
                    <div class="card-description">í‚¤ë³´ë“œ ì…ë ¥ ì°¨ë‹¨, ë¹„ë””ì˜¤ ì¬ìƒ ì¤‘ì§€, ë¦¬ìŠ¤íŠ¸ ìŠ¤í¬ë¡¤ ì œí•œ, ì„¤ì • ë©”ë‰´ ì§„ì… ì œí•œ.</div>
                </div>
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">âœ…</span> Distraction Optimized</h3>
                    <div class="card-description">ì•±ì€ <code>Distraction Optimized</code>ë¡œ íƒœê¹…ë˜ì–´ì•¼ ì£¼í–‰ ì¤‘ì—ë„ ì œí•œëœ UIë¡œ ì‹¤í–‰ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Framework Deep Dive: Media & Volume Key Flow -->
        <section class="section sec-car">
            <h2 class="section-title">
                <span class="section-number">4</span>
                Framework Deep Dive: Media & Volume Key Flow
            </h2>
            <p class="section-description">
                AAOSì—ì„œ ë¯¸ë””ì–´ í‚¤(Play/Pause)ì™€ ë³¼ë¥¨ í‚¤ëŠ” ì„œë¡œ ë‹¤ë¥¸ ê²½ë¡œë¡œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
                ë¯¸ë””ì–´ í‚¤ëŠ” <strong>MediaSessionService</strong>ë¥¼ í†µí•´ í™œì„± ì„¸ì…˜ìœ¼ë¡œ ì „ë‹¬ë˜ë©°,
                ë³¼ë¥¨ í‚¤ëŠ” <strong>CarAudioService</strong>ë¥¼ í†µí•´ í•˜ë“œì›¨ì–´ ì•°í”„ë¥¼ ì§ì ‘ ì œì–´í•©ë‹ˆë‹¤.
            </p>

            <h3 style="margin-top: 30px; margin-bottom: 16px; color: var(--accent-indigo); font-size: 1.3rem;">1. Media
                Key Dispatching Flow</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">
                ë¯¸ë””ì–´ í‚¤ ì´ë²¤íŠ¸(<code>KEYCODE_MEDIA_PLAY</code> ë“±)ëŠ” <code>CarInputService</code>ë¥¼ ê±°ì³
                Android í”„ë ˆì„ì›Œí¬ì˜ <code>MediaSessionService</code>ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.
                ì´í›„ ìš°ì„ ìˆœìœ„(Priority)ì— ë”°ë¼ ê°€ì¥ ì ì ˆí•œ MediaSessionì—ê²Œ ì „ë‹¬ë©ë‹ˆë‹¤.
            </p>
            <div class="diagram-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant HW as Vehicle HW
                    participant VHAL as Vehicle HAL
                    participant CIS as CarInputService
                    participant IMS as InputManagerService
                    participant MSS as MediaSessionService
                    participant App as Active Media App

                    HW->>VHAL: Press Play Button
                    VHAL->>CIS: VEHICLE_PROPERTY_HW_KEY_INPUT
                    CIS->>CIS: Filter & Process
                    CIS->>IMS: injectKeyEvent(KEYCODE_MEDIA_PLAY)
                    IMS->>MSS: dispatchMediaKeyEvent()
                    MSS->>MSS: Find Priority Session<br />(Active & PlaybackState)
                    MSS->>App: MediaSession.Callback.onPlay()
                    App->>App: Handle Playback
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">ğŸ¯</span> Dispatch Priority Logic</h3>
                    <div class="card-description">
                        <ol>
                            <li><strong>Active UI:</strong> í˜„ì¬ í™”ë©´ì— ë³´ì´ëŠ” ì•±ì´ ìµœìš°ì„ .</li>
                            <li><strong>Active Session:</strong> UIê°€ ì—†ë”ë¼ë„ ì¬ìƒ ì¤‘(Active)ì¸ <code>MediaSession</code>.</li>
                            <li><strong>Last Active:</strong> ê°€ì¥ ìµœê·¼ì— ì¬ìƒí–ˆë˜ ì„¸ì…˜ (Resumption ì§€ì› ì‹œ).</li>
                        </ol>
                    </div>
                </div>
            </div>

            <h3 style="margin-top: 40px; margin-bottom: 16px; color: var(--accent-indigo); font-size: 1.3rem;">2.
                Volume Key Handling Flow</h3>
            <p style="color: var(--text-secondary); margin-bottom: 20px;">
                AAOSì˜ ë³¼ë¥¨ ì œì–´ëŠ” <strong>Fixed Volume</strong> ì •ì±…ì„ ë”°ë¦…ë‹ˆë‹¤.
                ì†Œí”„íŠ¸ì›¨ì–´ ë¯¹ì„œì—ì„œ ë³¼ë¥¨ì„ ì¤„ì´ì§€ ì•Šê³ , <strong>CarAudioService</strong>ê°€ í•˜ë“œì›¨ì–´ ì•°í”„(Audio Control HAL)ì— ì§ì ‘ ê²Œì¸(Gain) ê°’ì„
                ì „ë‹¬í•©ë‹ˆë‹¤.
            </p>
            <div class="diagram-container">
                <div class="mermaid">
                    graph TD
                    HW[Volume Knob / Button] --> VHAL[Vehicle HAL]
                    VHAL -- "HW_KEY_INPUT" --> CIS[CarInputService]
                    CIS -- "KEYCODE_VOLUME_UP/DOWN" --> CAS[CarAudioService]

                    subgraph Volume Logic
                    CAS --> Group{Identify Volume Group}
                    Group -- "Music Group" --> Current[Get Current Context]
                    Group -- "Navi Group" --> Priority[Check Priority]
                    end

                    CAS -- "setGroupVolume(zone, group, index)" --> HAL[Audio Control HAL]
                    HAL -- "Apply Hardware Gain" --> Amp[Hardware Amplifier]

                    style CAS fill:#ec4899,stroke:#fff,color:#fff
                    style HAL fill:#10b981,stroke:#fff,color:#fff
                    style HW fill:#1a1f35,stroke:#9ca3af
                    style VHAL fill:#1a1f35,stroke:#9ca3af
                    style CIS fill:#1a1f35,stroke:#9ca3af
                    style Volume Logic fill:#1a1f35,stroke:#3b82f6
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">ğŸ”Š</span> Volume Groups & Audio Context</h3>
                    <div class="card-description">
                        <p>
                            <code>CarAudioService</code>ëŠ” ì˜¤ë””ì˜¤ ì†ì„±(Usage)ì— ë”°ë¼ <strong>Volume Group</strong>ì„ ê´€ë¦¬í•©ë‹ˆë‹¤.
                            ì˜ˆë¥¼ ë“¤ì–´, ë¯¸ë””ì–´ ë³¼ë¥¨ì„ ì¡°ì ˆí•  ë•Œ ë‚´ë¹„ê²Œì´ì…˜ ì•ˆë‚´ ë³¼ë¥¨ì€ ì˜í–¥ì„ ë°›ì§€ ì•Šë„ë¡ ê·¸ë£¹ë³„ë¡œ ë…ë¦½ì ì¸ ì œì–´ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: App Level Handling -->
        <section class="section sec-input">
            <h2 class="section-title">
                <span class="section-number">5</span>
                App ë ˆë²¨ ì²˜ë¦¬
            </h2>
            <p class="section-description">
                ì•± ê°œë°œìëŠ” í‘œì¤€ Android APIë¥¼ ì‚¬ìš©í•˜ì—¬ í‚¤ ì´ë²¤íŠ¸ë¥¼ ì²˜ë¦¬í•˜ë˜, AAOSì˜ íŠ¹ìˆ˜ì„±ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
            </p>

            <h3 style="margin-top: 30px; margin-bottom: 16px; color: var(--accent-teal); font-size: 1.3rem;">Best
                Practices</h3>
            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title"><span class="card-icon">âœ…</span> Checklist</h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>MediaSession Callback êµ¬í˜„:</strong> <code>onPlay()</code>,
                                <code>onPause()</code>,
                                <code>onSkipToNext()</code> ë“±ì„ êµ¬í˜„í•˜ì—¬ ë¯¸ë””ì–´ í‚¤ì— ëŒ€ì‘í•©ë‹ˆë‹¤.
                            </li>
                            <li><strong>Audio Focus ê´€ë¦¬:</strong> ì¬ìƒ ì‹œì‘ ì „ ë°˜ë“œì‹œ í¬ì»¤ìŠ¤ë¥¼ ìš”ì²­í•˜ê³ ,
                                <code>onAudioFocusChange()</code>ì—ì„œ í¬ì»¤ìŠ¤
                                ì†ì‹¤(Loss)ì— ëŒ€ì‘í•©ë‹ˆë‹¤.
                            </li>
                            <li><strong>UX Restriction ì¤€ìˆ˜:</strong> <code>CarUxRestrictionsManager</code>ë¥¼ êµ¬ë…í•˜ì—¬ ì£¼í–‰ ì¤‘ UIë¥¼
                                ë‹¨ìˆœí™”í•˜ê±°ë‚˜ ì…ë ¥ì„
                                ì°¨ë‹¨í•´ì•¼ í•©ë‹ˆë‹¤.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="diagram-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant HW as HW Button
                    participant CS as CarService
                    participant MS as MediaSession
                    participant App as Media App

                    HW->>CS: Key Event (KEYCODE_MEDIA_PLAY)
                    CS->>MS: Dispatch Media Button
                    MS->>App: onPlay() Callback
                    App->>App: requestAudioFocus()
                    App->>App: Start Playback
                </div>
            </div>
        </section>

        <a href="index.html" class="nav-button">â† Back to Dashboard</a>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                darkMode: true,
                background: '#111827',
                primaryColor: '#3b82f6',
                secondaryColor: '#ec4899',
                tertiaryColor: '#0f172a',
                primaryTextColor: '#e5e7eb',
                secondaryTextColor: '#9ca3af',
                lineColor: '#334155'
            }
        });
    </script>
</body>

</html>
```