<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Framework Core</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;600;700;900&family=IBM+Plex+Mono:wght@400;500;600&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/design-system.css">

        <style>
        /* Page-specific styles loaded from design-system.css */
    </style>
</head>

<body>
    <nav class="nav">
        <a href="index.html" class="nav-button">
            β† Android Media
        </a>
    </nav>

    <div class="container">
        <header>
            <h1 class="page-title">Media Framework Core</h1>
            <p class="page-subtitle">Android λ―Έλ””μ–΄ ν”„λ μ„μ›ν¬μ ν•µμ‹¬ μ•„ν‚¤ν…μ² λ° κ³„μΈµλ³„ μƒμ„Έ κµ¬μ΅°</p>
        </header>

        <!-- Section 1: Overall Architecture -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">1</span>
                μ „μ²΄ μ•„ν‚¤ν…μ²
            </h2>
            <p class="section-description">
                AOSP Media Frameworkλ” AOSP ν‘μ¤€ 5-layer μ•„ν‚¤ν…μ²λ¥Ό λ”°λ¥΄λ©°, κ° λ μ΄μ–΄λ” λ…ν™•ν• μΈν„°νμ΄μ¤λ΅ λ¶„λ¦¬λμ–΄ μμµλ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph Layer1["Layer 1: Application Layer"]
                        APP["Media Apps<br/>YouTube, Spotify, Camera"]
                    end

                    subgraph Layer2["Layer 2: Java API Framework"]
                        FRAMEWORK["android.media.*<br/>MediaPlayer β€Ά MediaCodec β€Ά MediaRecorder<br/>MediaSession β€Ά MediaRouter β€Ά MediaDrm"]
                    end

                    subgraph Layer3["Layer 3: Native Libraries & Runtime"]
                        ART["Android Runtime (ART)"]
                        NATIVE["Media Native Libraries<br/>libmedia β€Ά libstagefright β€Ά libmediaplayerservice<br/>NuPlayer β€Ά MediaExtractor"]
                    end

                    subgraph Layer4["Layer 4: Hardware Abstraction Layer"]
                        HAL["Media HALs<br/>Codec2 HAL β€Ά Audio HAL β€Ά Camera HAL"]
                    end

                    subgraph Layer5["Layer 5: Linux Kernel"]
                        KERNEL["Kernel Drivers<br/>ALSA β€Ά V4L2 β€Ά Hardware Codecs"]
                    end

                    APP -->|Java API| FRAMEWORK
                    FRAMEWORK -->|JNI| ART
                    ART -->|Native Calls| NATIVE
                    NATIVE -->|Binder IPC| NATIVE
                    NATIVE -->|HIDL/AIDL| HAL
                    HAL -->|System Calls| KERNEL
                </div>
            </div>

            <div class="highlight-box" style="margin-top: 30px;">
                <strong>π’΅ ν•µμ‹¬ κ°λ…</strong><br/>
                β€Ά <strong>Application Layer</strong>: λ―Έλ””μ–΄ μ•± (μ‚¬μ©μ μΈν„°νμ΄μ¤)<br/>
                β€Ά <strong>Framework</strong>: Java API (MediaPlayer, MediaCodec λ“±)<br/>
                β€Ά <strong>Native</strong>: C++ λ―Έλ””μ–΄ μ—”μ§„ (Stagefright, NuPlayer)<br/>
                β€Ά <strong>HAL</strong>: ν•λ“μ›¨μ–΄ μ¶”μƒν™” (Codec2, Audio, Camera)<br/>
                β€Ά <strong>Kernel</strong>: ν•λ“μ›¨μ–΄ λ“λΌμ΄λ²„ (ALSA, V4L2)
            </div>
        </section>

        <!-- Section 2: Application Framework -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">2</span>
                Application Framework Layer
            </h2>
            <p class="section-description">
                Android μ• ν”λ¦¬μΌ€μ΄μ…μ΄ λ―Έλ””μ–΄ κΈ°λ¥μ— μ ‘κ·Όν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” κ³ μμ¤€ Java/Kotlin APIλ“¤μ…λ‹λ‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π¬</span>
                        MediaPlayer
                    </h3>
                    <div class="card-description">
                        <p>κ³ μμ¤€ λ―Έλ””μ–΄ μ¬μƒ API</p>
                        <ul>
                            <li>μ¤λ””μ¤/λΉ„λ””μ¤ νμΌ μ¬μƒ</li>
                            <li>μ¤νΈλ¦¬λ° μ§€μ› (HTTP, RTSP)</li>
                            <li>κ°„λ‹¨ν• μ¬μƒ μ μ–΄ (play, pause, stop)</li>
                            <li>λ‚΄λ¶€μ μΌλ΅ NuPlayer μ‚¬μ©</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">β™οΈ</span>
                        MediaCodec
                    </h3>
                    <div class="card-description">
                        <p>μ €μμ¤€ μ½”λ± μ ‘κ·Ό API</p>
                        <ul>
                            <li>ν•λ“μ›¨μ–΄/μ†ν”„νΈμ›¨μ–΄ μ½”λ± μ§μ ‘ μ μ–΄</li>
                            <li>μΈμ½”λ”/λ””μ½”λ” λ²„νΌ κ΄€λ¦¬</li>
                            <li>λΉ„λ™κΈ° μ²λ¦¬ μ§€μ›</li>
                            <li>Surface μ¶λ ¥ μ§€μ›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“Ή</span>
                        MediaRecorder
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ λ…Ήν™” API</p>
                        <ul>
                            <li>μ¤λ””μ¤/λΉ„λ””μ¤ μΊ΅μ²</li>
                            <li>λ‹¤μ–‘ν• ν¬λ§· μ§€μ› (MP4, 3GP λ“±)</li>
                            <li>μΉ΄λ©”λΌ/λ§μ΄ν¬ ν†µν•©</li>
                            <li>μ‹¤μ‹κ°„ μΈμ½”λ”©</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”—</span>
                        JNI Bridge
                    </h3>
                    <div class="card-description">
                        <p>Java-Native μ—°κ²°</p>
                        <ul>
                            <li>Java API β†’ C++ Native μ½”λ“ λ³€ν™</li>
                            <li>νƒ€μ… λ§¤ν•‘ λ° λ©”λ¨λ¦¬ κ΄€λ¦¬</li>
                            <li>μμ™Έ μ²λ¦¬ λΈλ¦Ώμ§€</li>
                            <li><code>android_media_MediaPlayer.cpp</code></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3: Native Framework -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">3</span>
                Native Framework Layer
            </h2>
            <p class="section-description">
                C++λ΅ κµ¬ν„λ ν•µμ‹¬ λ―Έλ””μ–΄ μ²λ¦¬ μ—”μ§„μ…λ‹λ‹¤. Stagefright μ—”μ§„μ„ μ¤‘μ‹¬μΌλ΅ κµ¬μ„±λμ–΄ μμµλ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph LR
                    subgraph STAGEFRIGHT["Stagefright Engine"]
                    ME["MediaExtractor<br />(Demuxer)"]
                    NP["NuPlayer<br />(Player Engine)"]
                    CC["CCodec<br />(Codec2)"]
                    AC["ACodec<br />(OpenMAX)"]
                    end

                    subgraph COMPONENTS["Core Components"]
                    LM["libmedia<br />(IPC Client)"]
                    LS["libstagefright<br />(Core Logic)"]
                    end

                    APP["Application<br />Framework"] --> LM
                    LM --> ME
                    ME --> NP
                    NP --> CC & AC
                    NP --> LS

                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“¦</span>
                        MediaExtractor
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ μ»¨ν…μ΄λ„ νμ‹±</p>
                        <ul>
                            <li>λ‹¤μ–‘ν• μ»¨ν…μ΄λ„ ν¬λ§· μ§€μ› (MP4, MKV, WebM)</li>
                            <li>νΈλ™ λ¶„λ¦¬ (μ¤λ””μ¤/λΉ„λ””μ¤)</li>
                            <li>λ©”νƒ€λ°μ΄ν„° μ¶”μ¶</li>
                            <li>APEX λ¨λ“λ΅ μ—…λ°μ΄νΈ κ°€λ¥</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">β–¶οΈ</span>
                        NuPlayer
                    </h3>
                    <div class="card-description">
                        <p>ν†µν•© μ¬μƒ μ—”μ§„ (Android 5.0+)</p>
                        <ul>
                            <li>μ¤λ””μ¤/λΉ„λ””μ¤ λ™κΈ°ν™”</li>
                            <li>λ²„νΌ κ΄€λ¦¬ λ° μ¤μΌ€μ¤„λ§</li>
                            <li>λ””μ½”λ” μ μ–΄</li>
                            <li>λ λ”λ¬ (AudioTrack, Surface) μ—°κ²°</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π†•</span>
                        CCodec
                        <span class="tag tag-new">Modern</span>
                    </h3>
                    <div class="card-description">
                        <p>Codec2 Framework μ§„μ…μ </p>
                        <ul>
                            <li><code>/frameworks/av/media/codec2/sfplugin/</code></li>
                            <li>ACodecκ³Ό μΌκ΄€λ API μ κ³µ</li>
                            <li>Codec2Clientμ™€ μƒνΈμ‘μ©</li>
                            <li>μ λ΅μΉ΄ν”Ό λ²„νΌ μ±„λ„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”™</span>
                        ACodec
                        <span class="tag tag-legacy">Legacy</span>
                    </h3>
                    <div class="card-description">
                        <p>OpenMAX IL μ§„μ…μ </p>
                        <ul>
                            <li>Android 9 μ΄ν•μ—μ„ μ£Όλ΅ μ‚¬μ©</li>
                            <li>OMXCodec λνΌ</li>
                            <li>ν•μ„ νΈν™μ„± μ κ³µ</li>
                            <li>Codec2λ΅ λ§μ΄κ·Έλ μ΄μ… μ¤‘</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 3.5: Codec2 Architecture -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">4</span>
                Codec2 μ•„ν‚¤ν…μ²
                <span class="tag tag-new">Android 10+</span>
            </h2>
            <p class="section-description">
                Codec2λ” OpenMAX ILμ„ λ€μ ν•λ” ν„λ€μ μΈ μ½”λ± ν”„λ μ„μ›ν¬μ…λ‹λ‹¤.
                μ„±λ¥ ν–¥μƒ, λ¨λ“ν™”, λ©”μΈλΌμΈ μ—…λ°μ΄νΈλ¥Ό μ κ³µν•©λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph APP_LAYER["Application Layer"]
                    MC["MediaCodec API"]
                    end

                    subgraph CCODEC["CCodec Layer"]
                    CC_MAIN["CCodec<br />(Entry Point)"]
                    CC_BUFFER["CCodecBufferChannel<br />(Zero-Copy Buffers)"]
                    CC_CLIENT["Codec2Client"]
                    end

                    subgraph C2_CORE["Codec2 Core"]
                    C2_COMP["C2Component<br />(Decoder/Encoder)"]
                    C2_STORE["C2ComponentStore<br />(Factory)"]
                    C2_PARAM["C2Params<br />(Configuration)"]
                    end

                    subgraph C2_IMPL["Component Implementations"]
                    C2_SW["Software Codecs<br />(c2.android.*)"]
                    C2_HW["Hardware Codecs<br />(c2.vendor.*)"]
                    end

                    subgraph C2_HAL["Codec2 HAL"]
                    HAL_INTF["android.hardware<br />.media.c2@1.x"]
                    end

                    MC --> CC_MAIN
                    CC_MAIN --> CC_BUFFER & CC_CLIENT
                    CC_CLIENT --> C2_COMP & C2_STORE
                    C2_COMP --> C2_PARAM
                    C2_STORE --> C2_SW & C2_HW
                    C2_HW --> HAL_INTF

                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”</span>
                        Codec2Client
                    </h3>
                    <div class="card-description">
                        <p>Codec2 Framework μ§„μ…μ </p>
                        <ul>
                            <li>Component λ° Interface κ°μ²΄ μƒμ„±</li>
                            <li>Vendor ComponentStore μ ‘κ·Ό</li>
                            <li>λ¦¬μ¤λ„ μ½λ°± κ΄€λ¦¬</li>
                            <li>HIDL/AIDL ν†µμ‹ </li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π―</span>
                        C2Component
                    </h3>
                    <div class="card-description">
                        <p>μ‹¤μ  μ½”λ± μ»΄ν¬λ„νΈ</p>
                        <ul>
                            <li>νΉμ • μ½”λ± κµ¬ν„ (H.264, VP8, VP9, AV1)</li>
                            <li>κ³ μ ν• μ»΄ν¬λ„νΈ μ΄λ¦„ (<code>c2.android.*</code>)</li>
                            <li>μ‘μ—… ν μ²λ¦¬ (Input/Output)</li>
                            <li>νλΌλ―Έν„° μΏΌλ¦¬ λ° μ„¤μ •</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π­</span>
                        C2ComponentStore
                    </h3>
                    <div class="card-description">
                        <p>μ»΄ν¬λ„νΈ ν©ν† λ¦¬ λ° κ΄€λ¦¬</p>
                        <ul>
                            <li>Component μƒμ„± λ° λΌμ΄ν”„μ‚¬μ΄ν΄ κ΄€λ¦¬</li>
                            <li>C2PlatformComponentStore κµ¬ν„</li>
                            <li>λ²¤λ”λ³„ μ»¤μ¤ν…€ κµ¬ν„ κ°€λ¥</li>
                            <li>APEX ν¨ν‚¤μ§• μ§€μ›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">β΅</span>
                        C2BufferChannel
                    </h3>
                    <div class="card-description">
                        <p>μ λ΅μΉ΄ν”Ό λ²„νΌ κ΄€λ¦¬</p>
                        <ul>
                            <li>ν¨μ¨μ μΈ λ²„νΌ μ „λ‹¬ (Zero-Copy)</li>
                            <li>Shared Memory ν™μ©</li>
                            <li>μ„±λ¥ μµμ ν™” ν•µμ‹¬ μ”μ†</li>
                            <li>μ…μ¶λ ¥ λ²„νΌ μ¤μΌ€μ¤„λ§</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">β™οΈ</span>
                        C2Params
                    </h3>
                    <div class="card-description">
                        <p>μ„¤μ • νλΌλ―Έν„°</p>
                        <ul>
                            <li><strong>μ •μ  νλΌλ―Έν„°:</strong> ν•΄μƒλ„, ν”„λ΅νμΌ, ν‚¤ν”„λ μ„ κ°„κ²©</li>
                            <li><strong>λ™μ  νλΌλ―Έν„°:</strong> λΉ„νΈλ μ΄νΈ, ν”„λ μ„λ μ΄νΈ, ν‚¤ν”„λ μ„ μ”μ²­</li>
                            <li>νƒ€μ…λ³„ κ³ μ ν• C2Param κµ¬μ΅°</li>
                            <li>μ»΄ν¬λ„νΈλ³„ μ„¤μ • κ°€λ¥</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“¦</span>
                        λ©”μΈλΌμΈ λ¨λ“
                    </h3>
                    <div class="card-description">
                        <p>Google κ΄€λ¦¬ μ—…λ°μ΄νΈ</p>
                        <ul>
                            <li>μ μ΅°μ‚¬κ°€ μ§μ ‘ μμ • λ¶κ°€</li>
                            <li>Play Storeλ¥Ό ν†µν• λ³΄μ• μ—…λ°μ΄νΈ</li>
                            <li>λ‹¨νΈν™” κ°μ†</li>
                            <li>λΉ λ¥Έ λ²„κ·Έ μμ • λ° κΈ°λ¥ μ¶”κ°€</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Codec2 vs OpenMAX Comparison -->
            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                π”„ Codec2 vs OpenMAX IL λΉ„κµ
            </h3>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ν•­λ©</th>
                        <th>Codec2 (C2)</th>
                        <th>OpenMAX IL</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>λ„μ… μ‹κΈ°</strong></td>
                        <td>Android 10 (2019)</td>
                        <td>μ΄κΈ° Android λ²„μ „</td>
                    </tr>
                    <tr>
                        <td><strong>λ²„νΌ κ΄€λ¦¬</strong></td>
                        <td>Zero-Copy (κ³µμ  λ©”λ¨λ¦¬)</td>
                        <td>λ²„νΌ λ³µμ‚¬ ν•„μ”</td>
                    </tr>
                    <tr>
                        <td><strong>μ„±λ¥</strong></td>
                        <td>λ†’μ (λ³µμ‚¬ μ¤λ²„ν—¤λ“ μ κ±°)</td>
                        <td>μƒλ€μ μΌλ΅ λ‚®μ</td>
                    </tr>
                    <tr>
                        <td><strong>λ¨λ“ν™”</strong></td>
                        <td>λ©”μΈλΌμΈ λ¨λ“ (Google κ΄€λ¦¬)</td>
                        <td>μ‹μ¤ν… μ΄λ―Έμ§€μ— ν¬ν•¨</td>
                    </tr>
                    <tr>
                        <td><strong>μ—…λ°μ΄νΈ</strong></td>
                        <td>Play Store ν†µν•΄ λ…λ¦½ μ—…λ°μ΄νΈ</td>
                        <td>μ‹μ¤ν… OTA ν•„μ”</td>
                    </tr>
                    <tr>
                        <td><strong>ν™•μ¥μ„±</strong></td>
                        <td>μ»΄ν¬λ„νΈ μ²΄μ΄λ‹, ν•„ν„° μ§€μ›</td>
                        <td>μ ν•μ </td>
                    </tr>
                    <tr>
                        <td><strong>μ„¤μ • κ΄€λ¦¬</strong></td>
                        <td>C2Params (νƒ€μ… μ•μ „)</td>
                        <td>OMX Index (λ μ•μ „)</td>
                    </tr>
                    <tr>
                        <td><strong>HAL μΈν„°νμ΄μ¤</strong></td>
                        <td>HIDL/AIDL κΈ°λ°</td>
                        <td>OMX IL μΈν„°νμ΄μ¤</td>
                    </tr>
                    <tr>
                        <td><strong>ν„μ¬ μƒνƒ</strong></td>
                        <td>ν™μ„± κ°λ° λ° κ¶μ¥</td>
                        <td>λ κ±°μ‹, λ‹¨κ³„μ  νκΈ°</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Section 4: Media Server -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">5</span>
                Media Server
            </h2>
            <p class="section-description">
                λ―Έλ””μ–΄ μ„λΉ„μ¤λ¥Ό μ κ³µν•λ” μ‹μ¤ν… ν”„λ΅μ„Έμ¤μ…λ‹λ‹¤. Binder IPCλ¥Ό ν†µν•΄ ν΄λΌμ΄μ–ΈνΈμ™€ ν†µμ‹ ν•©λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph CLIENT["Client Process"]
                    C1["MediaPlayer<br />(App)"]
                    end

                    subgraph BINDER["Binder IPC"]
                    B1["IMediaPlayer<br />(Interface)"]
                    end

                    subgraph SERVER["Media Server Process"]
                    MS["MediaPlayerService"]
                    AF["AudioFlinger"]
                    CS["CameraService"]
                    end

                    subgraph HAL_LAYER["HAL Layer"]
                    AHAL["Audio HAL"]
                    CHAL["Camera HAL"]
                    end

                    C1 -->|"IPC Call"| B1
                    B1 --> MS
                    MS --> AF & CS
                    AF --> AHAL
                    CS --> CHAL

                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π®</span>
                        MediaPlayerService
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ μ¬μƒ μ„λΉ„μ¤</p>
                        <ul>
                            <li>MediaPlayer μΈμ¤ν„΄μ¤ μƒμ„± λ° κ΄€λ¦¬</li>
                            <li>Stagefright μ—”μ§„ μ„ νƒ λ° μ μ–΄</li>
                            <li>ν΄λΌμ΄μ–ΈνΈλ³„ μ„Έμ… κ΄€λ¦¬</li>
                            <li>λ¦¬μ†μ¤ κ΄€λ¦¬ λ° μ°μ„ μμ„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”</span>
                        AudioFlinger
                    </h3>
                    <div class="card-description">
                        <p>μ¤λ””μ¤ λ―Ήμ‹± μ—”μ§„</p>
                        <ul>
                            <li>μ—¬λ¬ μ¤λ””μ¤ μ¤νΈλ¦Ό λ―Ήμ‹±</li>
                            <li>Audio HALκ³Ό μ§μ ‘ ν†µμ‹ </li>
                            <li>μƒν”λ μ΄νΈ λ³€ν™</li>
                            <li>μ¤λ””μ¤ μ΄ν™νΈ μ μ©</li>
                            <li>μ¤λ””μ¤ λΌμ°ν… μ μ–΄</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“Έ</span>
                        CameraService
                    </h3>
                    <div class="card-description">
                        <p>μΉ΄λ©”λΌ κ΄€λ¦¬ μ„λΉ„μ¤</p>
                        <ul>
                            <li>μΉ΄λ©”λΌ μ¥μΉ μ—°κ²° λ° μ μ–΄</li>
                            <li>Camera HAL μΈν„°νμ΄μ¤</li>
                            <li>ν”„λ μ„ μΊ΅μ² λ° μ¤νΈλ¦¬λ°</li>
                            <li>λ©€ν‹° μΉ΄λ©”λΌ μ§€μ›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”—</span>
                        Binder IPC
                    </h3>
                    <div class="card-description">
                        <p>ν”„λ΅μ„Έμ¤ κ°„ ν†µμ‹ </p>
                        <ul>
                            <li>ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ RPC λ©”μ»¤λ‹μ¦</li>
                            <li>ν”„λ΅μ‹ λ° μ¤ν… μλ™ μƒμ„±</li>
                            <li>κ³µμ  λ©”λ¨λ¦¬ μ§€μ›</li>
                            <li><code>/frameworks/av/media/libmedia</code></li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: HAL Layer -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">6</span>
                Hardware Abstraction Layer (HAL)
                <span class="tag tag-hal">Hardware</span>
            </h2>
            <p class="section-description">
                ν•λ“μ›¨μ–΄ μ¶”μƒν™” κ³„μΈµμΌλ΅, Android Frameworkμ™€ ν•λ“μ›¨μ–΄ λ“λΌμ΄λ²„ μ‚¬μ΄μ ν‘μ¤€ μΈν„°νμ΄μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">πµ</span>
                        Audio HAL
                    </h3>
                    <div class="card-description">
                        <p>μ¤λ””μ¤ ν•λ“μ›¨μ–΄ μΈν„°νμ΄μ¤ (AIDL)</p>
                        <ul>
                            <li><strong>Core HAL:</strong> AudioFlingerκ°€ μ‚¬μ©ν•λ” λ©”μΈ API</li>
                            <li><strong>Effects HAL:</strong> μ¤λ””μ¤ μ΄ν™νΈ μ μ–΄ (AGC, NS)</li>
                            <li><strong>Common HAL:</strong> κ³µν†µ λ°μ΄ν„° νƒ€μ… λΌμ΄λΈλ¬λ¦¬</li>
                            <li>Android 14+λ” AIDL κΈ°λ°</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π¬</span>
                        Codec2 HAL
                    </h3>
                    <div class="card-description">
                        <p>λΉ„λ””μ¤/μ¤λ””μ¤ μ½”λ± HAL</p>
                        <ul>
                            <li><code>android.hardware.media.c2@1.x</code></li>
                            <li>ν•λ“μ›¨μ–΄ μΈμ½”λ”/λ””μ½”λ” μ ‘κ·Ό</li>
                            <li>λ²¤λ”λ³„ μ»¤μ¤ν…€ μ½”λ± μ§€μ›</li>
                            <li>C2ComponentStore κµ¬ν„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“·</span>
                        Camera HAL
                    </h3>
                    <div class="card-description">
                        <p>μΉ΄λ©”λΌ ν•λ“μ›¨μ–΄ μΈν„°νμ΄μ¤</p>
                        <ul>
                            <li>HAL3 (Camera2 APIμ©)</li>
                            <li>νμ΄ν”„λΌμΈ μ„¤μ • λ° μ μ–΄</li>
                            <li>μΊ΅μ² μ”μ²­ μ²λ¦¬</li>
                            <li>λ©”νƒ€λ°μ΄ν„° λ° μ΄λ―Έμ§€ μ¤νΈλ¦Ό</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”™</span>
                        OpenMAX IL (λ κ±°μ‹)
                        <span class="tag tag-legacy">Deprecated</span>
                    </h3>
                    <div class="card-description">
                        <p>λ κ±°μ‹ μ½”λ± μΈν„°νμ΄μ¤</p>
                        <ul>
                            <li>Android 9 μ΄ν•μ—μ„ μ‚¬μ©</li>
                            <li>Khronos ν‘μ¤€ κΈ°λ°</li>
                            <li>ν¬νΈ κΈ°λ° λ²„νΌ ν†µμ‹ </li>
                            <li>Android 10+μ—μ„ Codec2λ΅ λ€μ²΄</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: Video Playback Flow -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">7</span>
                λΉ„λ””μ¤ μ¬μƒ ν”λ΅μ°
            </h2>
            <p class="section-description">
                λΉ„λ””μ¤ νμΌμ΄ μ¬μƒλ  λ• κ° λ μ΄μ–΄λ¥Ό κ±°μΉλ©° λ°μ΄ν„°κ°€ μ–΄λ–»κ² λ³€ν™λκ³  μ²λ¦¬λλ”μ§€ λ³΄μ—¬μ¤λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App as Application
                    participant MP as MediaPlayer
                    participant NP as NuPlayer
                    participant ME as MediaExtractor
                    participant CC as CCodec
                    participant C2 as C2Component
                    participant HAL as Codec2 HAL
                    participant HW as Hardware Decoder
                    participant SF as Surface

                    App->>MP: setDataSource(url)
                    App->>MP: prepare()
                    MP->>NP: μ΄κΈ°ν™”
                    NP->>ME: μ»¨ν…μ΄λ„ νμ‹±
                    ME-->>NP: λΉ„λ””μ¤ νΈλ™ μ •λ³΄
                    NP->>CC: λ””μ½”λ” μƒμ„± μ”μ²­
                    CC->>C2: Codec2Client.createComponent()
                    C2->>HAL: ν•λ“μ›¨μ–΄ μ½”λ± ν™•μΈ
                    HAL-->>C2: μ»΄ν¬λ„νΈ μƒμ„±

                    App->>MP: start()
                    loop μ¬μƒ λ£¨ν”„
                    NP->>ME: getSample()
                    ME-->>NP: μ••μ¶•λ λΉ„λ””μ¤ ν”„λ μ„
                    NP->>CC: queueInputBuffer()
                    CC->>C2: queue() - Zero-Copy
                    C2->>HW: ν•λ“μ›¨μ–΄ λ””μ½”λ”©
                    HW-->>C2: λ””μ½”λ”©λ ν”„λ μ„
                    C2-->>CC: dequeueOutputBuffer()
                    CC-->>NP: λ””μ½”λ”©λ ν”„λ μ„
                    NP->>SF: renderToSurface()
                    end

                    App->>MP: stop()
                    MP->>NP: μ •μ§€
                    NP->>CC: λ””μ½”λ” ν•΄μ 
                    CC->>C2: μ»΄ν¬λ„νΈ ν•΄μ 
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.3rem; margin-top: 30px; margin-bottom: 15px;">
                π“‹ λ‹¨κ³„λ³„ μƒμ„Έ μ„¤λ…
            </h3>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">1οΈβƒ£ μ†μ¤ μ„¤μ •</h3>
                    <div class="card-description">
                        <ul>
                            <li>μ•±μ—μ„ <code>MediaPlayer.setDataSource()</code> νΈμ¶</li>
                            <li>λ΅μ»¬ νμΌ λλ” λ„¤νΈμ›ν¬ URL μ§€μ •</li>
                            <li>NuPlayer μΈμ¤ν„΄μ¤ μƒμ„±</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">2οΈβƒ£ μ»¨ν…μ΄λ„ νμ‹±</h3>
                    <div class="card-description">
                        <ul>
                            <li>MediaExtractorκ°€ MP4/MKV μ»¨ν…μ΄λ„ λ¶„μ„</li>
                            <li>λΉ„λ””μ¤/μ¤λ””μ¤/μλ§‰ νΈλ™ μ‹λ³„</li>
                            <li>μ½”λ± μ •λ³΄ λ° λ©”νƒ€λ°μ΄ν„° μ¶”μ¶</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">3οΈβƒ£ λ””μ½”λ” μƒμ„±</h3>
                    <div class="card-description">
                        <ul>
                            <li>CCodecμ„ ν†µν•΄ Codec2Client νΈμ¶</li>
                            <li>μ μ ν• C2Component μ„ νƒ (H.264, VP9 λ“±)</li>
                            <li>ν•λ“μ›¨μ–΄ μ½”λ± μ°μ„ , μ†ν”„νΈμ›¨μ–΄ μ½”λ± λ€μ²΄</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">4οΈβƒ£ λ””μ½”λ”© λ£¨ν”„</h3>
                    <div class="card-description">
                        <ul>
                            <li>μ••μ¶•λ ν”„λ μ„μ„ μ…λ ¥ λ²„νΌμ— νμ‰</li>
                            <li>μ λ΅μΉ΄ν”Όλ΅ ν•λ“μ›¨μ–΄ λ””μ½”λ”μ— μ „λ‹¬</li>
                            <li>λ””μ½”λ”©λ YUV ν”„λ μ„ μμ‹ </li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">5οΈβƒ£ λ λ”λ§</h3>
                    <div class="card-description">
                        <ul>
                            <li>λ””μ½”λ”©λ ν”„λ μ„μ„ Surfaceλ΅ μ „λ‹¬</li>
                            <li>SurfaceFlingerκ°€ ν™”λ©΄ ν•©μ„±</li>
                            <li>μ¤λ””μ¤μ™€ λ™κΈ°ν™” (A/V Sync)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">6οΈβƒ£ μ •λ¦¬</h3>
                    <div class="card-description">
                        <ul>
                            <li>μ¬μƒ μΆ…λ£ μ‹ λ””μ½”λ” ν•΄μ </li>
                            <li>λ²„νΌ λ©”λ¨λ¦¬ ν•΄μ </li>
                            <li>ν•λ“μ›¨μ–΄ λ¦¬μ†μ¤ λ°ν™</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 7: Audio Playback Flow -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">8</span>
                μ¤λ””μ¤ μ¬μƒ ν”λ΅μ°
            </h2>
            <p class="section-description">
                μ¤λ””μ¤ νμΌμ΄ μ¬μƒλ  λ•μ λ°μ΄ν„° νλ¦„κ³Ό κ° μ»΄ν¬λ„νΈμ μ—­ν• μ„ μ‹κ°ν™”ν•©λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App as Application
                    participant MP as MediaPlayer
                    participant NP as NuPlayer
                    participant ME as MediaExtractor
                    participant C2 as C2Component<br />(Audio Decoder)
                    participant AF as AudioFlinger
                    participant AHAL as Audio HAL
                    participant SPK as Speaker

                    App->>MP: setDataSource(audio.mp3)
                    App->>MP: prepare()
                    MP->>NP: μ΄κΈ°ν™”
                    NP->>ME: MP3 νμ‹±
                    ME-->>NP: μ¤λ””μ¤ νΈλ™ (AAC/MP3)
                    NP->>C2: μ¤λ””μ¤ λ””μ½”λ” μƒμ„±

                    App->>MP: start()
                    loop μ¬μƒ λ£¨ν”„
                    NP->>ME: getSample()
                    ME-->>NP: μ••μ¶•λ μ¤λ””μ¤ ν”„λ μ„
                    NP->>C2: λ””μ½”λ”© μ”μ²­
                    C2-->>NP: PCM λ°μ΄ν„°
                    NP->>AF: AudioTrack.write()
                    AF->>AF: λ―Ήμ‹± & μ΄ν™νΈ
                    AF->>AHAL: μ¤λ””μ¤ μ¶λ ¥
                    AHAL->>SPK: μ¬μƒ
                    end

                    App->>MP: stop()
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">πΌ</span>
                        μ••μ¶• ν¬λ§·
                    </h3>
                    <div class="card-description">
                        <p>μ…λ ¥ μ¤λ””μ¤ ν¬λ§·</p>
                        <ul>
                            <li>AAC (Advanced Audio Coding)</li>
                            <li>MP3 (MPEG Audio Layer 3)</li>
                            <li>Opus, Vorbis, FLAC</li>
                            <li>λΉ„νΈλ μ΄νΈ: 128-320 kbps (MP3)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”§</span>
                        λ””μ½”λ”©
                    </h3>
                    <div class="card-description">
                        <p>μ¤λ””μ¤ λ””μ½”λ” μ²λ¦¬</p>
                        <ul>
                            <li>C2Component (μ†ν”„νΈμ›¨μ–΄ λ””μ½”λ”)</li>
                            <li>μ••μ¶• β†’ PCM λ³€ν™</li>
                            <li>μƒν”λ μ΄νΈ: 44.1kHz / 48kHz</li>
                            <li>μ±„λ„: μ¤ν…λ μ¤ (2ch) / λ©€ν‹°μ±„λ„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ποΈ</span>
                        AudioFlinger
                    </h3>
                    <div class="card-description">
                        <p>μ¤λ””μ¤ λ―Ήμ‹± λ° μ²λ¦¬</p>
                        <ul>
                            <li>μ—¬λ¬ AudioTrack λ―Ήμ‹±</li>
                            <li>λ³Όλ¥¨ μ΅°μ • λ° νμ΄λ“</li>
                            <li>μ΄ν™νΈ μ μ© (EQ, Reverb)</li>
                            <li>μƒν”λ μ΄νΈ λ¦¬μƒν”λ§</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”</span>
                        Audio HAL
                    </h3>
                    <div class="card-description">
                        <p>ν•λ“μ›¨μ–΄ μ¤λ””μ¤ μ¶λ ¥</p>
                        <ul>
                            <li>PCM λ°μ΄ν„° β†’ ν•λ“μ›¨μ–΄ μ „λ‹¬</li>
                            <li>ALSA/OSS λ“λΌμ΄λ²„ μ μ–΄</li>
                            <li>μ¤λ””μ¤ λΌμ°ν… (μ¤ν”Όμ»¤/ν—¤λ“ν°)</li>
                            <li>μ €μ „λ ¥ μ¤λ””μ¤ κ²½λ΅</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.3rem; margin-top: 40px; margin-bottom: 15px;">
                π”„ λ²„νΌ κ΄€λ¦¬ λ° λ™κΈ°ν™”
            </h3>

            <div class="card">
                <div class="card-description">
                    <p><strong>λ²„νΌ ν”λ΅μ°:</strong></p>
                    <ol style="margin-top: 10px; padding-left: 20px;">
                        <li><strong>μ…λ ¥ λ²„νΌ:</strong> MediaExtractorμ—μ„ μ••μ¶•λ μ¤λ””μ¤ ν”„λ μ„ μ¶”μ¶</li>
                        <li><strong>λ””μ½”λ” λ²„νΌ:</strong> C2Componentκ°€ μ••μ¶• ν•΄μ ν•μ—¬ PCM μƒμ„±</li>
                        <li><strong>AudioTrack λ²„νΌ:</strong> NuPlayerκ°€ PCM λ°μ΄ν„°λ¥Ό AudioFlingerμ— μ „λ‹¬</li>
                        <li><strong>HAL λ²„νΌ:</strong> AudioFlingerκ°€ λ―Ήμ‹± ν›„ Audio HALλ΅ μ „λ‹¬</li>
                        <li><strong>ν•λ“μ›¨μ–΄ λ²„νΌ:</strong> DMAλ¥Ό ν†µν•΄ μ¤ν”Όμ»¤λ΅ μ¬μƒ</li>
                    </ol>

                    <p style="margin-top: 20px;"><strong>μ§€μ—° μµμ†ν™”:</strong></p>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>μ‘μ€ λ²„νΌ ν¬κΈ°λ΅ λ μ΄ν„΄μ‹ κ°μ†</li>
                        <li>Fast Audio Path (μ €μ „λ ¥ λ¨λ“)</li>
                        <li>AAudio API (μ €μ§€μ—° μ¤λ””μ¤)</li>
                    </ul>
                </div>
            </div>
        </section>

        <!-- Section 8: MediaSession Framework -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">9</span>
                MediaSession Framework
            </h2>
            <p class="section-description">
                MediaSessionμ€ λ―Έλ””μ–΄ μ¬μƒ μ μ–΄ λ° λ©”νƒ€λ°μ΄ν„° κ³µμ λ¥Ό μ„ν• ν‘μ¤€ ν”„λ μ„μ›ν¬μ…λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph MediaApp["Media App"]
                        MS["MediaSession<br/>(Server)"]
                        PLAYER["ExoPlayer/MediaPlayer"]
                    end

                    subgraph Controller["Controller Apps"]
                        MC1["System UI<br/>(Notification)"]
                        MC2["Wear OS<br/>(Watch Control)"]
                        MC3["Auto/AAOS<br/>(Car Display)"]
                    end

                    subgraph Framework["Framework"]
                        MSS["MediaSessionService<br/>(System Server)"]
                    end

                    MS -->|Register| MSS
                    MS -.->|Metadata & State| MSS
                    PLAYER -->|Playback Events| MS

                    MC1 & MC2 & MC3 -->|Connect| MSS
                    MSS -->|Control Commands| MS
                    MS -->|Execute| PLAYER
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">πµ</span>
                        MediaSession (Server)
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ μ•±μ΄ μ κ³µν•λ” μ„Έμ…</p>
                        <ul>
                            <li>μ¬μƒ μƒνƒ λ° λ©”νƒ€λ°μ΄ν„° κ²μ‹</li>
                            <li>μ μ–΄ λ…λ Ή μμ‹  (Play, Pause, Skip)</li>
                            <li>ν (Queue) κ΄€λ¦¬</li>
                            <li>μ»¤μ¤ν…€ μ•΅μ… μ§€μ›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π®</span>
                        MediaController (Client)
                    </h3>
                    <div class="card-description">
                        <p>μ μ–΄ μ•±μ΄ μ‚¬μ©ν•λ” ν΄λΌμ΄μ–ΈνΈ</p>
                        <ul>
                            <li>ν„μ¬ μ¬μƒ μ¤‘μΈ λ―Έλ””μ–΄ μ΅°ν</li>
                            <li>μ¬μƒ μ μ–΄ λ…λ Ή μ „μ†΅</li>
                            <li>λ©”νƒ€λ°μ΄ν„° μμ‹  (μ λ©, μ•„ν‹°μ¤νΈ, μ•¨λ²” μ•„νΈ)</li>
                            <li>μ¬μƒ μƒνƒ λ³€κ²½ λ¦¬μ¤λ„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”„</span>
                        Media3 MediaSession
                        <span class="tag tag-new">Recommended</span>
                    </h3>
                    <div class="card-description">
                        <p>Jetpack Media3 λ²„μ „</p>
                        <ul>
                            <li><code>androidx.media3.session.MediaSession</code></li>
                            <li>Framework MediaSessionλ³΄λ‹¤ ν’λ¶€ν• κΈ°λ¥</li>
                            <li>Backward Compatibility (Android 5.0+)</li>
                            <li>Modern API λ° Kotlin μ§€μ›</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“Ί</span>
                        Use Cases
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Notification μ μ–΄</strong>: μ•λ¦Όμ—μ„ μ¬μƒ μ μ–΄</li>
                            <li><strong>Wear OS</strong>: μ¤λ§νΈμ›μΉμ—μ„ μ μ–΄</li>
                            <li><strong>Android Auto/AAOS</strong>: μ°¨λ‰ λ””μ¤ν”λ μ΄</li>
                            <li><strong>Google Assistant</strong>: μμ„± λ…λ Ή</li>
                            <li><strong>Bluetooth</strong>: AVRCP ν”„λ΅ν† μ½</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 9: MediaDrm Framework -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">10</span>
                MediaDrm Framework
            </h2>
            <p class="section-description">
                DRM (Digital Rights Management)μΌλ΅ λ³΄νΈλ μ½ν…μΈ λ¥Ό μ¬μƒν•κΈ° μ„ν• ν”„λ μ„μ›ν¬μ…λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph App["Application"]
                        PLAYER["ExoPlayer/MediaPlayer"]
                        MD["MediaDrm API"]
                        MC["MediaCodec"]
                    end

                    subgraph Framework["Framework"]
                        MDSERVICE["MediaDrmService"]
                    end

                    subgraph Plugin["DRM Plugin"]
                        WV["Widevine CDM<br/>(Content Decryption Module)"]
                    end

                    subgraph TEE["Trusted Execution Environment"]
                        KM["Keymaster<br/>(Key Storage)"]
                        SD["Secure Decoder"]
                    end

                    PLAYER -->|Encrypted Content| MD
                    MD -->|License Request| MDSERVICE
                    MDSERVICE --> WV
                    WV -->|Store Keys| KM

                    MC -->|Encrypted Buffer| SD
                    SD -->|Access Keys| KM
                    SD -->|Decrypted Frame| MC
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”</span>
                        MediaDrm API
                    </h3>
                    <div class="card-description">
                        <p>DRM μ‹μ¤ν… μΈν„°νμ΄μ¤ (API 18+)</p>
                        <ul>
                            <li>λΌμ΄μ„Όμ¤ μ”μ²­ λ° νλ“</li>
                            <li>ν‚¤ λ΅λ”© λ° κ΄€λ¦¬</li>
                            <li>Provisioning (λ””λ°”μ΄μ¤ λ“±λ΅)</li>
                            <li>μ§€μ› DRM: Widevine, PlayReady, ClearKey</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π›΅οΈ</span>
                        Widevine Levels
                    </h3>
                    <div class="card-description">
                        <p>ν•λ“μ›¨μ–΄ λ³΄μ• μμ¤€</p>
                        <ul>
                            <li><strong>L1 (Hardware)</strong>: TEEμ—μ„ λ¨λ“  μ²λ¦¬, 4K/HDR μ§€μ›</li>
                            <li><strong>L2 (Hybrid)</strong>: μ•”νΈν™”λ§ HW, μµλ€ 540p</li>
                            <li><strong>L3 (Software)</strong>: λ¨λ“  SW μ²λ¦¬, SD ν•΄μƒλ„λ§</li>
                            <li>L1 ν•„μ”: Netflix 4K, Amazon Prime HDR</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”’</span>
                        Secure Playback
                    </h3>
                    <div class="card-description">
                        <p>λ³΄μ• μ¬μƒ νμ΄ν”„λΌμΈ</p>
                        <ul>
                            <li><strong>Encrypted Buffer</strong>: μ•”νΈν™”λ μƒνƒλ΅ μ „λ‹¬</li>
                            <li><strong>Secure Decoder</strong>: TEEμ—μ„ λ³µνΈν™”</li>
                            <li><strong>Protected Surface</strong>: μ¤ν¬λ¦° μΊ΅μ² λ°©μ§€</li>
                            <li><strong>HDCP</strong>: μ™Έλ¶€ λ””μ¤ν”λ μ΄ λ³΄νΈ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”‘</span>
                        Key Management
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Keymaster HAL</strong>: ν•λ“μ›¨μ–΄ ν‚¤ μ €μ¥μ†</li>
                            <li><strong>StrongBox</strong>: μ „μ© λ³΄μ• μΉ© (Android 9+)</li>
                            <li>ν‚¤ μ¶”μ¶ λ¶κ°€λ¥ (Hardware-backed)</li>
                            <li>μ„Έμ…λ³„ μ„μ‹ ν‚¤ μƒμ„±</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 10: MediaProvider & MediaStore -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">11</span>
                MediaProvider & MediaStore
            </h2>
            <p class="section-description">
                μ‹μ¤ν…μ λ―Έλ””μ–΄ νμΌμ„ μΈλ±μ‹±ν•κ³  μ•±μ— μ κ³µν•λ” Content Providerμ…λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph Apps["Applications"]
                        GALLERY["Gallery App"]
                        MUSIC["Music Player"]
                    end

                    subgraph Framework["Framework"]
                        MS["MediaStore API<br/>(ContentResolver)"]
                    end

                    subgraph MediaProvider["MediaProvider Process"]
                        MP["MediaProvider<br/>(Content Provider)"]
                        SCANNER["MediaScanner<br/>(File Indexer)"]
                        DB["SQLite Database<br/>(external.db)"]
                    end

                    subgraph Storage["Storage"]
                        FILES["Media Files<br/>(Images, Videos, Audio)"]
                    end

                    GALLERY & MUSIC -->|Query| MS
                    MS -->|ContentProvider IPC| MP
                    MP -->|SQL Query| DB

                    SCANNER -->|Scan| FILES
                    SCANNER -->|Index| DB
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“‚</span>
                        MediaStore API
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ νμΌ μ ‘κ·Ό API</p>
                        <ul>
                            <li><code>MediaStore.Images</code>: μ΄λ―Έμ§€ μ΅°ν</li>
                            <li><code>MediaStore.Video</code>: λΉ„λ””μ¤ μ΅°ν</li>
                            <li><code>MediaStore.Audio</code>: μ¤λ””μ¤ μ΅°ν</li>
                            <li>λ©”νƒ€λ°μ΄ν„° (μ λ©, μ•„ν‹°μ¤νΈ, μ•¨λ²”, μ¬μƒμ‹κ°„)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”</span>
                        MediaScanner
                    </h3>
                    <div class="card-description">
                        <p>νμΌ μΈλ±μ‹± μ„λΉ„μ¤</p>
                        <ul>
                            <li>μ €μ¥μ† μ¤μΊ” λ° λ―Έλ””μ–΄ νμΌ λ°κ²¬</li>
                            <li>λ©”νƒ€λ°μ΄ν„° μ¶”μ¶ (ID3, EXIF)</li>
                            <li>μΈλ„¤μΌ μƒμ„± (μ΄λ―Έμ§€/λΉ„λ””μ¤)</li>
                            <li>λ°μ΄ν„°λ² μ΄μ¤ μ—…λ°μ΄νΈ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π—„οΈ</span>
                        Database Structure
                    </h3>
                    <div class="card-description">
                        <p>SQLite λ°μ΄ν„°λ² μ΄μ¤</p>
                        <ul>
                            <li><strong>files</strong> ν…μ΄λΈ”: λ¨λ“  λ―Έλ””μ–΄ νμΌ</li>
                            <li><strong>audio_meta</strong>: μ¤λ””μ¤ λ©”νƒ€λ°μ΄ν„°</li>
                            <li><strong>images</strong>: μ΄λ―Έμ§€ μ •λ³΄</li>
                            <li><strong>video</strong>: λΉ„λ””μ¤ μ •λ³΄</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”’</span>
                        Scoped Storage (Android 10+)
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>μ•±λ³„ κ²©λ¦¬λ μ €μ¥ κ³µκ°„</li>
                            <li>κ³µμ  μ €μ¥μ† μ ‘κ·Ό μ‹ κ¶ν• ν•„μ”</li>
                            <li>MediaStoreλ¥Ό ν†µν• μ•μ „ν• μ ‘κ·Ό</li>
                            <li>νμΌ κ²½λ΅ μ§μ ‘ μ ‘κ·Ό μ ν•</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 11: ExoPlayer & Media3 -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">12</span>
                ExoPlayer & Media3
                <span class="tag tag-new">Modern App Layer</span>
            </h2>
            <p class="section-description">
                μ•± λ λ²¨μ—μ„ μ‚¬μ©ν•λ” ν„λ€μ μΈ λ―Έλ””μ–΄ ν”λ μ΄μ–΄ λΌμ΄λΈλ¬λ¦¬μ…λ‹λ‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph Legacy["Legacy (2008-2022)"]
                        MP["MediaPlayer<br/>(Framework API)"]
                        EXO1["ExoPlayer Standalone<br/>(Google I/O Library)"]
                    end

                    subgraph Modern["Modern (2022+)"]
                        M3["Media3<br/>(androidx.media3)"]
                        M3_EXO["Media3 ExoPlayer"]
                        M3_SESSION["Media3 MediaSession"]
                        M3_UI["Media3 UI Components"]
                    end

                    subgraph Framework_Layer["Framework APIs"]
                        MC["MediaCodec"]
                        MS_FW["MediaSession (Framework)"]
                        AUDIO["AudioTrack"]
                    end

                    MP -.->|Deprecated| M3
                    EXO1 -.->|Migrated| M3_EXO

                    M3 --> M3_EXO & M3_SESSION & M3_UI
                    M3_EXO --> MC & AUDIO
                    M3_SESSION --> MS_FW
                </div>
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“Ί</span>
                        MediaPlayer (Framework)
                        <span class="tag tag-legacy">Legacy</span>
                    </h3>
                    <div class="card-description">
                        <p>AOSP λ‚΄μ¥ ν”λ μ΄μ–΄ API</p>
                        <ul>
                            <li><strong>μ¥μ </strong>: κ°„λ‹¨ν• API, OS ν†µν•©</li>
                            <li><strong>λ‹¨μ </strong>: μ ν•λ μ»¤μ¤ν„°λ§μ΄μ§•, κΈ°κΈ° κ°„ λ¶μΌμΉ</li>
                            <li><strong>μ‚¬μ©</strong>: κ°„λ‹¨ν• λ΅μ»¬ μ¬μƒλ§</li>
                            <li>HLS/DASHλ” λ―Έμ§€μ› λλ” λ¶μ•μ •</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π¬</span>
                        Media3 ExoPlayer
                        <span class="tag tag-new">Recommended</span>
                    </h3>
                    <div class="card-description">
                        <p>μ•± λ λ²¨ κ³ κΈ‰ ν”λ μ΄μ–΄</p>
                        <ul>
                            <li><strong>DASH, HLS, SmoothStreaming</strong> μ§€μ›</li>
                            <li><strong>μ»¤μ¤ν…€ Renderer</strong>: ν™•μ¥ κ°€λ¥</li>
                            <li><strong>μΌκ΄€λ λ™μ‘</strong>: λ¨λ“  κΈ°κΈ°μ—μ„ λ™μΌ</li>
                            <li><strong>DRM ν†µν•©</strong>: Widevine, PlayReady</li>
                            <li>Google, Netflix, Spotify μ‚¬μ©</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">πµ</span>
                        Media3 MediaSession
                    </h3>
                    <div class="card-description">
                        <p>ν†µν•© μ„Έμ… κ΄€λ¦¬</p>
                        <ul>
                            <li>ExoPlayer + MediaSession ν†µν•©</li>
                            <li>MediaController νΈν™</li>
                            <li>Auto/Wear/Assistant μ§€μ›</li>
                            <li>Backward Compatibility (Android 5.0+)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“</span>
                        Media3 UI Components
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>PlayerView</strong>: λΉ„λ””μ¤ ν”λ μ΄μ–΄ UI</li>
                            <li><strong>PlayerControlView</strong>: μ¬μƒ μ»¨νΈλ΅¤</li>
                            <li><strong>StyledPlayerView</strong>: ν…λ§ μ§€μ›</li>
                            <li>μ™„μ „ν μ»¤μ¤ν„°λ§μ΄μ§• κ°€λ¥</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="highlight-box" style="margin-top: 30px;">
                <strong>π― API μ„ νƒ κ°€μ΄λ“</strong><br/>
                β€Ά <strong>κ°„λ‹¨ν• λ΅μ»¬ μ¬μƒ</strong>: MediaPlayer<br/>
                β€Ά <strong>μ¤νΈλ¦¬λ° (DASH/HLS)</strong>: Media3 ExoPlayer<br/>
                β€Ά <strong>μ €μμ¤€ μ μ–΄</strong>: MediaCodec μ§μ ‘ μ‚¬μ©<br/>
                β€Ά <strong>λ°±κ·ΈλΌμ΄λ“ μ¬μƒ</strong>: Media3 MediaSession<br/>
                β€Ά <strong>κ¶μ¥</strong>: μƒ μ•±μ€ Media3 μ‚¬μ©
            </div>
        </section>

        <!-- Section 12: Related Pages -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">13</span>
                κ΄€λ ¨ μƒμ„Έ λ¬Έμ„
            </h2>
            <p class="section-description">
                λ―Έλ””μ–΄ ν”„λ μ„μ›ν¬μ κ° μ£Όμ μ— λ€ν• μƒμ„Έν• μ„¤λ…μ€ μ•„λ νμ΄μ§€λ¥Ό μ°Έμ΅°ν•μ„Έμ”.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π¬</span>
                        Codec 2.0 & Media HAL
                    </h3>
                    <div class="card-description">
                        <p>μµμ‹  μ½”λ± ν”„λ μ„μ›ν¬ μ•„ν‚¤ν…μ²</p>
                        <ul>
                            <li>Codec2 μƒμ„Έ μ•„ν‚¤ν…μ²</li>
                            <li>C2Component κµ¬μ΅°</li>
                            <li>HAL μΈν„°νμ΄μ¤ (HIDL/AIDL)</li>
                            <li>OpenMAX IL λ§μ΄κ·Έλ μ΄μ…</li>
                        </ul>
                        <a href="codec2.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(245, 158, 11, 0.2)); border: 1px solid #8b5cf6; border-radius: 8px; color: #a78bfa; text-decoration: none; font-weight: 600;">
                            μμ„Έν λ³΄κΈ° β†’
                        </a>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“</span>
                        Media Pipeline & Data Flow
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ μ¬μƒ νμ΄ν”„λΌμΈ μƒμ„Έ</p>
                        <ul>
                            <li>End-to-End λ°μ΄ν„° ν”λ΅μ°</li>
                            <li>λ²„νΌ κ΄€λ¦¬ μ „λµ</li>
                            <li>A/V λ™κΈ°ν™” λ©”μ»¤λ‹μ¦</li>
                            <li>μ„±λ¥ μµμ ν™” κΈ°λ²•</li>
                        </ul>
                        <a href="media-playback.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(245, 158, 11, 0.2)); border: 1px solid #8b5cf6; border-radius: 8px; color: #a78bfa; text-decoration: none; font-weight: 600;">
                            μμ„Έν λ³΄κΈ° β†’
                        </a>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π“¦</span>
                        MediaExtractor & Container
                    </h3>
                    <div class="card-description">
                        <p>μ»¨ν…μ΄λ„ νμ‹± λ° λ””λ¨Ήμ‹±</p>
                        <ul>
                            <li>MediaExtractor μ•„ν‚¤ν…μ²</li>
                            <li>MP4/MKV/WebM νμ‹±</li>
                            <li>νΈλ™ λ¶„λ¦¬ λ° λ©”νƒ€λ°μ΄ν„°</li>
                            <li>Extractor ν”λ¬κ·ΈμΈ κµ¬μ΅°</li>
                        </ul>
                        <a href="media-extractor.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(245, 158, 11, 0.2)); border: 1px solid #8b5cf6; border-radius: 8px; color: #a78bfa; text-decoration: none; font-weight: 600;">
                            μμ„Έν λ³΄κΈ° β†’
                        </a>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π®</span>
                        MediaSession Framework
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ μ„Έμ… μƒμ„Έ λ¬Έμ„</p>
                        <ul>
                            <li>MediaSession μ•„ν‚¤ν…μ²</li>
                            <li>Controller-Session ν†µμ‹ </li>
                            <li>Notification Integration</li>
                            <li>Auto/Wear/Assistant μ—°λ™</li>
                        </ul>
                        <a href="mediasession.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(245, 158, 11, 0.2)); border: 1px solid #8b5cf6; border-radius: 8px; color: #a78bfa; text-decoration: none; font-weight: 600;">
                            μμ„Έν λ³΄κΈ° β†’
                        </a>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π—„οΈ</span>
                        MediaProvider & Storage
                    </h3>
                    <div class="card-description">
                        <p>λ―Έλ””μ–΄ νμΌ μΈλ±μ‹± λ° μ ‘κ·Ό</p>
                        <ul>
                            <li>MediaStore API μ‚¬μ©λ²•</li>
                            <li>MediaScanner λ™μ‘ μ›λ¦¬</li>
                            <li>Scoped Storage μ •μ±…</li>
                            <li>λ°μ΄ν„°λ² μ΄μ¤ κµ¬μ΅°</li>
                        </ul>
                        <a href="mediaprovider.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(245, 158, 11, 0.2)); border: 1px solid #8b5cf6; border-radius: 8px; color: #a78bfa; text-decoration: none; font-weight: 600;">
                            μμ„Έν λ³΄κΈ° β†’
                        </a>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">π”</span>
                        Audio Framework
                    </h3>
                    <div class="card-description">
                        <p>μ¤λ””μ¤ μ²λ¦¬ νμ΄ν”„λΌμΈ</p>
                        <ul>
                            <li>AudioFlinger μ•„ν‚¤ν…μ²</li>
                            <li>AudioPolicyService</li>
                            <li>μ¤λ””μ¤ λΌμ°ν… λ° λ―Ήμ‹±</li>
                            <li>Audio HAL μΈν„°νμ΄μ¤</li>
                        </ul>
                        <a href="audio-framework.html" style="display: inline-block; margin-top: 15px; padding: 10px 20px; background: linear-gradient(135deg, rgba(139, 92, 246, 0.2), rgba(245, 158, 11, 0.2)); border: 1px solid #8b5cf6; border-radius: 8px; color: #a78bfa; text-decoration: none; font-weight: 600;">
                            μμ„Έν λ³΄κΈ° β†’
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <footer
            style="text-align: center; margin-top: 60px; padding: 40px; color: var(--text-muted); border-top: 1px solid var(--border-color);">
            <p>Β© Android Media Framework Documentation</p>
        </footer>
    </div>

    <script src="scripts/mermaid-theme.js"></script>
    <!-- Navigation & Copy Features -->
    <script src="scripts/copy-code.js"></script>
    <script src="scripts/toc-generator.js"></script>
    <script src="scripts/page-navigation.js"></script>
    <!-- Interactive Diagram Features -->
    <script src="scripts/diagram-data.js"></script>
    <script src="scripts/diagram-interactive.js"></script>

    <script src="scripts/theme-toggle.js"></script>
    <script src="scripts/lang-switch.js"></script>
</body>

</html>