<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediaExtractor Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;600;700;900&family=IBM+Plex+Mono:wght@400;500;600&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/design-system.css">

        <style>
        /* Page-specific styles loaded from design-system.css */
    </style>
</head>

<body>
    <nav class="nav">
        <a href="index.html" class="nav-button">
            â† AOSP Media Framework
        </a>
    </nav>

    <div class="container">
        <header>
            <h1 class="page-title">ğŸ“¦ MediaExtractor</h1>
            <p class="page-subtitle">ë¯¸ë””ì–´ ì»¨í…Œì´ë„ˆ íŒŒì‹± ë° ë””ë¨¹ì‹± ì•„í‚¤í…ì²˜</p>
        </header>

        <!-- Section 1: Overview -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">1</span>
                Overview: MediaExtractorì˜ ì—­í• 
            </h2>
            <p class="section-description">
                MediaExtractorëŠ” ë¯¸ë””ì–´ ì»¨í…Œì´ë„ˆ íŒŒì¼ì„ íŒŒì‹±í•˜ì—¬ ê°œë³„ íŠ¸ë™(ì˜¤ë””ì˜¤, ë¹„ë””ì˜¤, ìë§‰)ìœ¼ë¡œ ë¶„ë¦¬í•˜ëŠ” ë””ë¨¹ì„œì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        ì£¼ìš” ê¸°ëŠ¥
                    </h3>
                    <div class="card-description">
                        <p><strong>ì»¨í…Œì´ë„ˆ íŒŒì‹± ë° ë””ë¨¹ì‹±</strong></p>
                        <ul>
                            <li>ì»¨í…Œì´ë„ˆ í¬ë§· íŒŒì‹± (MP4, MKV, WebM ë“±)</li>
                            <li>íŠ¸ë™ ì •ë³´ ì¶”ì¶œ (ê°œìˆ˜, í¬ë§·, ë©”íƒ€ë°ì´í„°)</li>
                            <li>ì¸ì½”ë”©ëœ ìƒ˜í”Œ ë°ì´í„° ì¶”ì¶œ</li>
                            <li>íƒ€ì„ìŠ¤íƒ¬í”„ ë° í”Œë˜ê·¸ ì œê³µ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”„</span>
                        MediaCodecê³¼ì˜ í˜‘ì—…
                    </h3>
                    <div class="card-description">
                        <p><strong>ë””ë¨¹ì‹± + ë””ì½”ë”© íŒŒì´í”„ë¼ì¸</strong></p>
                        <ul>
                            <li>MediaExtractor: ì»¨í…Œì´ë„ˆ íŒŒì‹± ë° ìƒ˜í”Œ ì¶”ì¶œ</li>
                            <li>MediaCodec: ì¸ì½”ë”©ëœ ìƒ˜í”Œ ë””ì½”ë”©</li>
                            <li>ë¶„ë¦¬ëœ ê´€ì‹¬ì‚¬ë¡œ ìœ ì—°í•œ ì²˜ë¦¬</li>
                            <li>ì»¤ìŠ¤í…€ ë¯¸ë””ì–´ ì²˜ë¦¬ ê°€ëŠ¥</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“</span>
                        ì§€ì› ì»¨í…Œì´ë„ˆ
                    </h3>
                    <div class="card-description">
                        <p><strong>ë‹¤ì–‘í•œ í¬ë§· ì§€ì›</strong></p>
                        <ul>
                            <li>MP4 (MPEG-4 Part 14)</li>
                            <li>MKV (Matroska)</li>
                            <li>WebM</li>
                            <li>3GP, TS, FLV ë“±</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Œ</span>
                        í™•ì¥ì„±
                    </h3>
                    <div class="card-description">
                        <p><strong>ì»¤ìŠ¤í…€ Extractor</strong></p>
                        <ul>
                            <li>Android 10+: ê°œë³„ .so íŒŒì¼</li>
                            <li>ì»¤ìŠ¤í…€ í¬ë§· ì§€ì› ê°€ëŠ¥</li>
                            <li>í”ŒëŸ¬ê·¸ì¸ ì•„í‚¤í…ì²˜</li>
                            <li>ExoPlayer í†µí•©</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Architecture -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">2</span>
                ì „ì²´ ì•„í‚¤í…ì²˜
            </h2>
            <p class="section-description">
                MediaExtractorì˜ ë‚´ë¶€ êµ¬ì¡°ì™€ Parser ê³„ì¸µì„ ì‹œê°í™”í•©ë‹ˆë‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph APP ["Application Layer"]
                    MEDIA_APP[Media App]
                    end

                    subgraph FRAMEWORK ["MediaExtractor API"]
                    ME_API[MediaExtractor<br />Public API]
                    ME_IMPL[MediaExtractor<br />Implementation]
                    end

                    subgraph NATIVE ["Native Layer - libstagefright"]
                    DATA_SRC[DataSource<br />File/URI/FD]
                    EXTRACTOR_FACTORY[MediaExtractorFactory<br />Extractor ì„ íƒ]

                    subgraph PARSERS ["Container Parsers"]
                    MP4_PARSER[MPEG4Extractor<br />MP4 Parser]
                    MKV_PARSER[MatroskaExtractor<br />MKV Parser]
                    WEBM_PARSER[WebM Parser]
                    OTHER_PARSER[Other Parsers<br />3GP, TS, FLV...]
                    end

                    SAMPLE_READER[Sample Reader<br />Track Data]
                    META_DATA[MetaData<br />Track Info]
                    end

                    subgraph STORAGE ["Data Source"]
                    FILE[Local File]
                    URI[Content URI]
                    FD[File Descriptor]
                    STREAM[Network Stream]
                    end

                    MEDIA_APP --> ME_API
                    ME_API --> ME_IMPL
                    ME_IMPL --> DATA_SRC
                    ME_IMPL --> EXTRACTOR_FACTORY

                    DATA_SRC --> FILE
                    DATA_SRC --> URI
                    DATA_SRC --> FD
                    DATA_SRC --> STREAM

                    EXTRACTOR_FACTORY --> MP4_PARSER
                    EXTRACTOR_FACTORY --> MKV_PARSER
                    EXTRACTOR_FACTORY --> WEBM_PARSER
                    EXTRACTOR_FACTORY --> OTHER_PARSER

                    MP4_PARSER --> SAMPLE_READER
                    MKV_PARSER --> SAMPLE_READER
                    WEBM_PARSER --> SAMPLE_READER
                    OTHER_PARSER --> SAMPLE_READER

                    MP4_PARSER --> META_DATA
                    MKV_PARSER --> META_DATA
                    WEBM_PARSER --> META_DATA
                    OTHER_PARSER --> META_DATA

                    style ME_API fill:#1a1f35,stroke:#f59e0b,stroke-width:3px
                    style EXTRACTOR_FACTORY fill:#1a1f35,stroke:#fbbf24,stroke-width:2px
                    style MP4_PARSER fill:#1a1f35,stroke:#fcd34d,stroke-width:2px
                    style MKV_PARSER fill:#1a1f35,stroke:#fcd34d,stroke-width:2px
                </div>
            </div>

            <div class="highlight-box">
                <strong>í•µì‹¬ ì»´í¬ë„ŒíŠ¸:</strong>
                <ul>
                    <li><strong>MediaExtractor API</strong>: ì•±ì´ ì‚¬ìš©í•˜ëŠ” ê³µê°œ API</li>
                    <li><strong>DataSource</strong>: íŒŒì¼, URI, FD, ìŠ¤íŠ¸ë¦¼ ë“± ë‹¤ì–‘í•œ ì†ŒìŠ¤ ì§€ì›</li>
                    <li><strong>MediaExtractorFactory</strong>: ì»¨í…Œì´ë„ˆ í¬ë§·ì— ë§ëŠ” Parser ì„ íƒ</li>
                    <li><strong>Container Parsers</strong>: MP4, MKV, WebM ë“± í¬ë§·ë³„ íŒŒì„œ</li>
                    <li><strong>Sample Reader</strong>: íŠ¸ë™ë³„ ìƒ˜í”Œ ë°ì´í„° ì½ê¸°</li>
                    <li><strong>MetaData</strong>: íŠ¸ë™ ì •ë³´ ë° ë©”íƒ€ë°ì´í„°</li>
                </ul>
            </div>
        </section>

        <!-- Section 3: Workflow -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">3</span>
                MediaExtractor ì‚¬ìš© íë¦„
            </h2>
            <p class="section-description">
                MediaExtractorë¥¼ ì‚¬ìš©í•˜ì—¬ ë¯¸ë””ì–´ íŒŒì¼ì—ì„œ ìƒ˜í”Œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ëŠ” ì „ì²´ ê³¼ì •ì…ë‹ˆë‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App
                    participant ME as MediaExtractor
                    participant DS as DataSource
                    participant Parser as Container Parser
                    participant Track as Track Reader

                    App->>ME: new MediaExtractor()
                    App->>ME: setDataSource(path/uri/fd)
                    ME->>DS: DataSource ìƒì„±
                    DS->>DS: íŒŒì¼/ìŠ¤íŠ¸ë¦¼ ì—´ê¸°
                    DS-->>ME: DataSource ë°˜í™˜

                    ME->>Parser: MediaExtractorFactoryë¡œ<br />ì ì ˆí•œ Parser ì„ íƒ
                    Parser->>DS: ì»¨í…Œì´ë„ˆ í—¤ë” ì½ê¸°
                    DS-->>Parser: í—¤ë” ë°ì´í„°
                    Parser->>Parser: í¬ë§· íŒŒì‹±<br />(MP4/MKV/WebM ë“±)
                    Parser->>Parser: íŠ¸ë™ ì •ë³´ ì¶”ì¶œ
                    Parser-->>ME: íŠ¸ë™ ê°œìˆ˜ ë° ë©”íƒ€ë°ì´í„°

                    App->>ME: getTrackCount()
                    ME-->>App: íŠ¸ë™ ê°œìˆ˜ ë°˜í™˜

                    loop ê° íŠ¸ë™ ìˆœíšŒ
                    App->>ME: getTrackFormat(i)
                    ME->>Parser: íŠ¸ë™ i ë©”íƒ€ë°ì´í„° ìš”ì²­
                    Parser-->>ME: MediaFormat ë°˜í™˜
                    ME-->>App: MediaFormat (MIME, í•´ìƒë„ ë“±)
                    end

                    App->>ME: selectTrack(i)
                    ME->>Track: íŠ¸ë™ i í™œì„±í™”

                    loop ìƒ˜í”Œ ì½ê¸°
                    App->>ME: readSampleData(buffer)
                    ME->>Track: í˜„ì¬ ìƒ˜í”Œ ì½ê¸°
                    Track->>DS: ìƒ˜í”Œ ë°ì´í„° ìœ„ì¹˜ë¡œ seek
                    DS-->>Track: ì¸ì½”ë”©ëœ ìƒ˜í”Œ ë°ì´í„°
                    Track-->>ME: ìƒ˜í”Œ ë°ì´í„°
                    ME-->>App: ìƒ˜í”Œ í¬ê¸° ë°˜í™˜

                    App->>ME: getSampleTime()
                    ME->>Track: íƒ€ì„ìŠ¤íƒ¬í”„ ì¡°íšŒ
                    Track-->>ME: PTS (Âµs)
                    ME-->>App: íƒ€ì„ìŠ¤íƒ¬í”„

                    App->>ME: getSampleFlags()
                    ME->>Track: í”Œë˜ê·¸ ì¡°íšŒ
                    Track-->>ME: SYNC/ENCRYPTED ë“±
                    ME-->>App: í”Œë˜ê·¸

                    App->>ME: advance()
                    ME->>Track: ë‹¤ìŒ ìƒ˜í”Œë¡œ ì´ë™
                    end

                    App->>ME: release()
                    ME->>DS: ë¦¬ì†ŒìŠ¤ í•´ì œ
                    ME->>Parser: ë¦¬ì†ŒìŠ¤ í•´ì œ
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                ğŸ“ ì£¼ìš” API ë©”ì„œë“œ
            </h3>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”§</span>
                        ì´ˆê¸°í™”
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>new MediaExtractor()</code>: ì¸ìŠ¤í„´ìŠ¤ ìƒì„±</li>
                            <li><code>setDataSource(path)</code>: íŒŒì¼ ê²½ë¡œ</li>
                            <li><code>setDataSource(context, uri)</code>: Content URI</li>
                            <li><code>setDataSource(fd)</code>: File Descriptor</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“Š</span>
                        íŠ¸ë™ ì •ë³´
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>getTrackCount()</code>: íŠ¸ë™ ê°œìˆ˜</li>
                            <li><code>getTrackFormat(i)</code>: íŠ¸ë™ í¬ë§·</li>
                            <li><code>selectTrack(i)</code>: íŠ¸ë™ ì„ íƒ</li>
                            <li><code>unselectTrack(i)</code>: íŠ¸ë™ ì„ íƒ í•´ì œ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“¦</span>
                        ìƒ˜í”Œ ì½ê¸°
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>readSampleData(buffer, offset)</code>: ìƒ˜í”Œ ë°ì´í„°</li>
                            <li><code>getSampleTime()</code>: PTS (Âµs)</li>
                            <li><code>getSampleFlags()</code>: í”Œë˜ê·¸</li>
                            <li><code>getSampleTrackIndex()</code>: íŠ¸ë™ ì¸ë±ìŠ¤</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">â©</span>
                        íƒìƒ‰ ë° ì œì–´
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>advance()</code>: ë‹¤ìŒ ìƒ˜í”Œ</li>
                            <li><code>seekTo(timeUs, mode)</code>: ì‹œê°„ íƒìƒ‰</li>
                            <li><code>getCachedDuration()</code>: ìºì‹œ ìƒíƒœ</li>
                            <li><code>release()</code>: ë¦¬ì†ŒìŠ¤ í•´ì œ</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Container Parsers -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">4</span>
                ì»¨í…Œì´ë„ˆ Parser ìƒì„¸
            </h2>
            <p class="section-description">
                ì£¼ìš” ì»¨í…Œì´ë„ˆ í¬ë§·ë³„ Parserì˜ êµ¬ì¡°ì™€ ë™ì‘ ë°©ì‹ì„ ì„¤ëª…í•©ë‹ˆë‹¤.
            </p>

            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-bottom: 20px;">
                ğŸ“¦ MP4 (MPEG4Extractor)
            </h3>

            <div class="mermaid-container">
                <div class="mermaid">
                    flowchart TB
                    START[MP4 íŒŒì¼] --> FTYP[ftyp Box<br />íŒŒì¼ íƒ€ì… ì‹ë³„]
                    FTYP --> MOOV[moov Box<br />ë©”íƒ€ë°ì´í„° ì»¨í…Œì´ë„ˆ]

                    MOOV --> MVHD[mvhd Box<br />Movie Header<br />ì¬ìƒ ì‹œê°„, íƒ€ì„ìŠ¤ì¼€ì¼]
                    MOOV --> TRAK[trak Box<br />íŠ¸ë™ ì •ë³´]

                    TRAK --> TKHD[tkhd Box<br />Track Header<br />íŠ¸ë™ ID, í•´ìƒë„]
                    TRAK --> MDIA[mdia Box<br />Media ì •ë³´]

                    MDIA --> MDHD[mdhd Box<br />Media Header<br />íƒ€ì„ìŠ¤ì¼€ì¼, ì¬ìƒì‹œê°„]
                    MDIA --> HDLR[hdlr Box<br />Handler<br />vide/soun/subt]
                    MDIA --> MINF[minf Box<br />Media Info]

                    MINF --> STBL[stbl Box<br />Sample Table]

                    STBL --> STSD[stsd Box<br />Sample Description<br />ì½”ë± ì •ë³´]
                    STBL --> STTS[stts Box<br />Time-to-Sample<br />ìƒ˜í”Œ ì¬ìƒ ì‹œê°„]
                    STBL --> STSC[stsc Box<br />Sample-to-Chunk<br />ì²­í¬ ë§¤í•‘]
                    STBL --> STSZ[stsz Box<br />Sample Size<br />ìƒ˜í”Œ í¬ê¸°]
                    STBL --> STCO[stco Box<br />Chunk Offset<br />ë°ì´í„° ìœ„ì¹˜]

                    START --> MDAT[mdat Box<br />ì‹¤ì œ ë¯¸ë””ì–´ ë°ì´í„°]

                    style MOOV fill:#1a1f35,stroke:#f59e0b,stroke-width:2px
                    style STBL fill:#1a1f35,stroke:#fbbf24,stroke-width:2px
                    style MDAT fill:#1a1f35,stroke:#10b981,stroke-width:2px
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                ğŸ“¦ MKV (MatroskaExtractor)
            </h3>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ—ï¸</span>
                        EBML êµ¬ì¡°
                    </h3>
                    <div class="card-description">
                        <p><strong>Extensible Binary Meta Language</strong></p>
                        <ul>
                            <li>EBML Header: ë¬¸ì„œ íƒ€ì… (Matroska)</li>
                            <li>Segment: ìµœìƒìœ„ ì»¨í…Œì´ë„ˆ</li>
                            <li>Element ID + Size + Data êµ¬ì¡°</li>
                            <li>ê°€ë³€ ê¸¸ì´ ì¸ì½”ë”©</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“‹</span>
                        ì£¼ìš” Element
                    </h3>
                    <div class="card-description">
                        <p><strong>Segment ë‚´ë¶€ êµ¬ì¡°</strong></p>
                        <ul>
                            <li><strong>SeekHead</strong>: ë‹¤ë¥¸ Element ìœ„ì¹˜ ì¸ë±ìŠ¤</li>
                            <li><strong>Info</strong>: Segment ì •ë³´ (ì¬ìƒì‹œê°„, íƒ€ì„ì½”ë“œ ìŠ¤ì¼€ì¼)</li>
                            <li><strong>Tracks</strong>: íŠ¸ë™ ì •ë³´ (ì½”ë±, í•´ìƒë„)</li>
                            <li><strong>Cluster</strong>: ì‹¤ì œ ë¯¸ë””ì–´ ë°ì´í„° ë¸”ë¡</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸï¸</span>
                        Cluster êµ¬ì¡°
                    </h3>
                    <div class="card-description">
                        <p><strong>ë¯¸ë””ì–´ ë°ì´í„° ì¡°ì§</strong></p>
                        <ul>
                            <li>Timecode: Cluster ì‹œì‘ íƒ€ì„ìŠ¤íƒ¬í”„</li>
                            <li>SimpleBlock: ë‹¨ì¼ í”„ë ˆì„ ë°ì´í„°</li>
                            <li>BlockGroup: ë³µì¡í•œ í”„ë ˆì„ (B-frame ë“±)</li>
                            <li>Keyframe í”Œë˜ê·¸ í¬í•¨</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš¡</span>
                        MKV ì¥ì 
                    </h3>
                    <div class="card-description">
                        <p><strong>ìœ ì—°ì„± ë° í™•ì¥ì„±</strong></p>
                        <ul>
                            <li>ë‹¤ì–‘í•œ ì½”ë± ì§€ì›</li>
                            <li>ë‹¤ì¤‘ ì˜¤ë””ì˜¤/ìë§‰ íŠ¸ë™</li>
                            <li>ì±•í„° ë° ë©”ë‰´ ì§€ì›</li>
                            <li>ë©”íƒ€ë°ì´í„° í’ë¶€</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: Sample Extraction -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">5</span>
                ìƒ˜í”Œ ì¶”ì¶œ ë©”ì»¤ë‹ˆì¦˜
            </h2>
            <p class="section-description">
                Parserê°€ ì»¨í…Œì´ë„ˆì—ì„œ ì‹¤ì œ ìƒ˜í”Œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•˜ëŠ” ê³¼ì •ì„ ìƒì„¸íˆ ì„¤ëª…í•©ë‹ˆë‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    flowchart TB
                    START[readSampleData í˜¸ì¶œ] --> TRACK_CHECK{ì„ íƒëœ íŠ¸ë™<br />ì¡´ì¬?}

                    TRACK_CHECK -->|No| ERROR[ì—ëŸ¬ ë°˜í™˜]
                    TRACK_CHECK -->|Yes| GET_SAMPLE[í˜„ì¬ ìƒ˜í”Œ ì •ë³´ ì¡°íšŒ]

                    GET_SAMPLE --> SAMPLE_TABLE[Sample Table ì°¸ì¡°<br />MP4: stbl<br />MKV: Cluster]

                    SAMPLE_TABLE --> CALC_OFFSET[ìƒ˜í”Œ ì˜¤í”„ì…‹ ê³„ì‚°]
                    CALC_OFFSET --> CALC_SIZE[ìƒ˜í”Œ í¬ê¸° ê³„ì‚°]

                    CALC_SIZE --> SEEK[DataSource seek<br />ì˜¤í”„ì…‹ ìœ„ì¹˜ë¡œ ì´ë™]
                    SEEK --> READ[ìƒ˜í”Œ ë°ì´í„° ì½ê¸°]

                    READ --> BUFFER[ByteBufferì— ë³µì‚¬]
                    BUFFER --> METADATA[ë©”íƒ€ë°ì´í„° ì„¤ì •]

                    METADATA --> PTS[Presentation Timestamp<br />ê³„ì‚° ë° ì €ì¥]
                    METADATA --> FLAGS[í”Œë˜ê·¸ ì„¤ì •<br />SYNC/ENCRYPTED]

                    PTS --> RETURN[ìƒ˜í”Œ í¬ê¸° ë°˜í™˜]
                    FLAGS --> RETURN

                    RETURN --> ADVANCE{advance í˜¸ì¶œ?}
                    ADVANCE -->|Yes| NEXT[ë‹¤ìŒ ìƒ˜í”Œë¡œ í¬ì¸í„° ì´ë™]
                    ADVANCE -->|No| WAIT[ëŒ€ê¸°]

                    NEXT --> END[ì™„ë£Œ]
                    WAIT --> END

                    style SAMPLE_TABLE fill:#1a1f35,stroke:#f59e0b,stroke-width:2px
                    style BUFFER fill:#1a1f35,stroke:#fbbf24,stroke-width:2px
                    style PTS fill:#1a1f35,stroke:#10b981,stroke-width:2px
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                ğŸ” ìƒ˜í”Œ ë©”íƒ€ë°ì´í„°
            </h3>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">â±ï¸</span>
                        Timestamp
                    </h3>
                    <div class="card-description">
                        <p><strong>Presentation Time Stamp (PTS)</strong></p>
                        <ul>
                            <li>ë§ˆì´í¬ë¡œì´ˆ(Âµs) ë‹¨ìœ„</li>
                            <li>ìƒ˜í”Œ í‘œì‹œ ì‹œê°„</li>
                            <li>ë™ê¸°í™”ì— í•„ìˆ˜</li>
                            <li><code>getSampleTime()</code>ë¡œ ì¡°íšŒ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸš©</span>
                        Sample Flags
                    </h3>
                    <div class="card-description">
                        <p><strong>ìƒ˜í”Œ ì†ì„± í”Œë˜ê·¸</strong></p>
                        <ul>
                            <li><code>SAMPLE_FLAG_SYNC</code>: í‚¤í”„ë ˆì„ (I-frame)</li>
                            <li><code>SAMPLE_FLAG_ENCRYPTED</code>: ì•”í˜¸í™”ëœ ìƒ˜í”Œ</li>
                            <li><code>SAMPLE_FLAG_PARTIAL_FRAME</code>: ë¶€ë¶„ í”„ë ˆì„</li>
                            <li><code>getSampleFlags()</code>ë¡œ ì¡°íšŒ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“</span>
                        Sample Size
                    </h3>
                    <div class="card-description">
                        <p><strong>ìƒ˜í”Œ ë°ì´í„° í¬ê¸°</strong></p>
                        <ul>
                            <li>ë°”ì´íŠ¸ ë‹¨ìœ„ í¬ê¸°</li>
                            <li>ë²„í¼ í• ë‹¹ì— ì‚¬ìš©</li>
                            <li><code>readSampleData()</code> ë°˜í™˜ê°’</li>
                            <li>-1: ë” ì´ìƒ ìƒ˜í”Œ ì—†ìŒ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        Track Index
                    </h3>
                    <div class="card-description">
                        <p><strong>ìƒ˜í”Œ ì†Œì† íŠ¸ë™</strong></p>
                        <ul>
                            <li>ë‹¤ì¤‘ íŠ¸ë™ ì„ íƒ ì‹œ ìœ ìš©</li>
                            <li>íŠ¸ë™ë³„ ì²˜ë¦¬ ë¶„ê¸°</li>
                            <li><code>getSampleTrackIndex()</code>ë¡œ ì¡°íšŒ</li>
                            <li>0ë¶€í„° ì‹œì‘í•˜ëŠ” ì¸ë±ìŠ¤</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 6: Seeking -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">6</span>
                Seeking ë©”ì»¤ë‹ˆì¦˜
            </h2>
            <p class="section-description">
                MediaExtractorì˜ ì‹œê°„ ê¸°ë°˜ íƒìƒ‰ ê¸°ëŠ¥ê³¼ ë‹¤ì–‘í•œ Seek ëª¨ë“œë¥¼ ì„¤ëª…í•©ë‹ˆë‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App
                    participant ME as MediaExtractor
                    participant Parser
                    participant Index as Sample Index

                    App->>ME: seekTo(timeUs, mode)
                    ME->>Parser: seek ìš”ì²­

                    alt SEEK_TO_PREVIOUS_SYNC
                    Parser->>Index: timeUs ì´ì „ í‚¤í”„ë ˆì„ ê²€ìƒ‰
                    Index-->>Parser: ì´ì „ Sync ìƒ˜í”Œ ìœ„ì¹˜
                    else SEEK_TO_NEXT_SYNC
                    Parser->>Index: timeUs ì´í›„ í‚¤í”„ë ˆì„ ê²€ìƒ‰
                    Index-->>Parser: ë‹¤ìŒ Sync ìƒ˜í”Œ ìœ„ì¹˜
                    else SEEK_TO_CLOSEST_SYNC
                    Parser->>Index: timeUsì— ê°€ì¥ ê°€ê¹Œìš´ í‚¤í”„ë ˆì„
                    Index-->>Parser: ê°€ì¥ ê°€ê¹Œìš´ Sync ìƒ˜í”Œ
                    end

                    Parser->>Parser: ìƒ˜í”Œ í¬ì¸í„° ì´ë™
                    Parser-->>ME: Seek ì™„ë£Œ
                    ME-->>App: ì„±ê³µ ë°˜í™˜

                    App->>ME: getSampleTime()
                    ME-->>App: ì‹¤ì œ Seekëœ ì‹œê°„
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                ğŸ¯ Seek ëª¨ë“œ
            </h3>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">â®ï¸</span>
                        PREVIOUS_SYNC
                    </h3>
                    <div class="card-description">
                        <p><strong>ì´ì „ í‚¤í”„ë ˆì„ìœ¼ë¡œ ì´ë™</strong></p>
                        <ul>
                            <li>ì§€ì • ì‹œê°„ ì´ì „ì˜ ê°€ì¥ ê°€ê¹Œìš´ í‚¤í”„ë ˆì„</li>
                            <li>ì •í™•í•œ ë””ì½”ë”© ë³´ì¥</li>
                            <li>ì—­ë°©í–¥ ì¬ìƒì— ìœ ìš©</li>
                            <li>ì•½ê°„ ì´ë¥¸ ì‹œê°„ìœ¼ë¡œ ì´ë™</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">â­ï¸</span>
                        NEXT_SYNC
                    </h3>
                    <div class="card-description">
                        <p><strong>ë‹¤ìŒ í‚¤í”„ë ˆì„ìœ¼ë¡œ ì´ë™</strong></p>
                        <ul>
                            <li>ì§€ì • ì‹œê°„ ì´í›„ì˜ ê°€ì¥ ê°€ê¹Œìš´ í‚¤í”„ë ˆì„</li>
                            <li>ë¹ ë¥¸ íƒìƒ‰ ê°€ëŠ¥</li>
                            <li>ì •ë°©í–¥ ìŠ¤í‚µì— ìœ ìš©</li>
                            <li>ì•½ê°„ ëŠ¦ì€ ì‹œê°„ìœ¼ë¡œ ì´ë™</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        CLOSEST_SYNC
                    </h3>
                    <div class="card-description">
                        <p><strong>ê°€ì¥ ê°€ê¹Œìš´ í‚¤í”„ë ˆì„</strong></p>
                        <ul>
                            <li>ì§€ì • ì‹œê°„ì— ê°€ì¥ ê°€ê¹Œìš´ í‚¤í”„ë ˆì„</li>
                            <li>ì •í™•ë„ì™€ ì„±ëŠ¥ì˜ ê· í˜•</li>
                            <li>ì¼ë°˜ì ì¸ Seekì— ê¶Œì¥</li>
                            <li>ì‚¬ìš©ì ê²½í—˜ ìµœì í™”</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš ï¸</span>
                        ì£¼ì˜ì‚¬í•­
                    </h3>
                    <div class="card-description">
                        <p><strong>Seek ì‹œ ê³ ë ¤ì‚¬í•­</strong></p>
                        <ul>
                            <li>í‚¤í”„ë ˆì„ë§Œ Seek ê°€ëŠ¥ (I-frame)</li>
                            <li>B/P-frameì€ ë””ì½”ë”© ì˜ì¡´ì„± ìˆìŒ</li>
                            <li>ì •í™•í•œ ì‹œê°„ ë³´ì¥ ì•ˆ ë¨</li>
                            <li><code>getSampleTime()</code>ìœ¼ë¡œ ì‹¤ì œ ìœ„ì¹˜ í™•ì¸</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 8: Decoder Selection -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">8</span>
                ë””ì½”ë” ì„ ì • ê³¼ì •
            </h2>
            <p class="section-description">
                MediaExtractorë¡œ ì¶”ì¶œí•œ ìƒ˜í”Œ ë°ì´í„°ë¥¼ ë””ì½”ë”©í•˜ê¸° ìœ„í•´ ì ì ˆí•œ MediaCodec ë””ì½”ë”ë¥¼ ì„ ì •í•˜ëŠ” ê³¼ì •ì„ ì„¤ëª…í•©ë‹ˆë‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App
                    participant ME as MediaExtractor
                    participant MCL as MediaCodecList
                    participant MCI as MediaCodecInfo
                    participant MC as MediaCodec

                    App->>ME: getTrackFormat(i)
                    ME-->>App: MediaFormat<br />MIME, í•´ìƒë„, í”„ë¡œíŒŒì¼ ë“±

                    App->>MCL: new MediaCodecList<br />(REGULAR_CODECS)
                    MCL-->>App: CodecList ì¸ìŠ¤í„´ìŠ¤

                    App->>MCL: findDecoderForFormat(format)

                    loop ëª¨ë“  ì½”ë± ìˆœíšŒ
                    MCL->>MCI: getCodecInfos()
                    MCI-->>MCL: CodecInfo ë°°ì—´

                    MCL->>MCI: isEncoder()?
                    MCI-->>MCL: false (ë””ì½”ë”ë§Œ)

                    MCL->>MCI: getSupportedTypes()
                    MCI-->>MCL: MIME íƒ€ì… ë°°ì—´

                    alt MIME íƒ€ì… ì¼ì¹˜
                    MCL->>MCI: getCapabilitiesForType(mime)
                    MCI-->>MCL: CodecCapabilities

                    MCL->>MCI: isFormatSupported(format)?

                    alt í¬ë§· ì§€ì›
                    MCI-->>MCL: true
                    MCL-->>App: ì½”ë± ì´ë¦„ ë°˜í™˜
                    else í¬ë§· ë¯¸ì§€ì›
                    MCI-->>MCL: false
                    end
                    end
                    end

                    App->>MC: createByCodecName(name)
                    MC-->>App: MediaCodec ì¸ìŠ¤í„´ìŠ¤

                    App->>MC: configure(format)
                    App->>MC: start()
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                ğŸ” ë””ì½”ë” ì„ ì • ê¸°ì¤€
            </h3>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        MIME íƒ€ì… ë§¤ì¹­
                    </h3>
                    <div class="card-description">
                        <p><strong>ê¸°ë³¸ í•„í„°ë§</strong></p>
                        <ul>
                            <li>video/avc (H.264)</li>
                            <li>video/hevc (H.265)</li>
                            <li>video/vp9, video/av1</li>
                            <li>audio/mp4a-latm (AAC)</li>
                            <li>audio/opus, audio/vorbis</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“</span>
                        í•´ìƒë„ ë° í”„ë¡œíŒŒì¼
                    </h3>
                    <div class="card-description">
                        <p><strong>CodecCapabilities í™•ì¸</strong></p>
                        <ul>
                            <li><code>getVideoCapabilities()</code>: í•´ìƒë„ ë²”ìœ„</li>
                            <li><code>profileLevels</code>: ì§€ì› í”„ë¡œíŒŒì¼/ë ˆë²¨</li>
                            <li><code>colorFormats</code>: ìƒ‰ìƒ í¬ë§·</li>
                            <li><code>isFormatSupported()</code>: ì „ì²´ ê²€ì¦</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš¡</span>
                        í•˜ë“œì›¨ì–´ vs ì†Œí”„íŠ¸ì›¨ì–´
                    </h3>
                    <div class="card-description">
                        <p><strong>ìš°ì„ ìˆœìœ„</strong></p>
                        <ul>
                            <li><strong>í•˜ë“œì›¨ì–´ ì½”ë±</strong>: ë¹ ë¥´ê³  ì „ë ¥ íš¨ìœ¨ì </li>
                            <li>ë²¤ë” ì ‘ë‘ì‚¬ (OMX.Exynos, OMX.qcom ë“±)</li>
                            <li><strong>ì†Œí”„íŠ¸ì›¨ì–´ ì½”ë±</strong>: í˜¸í™˜ì„± ìš°ìˆ˜</li>
                            <li>OMX.google.* ì ‘ë‘ì‚¬</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”§</span>
                        ìƒì„± ë°©ë²•
                    </h3>
                    <div class="card-description">
                        <p><strong>MediaCodec ì¸ìŠ¤í„´ìŠ¤í™”</strong></p>
                        <ul>
                            <li><code>createDecoderByType(mime)</code>: ìë™ ì„ íƒ</li>
                            <li><code>createByCodecName(name)</code>: ëª…ì‹œì  ì„ íƒ</li>
                            <li><code>createEncoderByType(mime)</code>: ì¸ì½”ë”</li>
                            <li>í•˜ë“œì›¨ì–´ ì½”ë± ìš°ì„  ì„ íƒ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); font-size: 1.5rem; margin-top: 40px; margin-bottom: 20px;">
                ğŸ“Š MediaCodecList ì‚¬ìš© ì˜ˆì‹œ
            </h3>

            <div class="mermaid-container">
                <div class="mermaid">
                    flowchart TB
                    START[MediaFormat íšë“] --> CREATE_LIST[MediaCodecList ìƒì„±<br />REGULAR_CODECS]

                    CREATE_LIST --> METHOD{ì„ íƒ ë°©ë²•}

                    METHOD -->|ìë™| AUTO[createDecoderByType<br />mime]
                    METHOD -->|ìˆ˜ë™| MANUAL[findDecoderForFormat<br />format]

                    AUTO --> HW_FIRST{í•˜ë“œì›¨ì–´ ì½”ë±<br />ì‚¬ìš© ê°€ëŠ¥?}
                    HW_FIRST -->|Yes| HW_CODEC[í•˜ë“œì›¨ì–´ ë””ì½”ë” ì„ íƒ]
                    HW_FIRST -->|No| SW_CODEC[ì†Œí”„íŠ¸ì›¨ì–´ ë””ì½”ë” ì„ íƒ]

                    MANUAL --> ITERATE[ì½”ë± ëª©ë¡ ìˆœíšŒ]
                    ITERATE --> CHECK_TYPE{MIME íƒ€ì…<br />ì¼ì¹˜?}

                    CHECK_TYPE -->|No| NEXT[ë‹¤ìŒ ì½”ë±]
                    NEXT --> ITERATE

                    CHECK_TYPE -->|Yes| GET_CAP[CodecCapabilities ì¡°íšŒ]
                    GET_CAP --> CHECK_FORMAT{í¬ë§· ì§€ì›?<br />í•´ìƒë„, í”„ë¡œíŒŒì¼}

                    CHECK_FORMAT -->|No| NEXT
                    CHECK_FORMAT -->|Yes| FOUND[ì½”ë± ì´ë¦„ ì €ì¥]

                    HW_CODEC --> CREATE[createByCodecName]
                    SW_CODEC --> CREATE
                    FOUND --> CREATE

                    CREATE --> CONFIGURE[configure ë° start]
                    CONFIGURE --> END[ë””ì½”ë”© ì¤€ë¹„ ì™„ë£Œ]

                    style HW_CODEC fill:#1a1f35,stroke:#10b981,stroke-width:2px
                    style SW_CODEC fill:#1a1f35,stroke:#f59e0b,stroke-width:2px
                    style CREATE fill:#1a1f35,stroke:#fbbf24,stroke-width:2px
                </div>
            </div>

            <div class="highlight-box">
                <strong>ğŸ’¡ ë””ì½”ë” ì„ ì • Best Practices:</strong>
                <ul style="margin-top: 10px; padding-left: 20px;">
                    <li><code>createDecoderByType()</code>ì„ ì‚¬ìš©í•˜ë©´ ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ìµœì ì˜ ì½”ë± ì„ íƒ</li>
                    <li>íŠ¹ì • ì½”ë±ì´ í•„ìš”í•œ ê²½ìš°ì—ë§Œ <code>MediaCodecList</code>ë¡œ ìˆ˜ë™ ì„ íƒ</li>
                    <li>í•˜ë“œì›¨ì–´ ì½”ë±ì€ ì„±ëŠ¥ì´ ì¢‹ì§€ë§Œ ë””ë°”ì´ìŠ¤ë§ˆë‹¤ ì§€ì› ë²”ìœ„ê°€ ë‹¤ë¦„</li>
                    <li><code>isFormatSupported()</code>ë¡œ ì‚¬ì „ ê²€ì¦í•˜ì—¬ ëŸ°íƒ€ì„ ì—ëŸ¬ ë°©ì§€</li>
                    <li>ì†Œí”„íŠ¸ì›¨ì–´ ì½”ë±ì€ í´ë°±(fallback) ì˜µì…˜ìœ¼ë¡œ ìœ ìš©</li>
                </ul>
            </div>
        </section>

        <!-- Section 9: Best Practices -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">9</span>
                Best Practices
            </h2>
            <p class="section-description">
                MediaExtractorë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ê¶Œì¥ì‚¬í•­ê³¼ ì£¼ì˜ì‚¬í•­ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âœ…</span>
                        ê¶Œì¥ ì‚¬í•­
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>íŠ¸ë™ ì„ íƒ</strong>: í•„ìš”í•œ íŠ¸ë™ë§Œ ì„ íƒí•˜ì—¬ ì„±ëŠ¥ í–¥ìƒ</li>
                            <li><strong>ë²„í¼ ì¬ì‚¬ìš©</strong>: ByteBufferë¥¼ ì¬ì‚¬ìš©í•˜ì—¬ GC ë¶€ë‹´ ê°ì†Œ</li>
                            <li><strong>ë¹„ë™ê¸° ì²˜ë¦¬</strong>: Worker Threadì—ì„œ ìƒ˜í”Œ ì½ê¸°</li>
                            <li><strong>ë¦¬ì†ŒìŠ¤ í•´ì œ</strong>: ì‚¬ìš© í›„ ë°˜ë“œì‹œ <code>release()</code> í˜¸ì¶œ</li>
                            <li><strong>ì—ëŸ¬ ì²˜ë¦¬</strong>: <code>readSampleData()</code> ë°˜í™˜ê°’ í™•ì¸</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âŒ</span>
                        í”¼í•´ì•¼ í•  ì‚¬í•­
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>UI Thread ë¸”ë¡œí‚¹</strong>: ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ìƒ˜í”Œ ì½ê¸° ê¸ˆì§€</li>
                            <li><strong>ê³¼ë„í•œ Seek</strong>: ë¹ˆë²ˆí•œ SeekëŠ” ì„±ëŠ¥ ì €í•˜</li>
                            <li><strong>ë²„í¼ í¬ê¸° ë¶€ì¡±</strong>: ìƒ˜í”Œ í¬ê¸°ë³´ë‹¤ ì‘ì€ ë²„í¼ ì‚¬ìš©</li>
                            <li><strong>íŠ¸ë™ ë¯¸ì„ íƒ</strong>: selectTrack() í˜¸ì¶œ ì—†ì´ ì½ê¸° ì‹œë„</li>
                            <li><strong>ë¦¬ì†ŒìŠ¤ ëˆ„ìˆ˜</strong>: release() ë¯¸í˜¸ì¶œ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        ì„±ëŠ¥ ìµœì í™”
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Direct ByteBuffer</strong>: allocateDirect() ì‚¬ìš©</li>
                            <li><strong>Batch Processing</strong>: ì—¬ëŸ¬ ìƒ˜í”Œ í•œ ë²ˆì— ì²˜ë¦¬</li>
                            <li><strong>ìºì‹±</strong>: MediaFormat ì •ë³´ ìºì‹±</li>
                            <li><strong>Prefetch</strong>: ë‹¤ìŒ ìƒ˜í”Œ ë¯¸ë¦¬ ì½ê¸°</li>
                            <li><strong>Pool</strong>: ByteBuffer Pool ì‚¬ìš©</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”</span>
                        ë””ë²„ê¹… íŒ
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>MediaFormat í™•ì¸</strong>: MIME íƒ€ì… ë° ì½”ë± ì •ë³´</li>
                            <li><strong>Timestamp ê²€ì¦</strong>: PTS ìˆœì„œ ë° ê°„ê²© í™•ì¸</li>
                            <li><strong>í”Œë˜ê·¸ í™•ì¸</strong>: Keyframe ìœ„ì¹˜ íŒŒì•…</li>
                            <li><strong>ë¡œê¹…</strong>: ìƒ˜í”Œ í¬ê¸° ë° ì½ê¸° ì†ë„ ëª¨ë‹ˆí„°ë§</li>
                            <li><strong>ExoPlayer</strong>: ë³µì¡í•œ ê²½ìš° ExoPlayer ì‚¬ìš© ê³ ë ¤</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="warning-box">
                <strong>âš ï¸ ì¤‘ìš” ì°¸ê³ ì‚¬í•­:</strong>
                <ul style="margin-top: 10px; padding-left: 20px;">
                    <li>MediaExtractorëŠ” ì¸ì½”ë”©ëœ ë°ì´í„°ë§Œ ì œê³µ - ë””ì½”ë”©ì€ MediaCodec í•„ìš”</li>
                    <li>ëª¨ë“  ì»¨í…Œì´ë„ˆ í¬ë§·ì´ ì§€ì›ë˜ëŠ” ê²ƒì€ ì•„ë‹˜ - ì‚¬ì „ í™•ì¸ í•„ìš”</li>
                    <li>DRM ì½˜í…ì¸ ëŠ” MediaDrmê³¼ í•¨ê»˜ ì‚¬ìš©í•´ì•¼ í•¨</li>
                    <li>ë„¤íŠ¸ì›Œí¬ ìŠ¤íŠ¸ë¦¼ì€ ë²„í¼ë§ ê³ ë ¤ í•„ìš”</li>
                </ul>
            </div>
        </section>

        <!-- Footer -->
        <footer
            style="text-align: center; padding: 40px 20px; color: var(--text-muted); border-top: 1px solid var(--border-color); margin-top: 60px;">
            <p>MediaExtractor & Parser Architecture</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">
                Container Parsing & Demuxing Framework
            </p>
            <p style="margin-top: 20px;">
                <a href="index.html" style="color: var(--accent-primary); text-decoration: none;">
                    â† AOSP Media Frameworkë¡œ ëŒì•„ê°€ê¸°
                </a>
            </p>
        </footer>
    </div>

    <script>
        mermaid.initialize({
            startOnLoad: true,
            theme: 'dark',
            themeVariables: {
                primaryColor: '#1a1f35',
                primaryTextColor: '#e5e7eb',
                primaryBorderColor: '#f59e0b',
                lineColor: '#fbbf24',
                secondaryColor: '#111827',
                tertiaryColor: '#0a0e1a',
                background: '#0a0e1a',
                mainBkg: '#1a1f35',
                secondBkg: '#111827',
                border1: '#f59e0b',
                border2: '#fbbf24',
                note: '#fcd34d',
                noteBkgColor: 'rgba(245, 158, 11, 0.1)',
                noteBorderColor: '#f59e0b',
                fontFamily: 'Noto Sans KR'
            },
            flowchart: {
                curve: 'basis',
                padding: 20,
                nodeSpacing: 50,
                rankSpacing: 50
            },
            sequence: {
                actorMargin: 50,
                width: 150,
                height: 65,
                boxMargin: 10,
                boxTextMargin: 5,
                noteMargin: 10,
                messageMargin: 35
            }
        });

        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section').forEach(section => {
            section.style.opacity = '0';
            section.style.transform = 'translateY(30px)';
            section.style.transition = 'opacity 0.6s ease-out, transform 0.6s ease-out';
            observer.observe(section);
        });
    </script>
    <script src="scripts/theme-toggle.js"></script>
</body>

</html>