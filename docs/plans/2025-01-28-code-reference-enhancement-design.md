# ì½”ë“œ ì¤‘ì‹¬ ë ˆí¼ëŸ°ìŠ¤ ê°•í™” ì„¤ê³„

> **ì‘ì„±ì¼**: 2025-01-28
> **ëª©í‘œ**: ì‹¤ì œ AOSP ì½”ë“œì™€ ì—°ê²°ëœ ì‹¤ë¬´ ì¤‘ì‹¬ ë ˆí¼ëŸ°ìŠ¤ ì‹œìŠ¤í…œ êµ¬ì¶•

---

## ë°°ê²½

### í˜„ì¬ ë¬¸ì œì 
1. **ì½˜í…ì¸  ê¹Šì´ ë¶€ì¡±**: ê°œë… ì„¤ëª…ë§Œ ìˆê³  ì‹¤ì œ ì½”ë“œ/êµ¬í˜„ ì˜ˆì‹œ ë¶€ì¡±
2. **ì‹¤ë¬´ ì—°ê²° ë¶€ì¡±**: ì´ë¡ ì€ ìˆì§€ë§Œ "ì–¸ì œ ì–´ë–»ê²Œ ì“°ëŠ”ì§€" ê°€ì´ë“œ ë¶€ì¡±
3. **AOSP ë§í¬ ì˜¤ë¥˜**: `diagram-interactive.js`ì—ì„œ ì˜ëª»ëœ URL í˜•ì‹ ì‚¬ìš©

### ëŒ€ìƒ ì‚¬ìš©ì
- ì‹ ì…/ì „í™˜ ê°œë°œì: ë¹ ë¥¸ í•™ìŠµ í•„ìš”
- ìˆ™ë ¨ëœ AAOS ì—”ì§€ë‹ˆì–´: ë ˆí¼ëŸ°ìŠ¤ ê²€ìƒ‰ í•„ìš”
- ì™¸ë¶€ íŒŒíŠ¸ë„ˆ/í˜‘ë ¥ì‚¬: ê¸°ìˆ  ë¬¸ì„œ ì°¸ì¡° í•„ìš”

---

## Phase 1: AOSP ë§í¬ URL ìˆ˜ì •

### ë¬¸ì œ
```javascript
// í˜„ì¬ (ì˜ëª»ëœ í˜•ì‹) - diagram-interactive.js:406
<a href="https://cs.android.com/${nodeData.path}" ...>

// ê²°ê³¼: https://cs.android.com/frameworks/av/media/libstagefright/
// â†’ 404 ì—ëŸ¬
```

### í•´ê²°
```javascript
// ìˆ˜ì • í›„
<a href="https://cs.android.com/android/platform/superproject/main/+/main:${nodeData.path}" ...>

// ê²°ê³¼: https://cs.android.com/android/platform/superproject/main/+/main:frameworks/av/media/libstagefright/
// â†’ ìœ íš¨í•œ AOSP ì†ŒìŠ¤ í˜ì´ì§€
```

### ìˆ˜ì • íŒŒì¼
- `scripts/diagram-interactive.js` (1ê°œ íŒŒì¼, 1ì¤„ ìˆ˜ì •)

### ì˜ˆìƒ ì†Œìš”
- 5ë¶„

---

## Phase 2: ì½”ë“œ ìŠ¤ë‹ˆí« í™•ì¥

### í˜„ì¬ ìƒíƒœ
- `codeExample` í•„ë“œ ì¡´ì¬í•˜ì§€ë§Œ ê±°ì˜ ë¯¸ì‚¬ìš© (ì•½ 5ê°œ ë¯¸ë§Œ)

### ê°œì„  ë‚´ìš©

#### ëŒ€ìƒ ë…¸ë“œ (ìš°ì„ ìˆœìœ„ë³„)

| ìš°ì„ ìˆœìœ„ | ëŒ€ìƒ ë…¸ë“œ | ì½”ë“œ ìŠ¤ë‹ˆí« ìœ í˜• |
|---------|----------|-----------------|
| ë†’ìŒ | MediaPlayer, ExoPlayer, MediaCodec | API ì‚¬ìš© ì˜ˆì‹œ (Kotlin/Java) |
| ë†’ìŒ | AudioTrack, AudioRecord | ê¸°ë³¸ ì¬ìƒ/ë…¹ìŒ ì½”ë“œ |
| ì¤‘ê°„ | MediaSession, MediaController | ì„¸ì…˜ ìƒì„±/ì»¨íŠ¸ë¡¤ ì˜ˆì‹œ |
| ì¤‘ê°„ | VHAL, CarAudioService | AAOS ì—°ë™ ì½”ë“œ |
| ë‚®ìŒ | HAL/Native ì»´í¬ë„ŒíŠ¸ | C++ ì¸í„°í˜ì´ìŠ¤ ì˜ˆì‹œ |

#### ë°ì´í„° êµ¬ì¡° í™•ì¥
```javascript
'MediaPlayer': {
    title: 'MediaPlayer',
    layer: 'Framework',
    description: '...',
    components: [...],
    path: 'frameworks/base/media/java/android/media/MediaPlayer.java',
    doc: 'https://developer.android.com/reference/android/media/MediaPlayer',
    codeExample: `
// ê¸°ë³¸ ì¬ìƒ
val mediaPlayer = MediaPlayer().apply {
    setDataSource(context, uri)
    prepare()
    start()
}

// ë¦¬ì†ŒìŠ¤ í•´ì œ
mediaPlayer.release()
    `.trim(),
    codeLanguage: 'kotlin'  // ì‹ ê·œ í•„ë“œ
}
```

### ìˆ˜ì • íŒŒì¼
- `scripts/diagram-data.js` (ì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ê°€)

### ì˜ˆìƒ ì‘ì—…ëŸ‰
- í•µì‹¬ API ë…¸ë“œ 30ê°œ Ã— ì½”ë“œ ìŠ¤ë‹ˆí«

---

## Phase 3: ì‹¤ë¬´ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì—°ê²°

### í˜„ì¬ ìƒíƒœ
- `common-media-issues.html`ì— 16ê°œ ì´ìŠˆ ë¬¸ì„œí™”
- ë‹¤ì´ì–´ê·¸ë¨ ë…¸ë“œì™€ ì—°ê²° ì—†ìŒ

### ê°œì„  ë‚´ìš©

#### ë°ì´í„° êµ¬ì¡° í™•ì¥
```javascript
'MediaCodec': {
    // ê¸°ì¡´ í•„ë“œ...
    relatedIssues: [
        { id: 'codec-not-found', title: 'ì½”ë±ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ' },
        { id: 'decoder-init-fail', title: 'ë””ì½”ë” ì´ˆê¸°í™” ì‹¤íŒ¨' }
    ]
}
```

#### ëª¨ë‹¬ UI ë³€ê²½
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MediaCodec                    [X]   â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ Native Layer                        â”‚
â”‚                                     â”‚
â”‚ ì„¤ëª…...                             â”‚
â”‚                                     â”‚
â”‚ ğŸ“¦ ì£¼ìš” ì»´í¬ë„ŒíŠ¸                     â”‚
â”‚ â€¢ configure()                       â”‚
â”‚ â€¢ start()/stop()                    â”‚
â”‚                                     â”‚
â”‚ âš ï¸ ê´€ë ¨ ì´ìŠˆ                         â”‚
â”‚ â€¢ ì½”ë±ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ â†’              â”‚
â”‚ â€¢ ë””ì½”ë” ì´ˆê¸°í™” ì‹¤íŒ¨ â†’               â”‚
â”‚                                     â”‚
â”‚ [ë¬¸ì„œ ë³´ê¸°] [AOSP ì†ŒìŠ¤]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ìˆ˜ì • íŒŒì¼
- `scripts/diagram-data.js` (relatedIssues í•„ë“œ ì¶”ê°€)
- `scripts/diagram-interactive.js` (ëª¨ë‹¬ ë Œë”ë§ ìˆ˜ì •)
- `common-media-issues.html` (ì•µì»¤ ID ì¶”ê°€)

### ì˜ˆìƒ ì‘ì—…ëŸ‰
- í•µì‹¬ ë…¸ë“œ 50ê°œ Ã— ê´€ë ¨ ì´ìŠˆ ë§¤í•‘

---

## Phase 4: ì „ì—­ ê²€ìƒ‰ ê¸°ëŠ¥

### í˜„ì¬ ìƒíƒœ
- ê²€ìƒ‰ ê¸°ëŠ¥ ì—†ìŒ
- ì •ë³´ íƒìƒ‰ì´ ì–´ë ¤ì›€

### ê°œì„  ë‚´ìš©

#### ê²€ìƒ‰ UI
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ” MediaCodec                          [X]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ“„ í˜ì´ì§€                                    â”‚
â”‚   â€¢ Codec 2.0 & Media HAL (codec2.html)     â”‚
â”‚   â€¢ Media Framework Core                    â”‚
â”‚                                             â”‚
â”‚ ğŸ“Š ë‹¤ì´ì–´ê·¸ë¨ ë…¸ë“œ                           â”‚
â”‚   â€¢ MediaCodec (Native Layer)               â”‚
â”‚   â€¢ MediaCodecService                       â”‚
â”‚                                             â”‚
â”‚ ğŸ“– ìš©ì–´ì§‘                                    â”‚
â”‚   â€¢ MediaCodec - ì €ìˆ˜ì¤€ ì½”ë± API...         â”‚
â”‚                                             â”‚
â”‚ âš ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…                               â”‚
â”‚   â€¢ ì½”ë±ì„ ì°¾ì„ ìˆ˜ ì—†ìŒ                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ê²€ìƒ‰ ëŒ€ìƒ
| ì†ŒìŠ¤ | ê²€ìƒ‰ í•„ë“œ | ìš°ì„ ìˆœìœ„ |
|------|----------|---------|
| í˜ì´ì§€ ëª©ë¡ | ì œëª©, ì„¤ëª… | ë†’ìŒ |
| DIAGRAM_NODE_DATA | title, description, components | ë†’ìŒ |
| ìš©ì–´ì§‘ | ìš©ì–´ëª…, ì •ì˜ | ì¤‘ê°„ |
| íŠ¸ëŸ¬ë¸”ìŠˆíŒ… | ì´ìŠˆëª…, ì¦ìƒ, í•´ê²°ì±… | ì¤‘ê°„ |

#### ê¸°ìˆ  ìŠ¤íƒ
- **Fuse.js**: í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ í¼ì§€ ê²€ìƒ‰
- **ë‹¨ì¶•í‚¤**: `/` ë˜ëŠ” `Ctrl+K`

### ì‹ ê·œ íŒŒì¼
- `scripts/search-index.js` - ê²€ìƒ‰ ì¸ë±ìŠ¤ ìƒì„±
- `scripts/search-ui.js` - ê²€ìƒ‰ UI ì»´í¬ë„ŒíŠ¸

### ìˆ˜ì • íŒŒì¼
- `styles/design-system.css` (ê²€ìƒ‰ UI ìŠ¤íƒ€ì¼)
- `index.html` (ê²€ìƒ‰ì°½ ì¶”ê°€)

---

## êµ¬í˜„ ë¡œë“œë§µ

| Phase | ì‘ì—… | ë‚œì´ë„ | ì¦‰ì‹œ ê°€ì¹˜ | ìƒíƒœ |
|-------|------|--------|----------|------|
| Phase 1 | AOSP ë§í¬ URL ìˆ˜ì • | â­ | â­â­â­ | âœ… ì™„ë£Œ |
| Phase 2 | ì½”ë“œ ìŠ¤ë‹ˆí« ì¶”ê°€ | â­â­ | â­â­â­ | âœ… ì™„ë£Œ (14ê°œ ì¶”ê°€) |
| Phase 3 | íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì—°ê²° | â­â­ | â­â­ | âœ… ì™„ë£Œ |
| Phase 4 | ì „ì—­ ê²€ìƒ‰ ê¸°ëŠ¥ | â­â­â­ | â­â­â­ | ğŸ”² ëŒ€ê¸° |

---

## íŒŒì¼ ë³€ê²½ ìš”ì•½

```
scripts/
â”œâ”€â”€ diagram-interactive.js  # Phase 1, 3
â”œâ”€â”€ diagram-data.js         # Phase 2, 3
â”œâ”€â”€ search-index.js         # Phase 4 (ì‹ ê·œ)
â””â”€â”€ search-ui.js            # Phase 4 (ì‹ ê·œ)

styles/
â””â”€â”€ design-system.css       # Phase 4

*.html
â”œâ”€â”€ index.html              # Phase 4
â””â”€â”€ common-media-issues.html # Phase 3
```
