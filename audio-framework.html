<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Prevent Flash of Incorrect Theme (FOIT) -->
    <script>
    (function(){var t=localStorage.getItem('android-media-framework-theme');if(t)document.documentElement.setAttribute('data-theme',t);else if(window.matchMedia&&window.matchMedia('(prefers-color-scheme:light)').matches)document.documentElement.setAttribute('data-theme','light');})();
    </script>
    <title>Android Audio Framework</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;600;700;900&family=IBM+Plex+Mono:wght@400;500;600&family=Playfair+Display:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles/design-system.css">

        <style>
        /* Page-specific styles loaded from design-system.css */
    </style>
</head>

<body>
    <nav class="nav">
        <a href="index.html" class="nav-button">
            â† AOSP Media Framework
        </a>
    </nav>

    <div class="container">
        <header>
            <h1 class="page-title">ğŸµ Audio Framework</h1>
            <p class="page-subtitle">Android ì˜¤ë””ì˜¤ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ ë° í•µì‹¬ ì»´í¬ë„ŒíŠ¸</p>
        </header>

        <!-- Section 1: Audio Framework Overview -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">1</span>
                Audio Framework ê°œìš”
            </h2>
            <p class="section-description">
                Android Audio FrameworkëŠ” ëª¨ë“  ì˜¤ë””ì˜¤ ê¸°ëŠ¥ì„ ê´€ë¦¬í•˜ëŠ” í•µì‹¬ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
            </p>

            <div class="highlight-box">
                <strong>Audio Frameworkë€?</strong> ì• í”Œë¦¬ì¼€ì´ì…˜ë¶€í„° í•˜ë“œì›¨ì–´ê¹Œì§€ ì˜¤ë””ì˜¤ ì¬ìƒ, ë…¹ìŒ, ë¯¹ì‹±, ë¼ìš°íŒ…ì„ ë‹´ë‹¹í•˜ëŠ”
                ì™„ì „í•œ ì˜¤ë””ì˜¤ ì²˜ë¦¬ ìŠ¤íƒì…ë‹ˆë‹¤.
            </div>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        ì£¼ìš” ê¸°ëŠ¥
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>ì˜¤ë””ì˜¤ ì¬ìƒ ë° ë…¹ìŒ</li>
                            <li>ë‹¤ì¤‘ ìŠ¤íŠ¸ë¦¼ ë¯¹ì‹±</li>
                            <li>ì˜¤ë””ì˜¤ ë¼ìš°íŒ… ë° í¬ì»¤ìŠ¤ ê´€ë¦¬</li>
                            <li>ë³¼ë¥¨ ì œì–´ ë° ìŒí–¥ íš¨ê³¼</li>
                            <li>ì €ì§€ì—° ì˜¤ë””ì˜¤ ì²˜ë¦¬</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ—ï¸</span>
                        í•µì‹¬ ì»´í¬ë„ŒíŠ¸
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>AudioFlinger</code>: ì˜¤ë””ì˜¤ ë¯¹ì‹± ì—”ì§„</li>
                            <li><code>AudioPolicyService</code>: ë¼ìš°íŒ… ì •ì±…</li>
                            <li><code>Audio HAL</code>: í•˜ë“œì›¨ì–´ ì¶”ìƒí™”</li>
                            <li><code>AudioTrack/AudioRecord</code>: API</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš¡</span>
                        ì²˜ë¦¬ íŠ¹ì„±
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>ì‹¤ì‹œê°„ ì €ì§€ì—° ì²˜ë¦¬</li>
                            <li>32-bit ë¶€ë™ì†Œìˆ˜ì  ë¯¹ì‹±</li>
                            <li>ë©€í‹°ìŠ¤ë ˆë“œ ì•„í‚¤í…ì²˜</li>
                            <li>IPC ê¸°ë°˜ í†µì‹  (Binder)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Core Audio Architecture -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">2</span>
                Audio Framework ì „ì²´ ì•„í‚¤í…ì²˜
            </h2>
            <p class="section-description">
                ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´ë¶€í„° í•˜ë“œì›¨ì–´ê¹Œì§€ 5ê°œì˜ ì£¼ìš” ë ˆì´ì–´ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤.
            </p>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    APP["ğŸ“± Application Layer<br /><br />AudioTrack, AudioRecord<br />MediaPlayer, AAudio API"]

                    FW["ğŸ”§ Framework Layer<br /><br />AudioManager<br />AudioService"]

                    NATIVE["âš¡ Native Layer<br /><br />AudioFlinger (Mixing Engine)<br />AudioPolicyService (Routing &
                    Policy)"]

                    HAL["ğŸ”Œ Audio HAL<br /><br />IDeviceFactory, IDevice<br />IStreamOut, IStreamIn<br />(HIDL/AIDL
                    Interface)"]

                    KERNEL["ğŸ§ Linux Kernel<br /><br />ALSA Drivers<br />Audio Hardware Drivers"]

                    APP --> FW
                    FW --> NATIVE
                    NATIVE --> HAL
                    HAL --> KERNEL

                </div>
            </div>
        </section>

        <!-- Section 3: AudioFlinger -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">3</span>
                AudioFlinger - ì˜¤ë””ì˜¤ ë¯¹ì‹± ì—”ì§„
            </h2>
            <p class="section-description">
                AudioFlingerëŠ” Android ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œì˜ í•µì‹¬ìœ¼ë¡œ, ëª¨ë“  ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ì„ ë¯¹ì‹±í•˜ê³  ì²˜ë¦¬í•©ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ›ï¸</span>
                        ì£¼ìš” ì—­í• 
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ì˜¤ë””ì˜¤ ë¯¹ì‹±</strong>: ë‹¤ì¤‘ ìŠ¤íŠ¸ë¦¼ì„ í•˜ë‚˜ë¡œ í•©ì„±</li>
                            <li><strong>ìŠ¤ë ˆë“œ ê´€ë¦¬</strong>: PlaybackThread, RecordThread</li>
                            <li><strong>íš¨ê³¼ ì²˜ë¦¬</strong>: ì´í€„ë¼ì´ì €, ë¦¬ë²„ë¸Œ ë“±</li>
                            <li><strong>HAL í†µì‹ </strong>: í•˜ë“œì›¨ì–´ ì œì–´</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”„</span>
                        ìŠ¤ë ˆë“œ ì•„í‚¤í…ì²˜
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>PlaybackThread</code>: ì¬ìƒ ì²˜ë¦¬</li>
                            <li><code>MixerThread</code>: ë¯¹ì‹± ìˆ˜í–‰</li>
                            <li><code>RecordThread</code>: ë…¹ìŒ ì²˜ë¦¬</li>
                            <li><code>OffloadThread</code>: í•˜ë“œì›¨ì–´ ì˜¤í”„ë¡œë“œ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸšï¸</span>
                        ë¯¹ì‹± íŠ¹ì„±
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>32-bit float ë¯¹ì‹± (Android 9+)</li>
                            <li>ìƒ˜í”Œë ˆì´íŠ¸ ë¦¬ìƒ˜í”Œë§</li>
                            <li>ì±„ë„ ë¯¹ì‹± (ëª¨ë…¸/ìŠ¤í…Œë ˆì˜¤)</li>
                            <li>ë³¼ë¥¨ ì œì–´ ë° í˜ì´ë“œ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph LR
                    subgraph AudioFlinger
                    AT1[AudioTrack 1]
                    AT2[AudioTrack 2]
                    AT3[AudioTrack 3]

                    MIXER[MixerThread<br />32-bit Float Mixing]

                    EFFECTS[Audio Effects<br />EQ, Reverb, etc.]

                    AT1 --> MIXER
                    AT2 --> MIXER
                    AT3 --> MIXER
                    MIXER --> EFFECTS
                    end

                    EFFECTS --> HAL_OUT[Audio HAL<br />IStreamOut]
                    HAL_OUT --> HW[Hardware<br />Speaker/DAC]

                </div>
            </div>
        </section>

        <!-- Section 4: AudioPolicyService -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">4</span>
                AudioPolicyService - ë¼ìš°íŒ… ë° ì •ì±…
            </h2>
            <p class="section-description">
                AudioPolicyServiceëŠ” ì˜¤ë””ì˜¤ ë¼ìš°íŒ…, ë³¼ë¥¨, ë””ë°”ì´ìŠ¤ ê´€ë¦¬ë¥¼ ê²°ì •í•˜ëŠ” ì •ì±… ê´€ë¦¬ìì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        ì •ì±… ê²°ì •
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ë¼ìš°íŒ…</strong>: ì–´ëŠ ë””ë°”ì´ìŠ¤ë¡œ ì¶œë ¥í• ì§€</li>
                            <li><strong>ë³¼ë¥¨</strong>: ìŠ¤íŠ¸ë¦¼ë³„ ë³¼ë¥¨ ìˆ˜ì¤€</li>
                            <li><strong>ìŠ¤íŠ¸ë¦¼ íƒ€ì…</strong>: MUSIC, VOICE_CALL ë“±</li>
                            <li><strong>ìš°ì„ ìˆœìœ„</strong>: í¬ì»¤ìŠ¤ ê¸°ë°˜ ìš°ì„ ìˆœìœ„</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Œ</span>
                        ë””ë°”ì´ìŠ¤ ê´€ë¦¬
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>ì—°ê²°ëœ ì˜¤ë””ì˜¤ ë””ë°”ì´ìŠ¤ ì¶”ì </li>
                            <li>í—¤ë“œí°/ë¸”ë£¨íˆ¬ìŠ¤ ê°ì§€</li>
                            <li>ìë™ ë¼ìš°íŒ… ì „í™˜</li>
                            <li>ë©€í‹° ë””ë°”ì´ìŠ¤ ì¶œë ¥ (Android 12+)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¤</span>
                        AudioFlinger í˜‘ì—…
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ì •ì±… ê²°ì •ì</strong>: AudioPolicyService</li>
                            <li><strong>ì •ì±… ì‹¤í–‰ì</strong>: AudioFlinger</li>
                            <li>ëŠìŠ¨í•œ ê²°í•©ìœ¼ë¡œ ë…ë¦½ì  í™•ì¥</li>
                            <li>Binder IPCë¡œ í†µì‹ </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    APP[Application<br />AudioManager]

                    APS[AudioPolicyService<br />Policy Maker]

                    AF[AudioFlinger<br />Policy Executor]

                    subgraph Decision["Policy Decisions"]
                    ROUTE[Routing<br />Speaker vs Headphone]
                    VOL[Volume Control<br />Per Stream Type]
                    DEV[Device Selection<br />Bluetooth, USB, etc.]
                    end

                    HAL[Audio HAL]

                    APP --> APS
                    APS --> ROUTE
                    APS --> VOL
                    APS --> DEV
                    ROUTE --> AF
                    VOL --> AF
                    DEV --> AF
                    AF --> HAL

                </div>
            </div>
        </section>

        <!-- Section 5: Audio Pipeline Flows -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">5</span>
                ì˜¤ë””ì˜¤ íŒŒì´í”„ë¼ì¸ í”Œë¡œìš°
            </h2>
            <p class="section-description">
                ì¬ìƒê³¼ ë…¹ìŒ ì‹œ ë°ì´í„°ê°€ íë¥´ëŠ” ì „ì²´ ê²½ë¡œë¥¼ ì‹œê°í™”í•©ë‹ˆë‹¤.
            </p>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“¤ ì¬ìƒ íŒŒì´í”„ë¼ì¸ (Playback)
            </h3>
            <div class="mermaid-container">
                <div class="mermaid">
                    graph LR
                    APP[Application<br />MediaPlayer/AAudio]
                    AT[AudioTrack API]
                    BINDER1[Binder IPC]
                    AF[AudioFlinger<br />Mixer Thread]
                    HAL[Audio HAL<br />IStreamOut]
                    ALSA[ALSA Driver]
                    HW[Speaker/DAC]

                    APP --> AT
                    AT --> BINDER1
                    BINDER1 --> AF
                    AF --> HAL
                    HAL --> ALSA
                    ALSA --> HW

                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“¥ ë…¹ìŒ íŒŒì´í”„ë¼ì¸ (Capture)
            </h3>
            <div class="mermaid-container">
                <div class="mermaid">
                    graph RL
                    HW[Microphone]
                    ALSA[ALSA Driver]
                    HAL[Audio HAL<br />IStreamIn]
                    AF[AudioFlinger<br />Record Thread]
                    BINDER2[Binder IPC]
                    AR[AudioRecord API]
                    APP[Application<br />MediaRecorder]

                    HW --> ALSA
                    ALSA --> HAL
                    HAL --> AF
                    AF --> BINDER2
                    BINDER2 --> AR
                    AR --> APP

                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“Š Audio Stream Types & Attributes</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>Stream Type (Legacy)</th>
                            <th>Usage (Modern)</th>
                            <th>Content Type</th>
                            <th>ë¼ìš°íŒ…</th>
                            <th>ìš°ì„ ìˆœìœ„</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>STREAM_MUSIC</code></td>
                            <td><code>USAGE_MEDIA</code></td>
                            <td><code>CONTENT_TYPE_MUSIC</code></td>
                            <td>Speaker / Headphone / BT</td>
                            <td>ë³´í†µ</td>
                        </tr>
                        <tr>
                            <td><code>STREAM_VOICE_CALL</code></td>
                            <td><code>USAGE_VOICE_COMMUNICATION</code></td>
                            <td><code>CONTENT_TYPE_SPEECH</code></td>
                            <td>Earpiece / BT Headset</td>
                            <td>ìµœê³ </td>
                        </tr>
                        <tr>
                            <td><code>STREAM_RING</code></td>
                            <td><code>USAGE_NOTIFICATION_RINGTONE</code></td>
                            <td><code>CONTENT_TYPE_SONIFICATION</code></td>
                            <td>Speaker (ìš°ì„ )</td>
                            <td>ë†’ìŒ</td>
                        </tr>
                        <tr>
                            <td><code>STREAM_NOTIFICATION</code></td>
                            <td><code>USAGE_NOTIFICATION</code></td>
                            <td><code>CONTENT_TYPE_SONIFICATION</code></td>
                            <td>Speaker</td>
                            <td>ë†’ìŒ</td>
                        </tr>
                        <tr>
                            <td><code>STREAM_ALARM</code></td>
                            <td><code>USAGE_ALARM</code></td>
                            <td><code>CONTENT_TYPE_SONIFICATION</code></td>
                            <td>Speaker (ê°•ì œ)</td>
                            <td>ìµœê³ </td>
                        </tr>
                        <tr>
                            <td><code>STREAM_SYSTEM</code></td>
                            <td><code>USAGE_ASSISTANCE_SONIFICATION</code></td>
                            <td><code>CONTENT_TYPE_SONIFICATION</code></td>
                            <td>Speaker</td>
                            <td>ë³´í†µ</td>
                        </tr>
                        <tr>
                            <td>N/A</td>
                            <td><code>USAGE_ASSISTANCE_NAVIGATION_GUIDANCE</code></td>
                            <td><code>CONTENT_TYPE_SPEECH</code></td>
                            <td>ì°¨ëŸ‰: ìš´ì „ì„ ìš°ì„ </td>
                            <td>ë†’ìŒ</td>
                        </tr>
                        <tr>
                            <td>N/A</td>
                            <td><code>USAGE_GAME</code></td>
                            <td><code>CONTENT_TYPE_MUSIC</code></td>
                            <td>Speaker / Headphone</td>
                            <td>ë³´í†µ</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="highlight-box" style="margin-top: 20px;">
                <strong>ğŸ’¡ AudioAttributes ì‚¬ìš© (Android 5.0+):</strong> Legacy Stream Type ëŒ€ì‹  AudioAttributes (Usage + ContentType)ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ê¶Œì¥ë©ë‹ˆë‹¤. AudioAttributesëŠ” ë” ì •êµí•œ ë¼ìš°íŒ… ë° í¬ì»¤ìŠ¤ ê´€ë¦¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
            </div>
        </section>

        <!-- Section 6: Audio HAL Interface -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">6</span>
                Audio HAL ì¸í„°í˜ì´ìŠ¤
            </h2>
            <p class="section-description">
                Audio Hardware Abstraction LayerëŠ” í”„ë ˆì„ì›Œí¬ì™€ í•˜ë“œì›¨ì–´ ë“œë¼ì´ë²„ ì‚¬ì´ì˜ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Œ</span>
                        HAL ë²„ì „
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>HIDL</strong>: Android 13 ì´ì „</li>
                            <li><strong>AIDL</strong>: Android 14+ (ìµœì‹ )</li>
                            <li>.hal íŒŒì¼ ë° XSD ìŠ¤í‚¤ë§ˆ</li>
                            <li>Binder RPC ê¸°ë°˜ í†µì‹ </li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“</span>
                        í•µì‹¬ ì¸í„°í˜ì´ìŠ¤
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>IDeviceFactory</code>: HAL ì§„ì…ì </li>
                            <li><code>IDevice / IPrimaryDevice</code>: ë””ë°”ì´ìŠ¤ ì œì–´</li>
                            <li><code>IStreamOut</code>: ì¬ìƒ ìŠ¤íŠ¸ë¦¼</li>
                            <li><code>IStreamIn</code>: ë…¹ìŒ ìŠ¤íŠ¸ë¦¼</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš™ï¸</span>
                        HAL êµ¬ì„±
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Core HAL</strong>: ì¬ìƒ ë° ë¼ìš°íŒ…</li>
                            <li><strong>Effects HAL</strong>: ì˜¤ë””ì˜¤ íš¨ê³¼</li>
                            <li><strong>Common HAL</strong>: ê³µìœ  ë°ì´í„° íƒ€ì…</li>
                            <li>XML ì„¤ì • íŒŒì¼ (audio_policy.conf)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 7: Audio Focus Management -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">7</span>
                Audio Focus ê´€ë¦¬
            </h2>
            <p class="section-description">
                ì—¬ëŸ¬ ì•±ì´ ë™ì‹œì— ì˜¤ë””ì˜¤ë¥¼ ì¬ìƒí•  ë•Œ ì¶©ëŒì„ ë°©ì§€í•˜ëŠ” í˜‘ì—… ë©”ì»¤ë‹ˆì¦˜ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        Focus ìƒíƒœ
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>AUDIOFOCUS_GAIN</code>: í¬ì»¤ìŠ¤ íšë“, ì¬ìƒ ì‹œì‘/ì¬ê°œ</li>
                            <li><code>AUDIOFOCUS_LOSS</code>: í¬ì»¤ìŠ¤ ì˜êµ¬ ì†ì‹¤, ì •ì§€</li>
                            <li><code>AUDIOFOCUS_LOSS_TRANSIENT</code>: ì¼ì‹œ ì†ì‹¤, ì¼ì‹œì •ì§€</li>
                            <li><code>AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK</code>: ë³¼ë¥¨ ê°ì†Œ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”„</span>
                        Focus í”Œë¡œìš°
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>ì•±ì´ <code>requestAudioFocus()</code> í˜¸ì¶œ</li>
                            <li>AudioManagerê°€ ìš”ì²­ í‰ê°€</li>
                            <li>ê¸°ì¡´ í¬ì»¤ìŠ¤ ì†Œìœ ìì—ê²Œ í†µì§€</li>
                            <li>ìƒˆ ì•±ì—ê²Œ í¬ì»¤ìŠ¤ ë¶€ì—¬</li>
                            <li><code>abandonAudioFocus()</code>ë¡œ í•´ì œ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš¡</span>
                        ìë™ Fade (Android 12+)
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ í˜ì´ë“œ ì•„ì›ƒ</li>
                            <li>ë¶€ë“œëŸ¬ìš´ ì˜¤ë””ì˜¤ ì „í™˜</li>
                            <li>ì‚¬ìš©ì ê²½í—˜ ê°œì„ </li>
                            <li>ì•± ê°œë°œì ë¶€ë‹´ ê°ì†Œ</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="mermaid-container">
                <div class="mermaid">
                    sequenceDiagram
                    participant App1 as Music App
                    participant AM as AudioManager
                    participant App2 as Navigation App

                    App1->>AM: requestAudioFocus(GAIN)
                    AM-->>App1: AUDIOFOCUS_GAIN
                    Note over App1: ìŒì•… ì¬ìƒ ì¤‘

                    App2->>AM: requestAudioFocus(GAIN_TRANSIENT)
                    AM->>App1: onAudioFocusChange(LOSS_TRANSIENT)
                    Note over App1: ìŒì•… ì¼ì‹œì •ì§€
                    AM-->>App2: AUDIOFOCUS_GAIN
                    Note over App2: ë‚´ë¹„ê²Œì´ì…˜ ì•ˆë‚´

                    App2->>AM: abandonAudioFocus()
                    AM->>App1: onAudioFocusChange(GAIN)
                    Note over App1: ìŒì•… ì¬ê°œ
                </div>
            </div>
        </section>

        <!-- Section 8: Audio Routing -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">8</span>
                Audio Routing
            </h2>
            <p class="section-description">
                ì˜¤ë””ì˜¤ ìŠ¤íŠ¸ë¦¼ì„ ì ì ˆí•œ ì¶œë ¥ ë””ë°”ì´ìŠ¤ë¡œ ìë™ìœ¼ë¡œ ë¼ìš°íŒ…í•˜ëŠ” ì‹œìŠ¤í…œì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”€</span>
                        ë¼ìš°íŒ… ê²°ì • ìš”ì†Œ
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ì—°ê²°ëœ ë””ë°”ì´ìŠ¤</strong>: í—¤ë“œí°, ë¸”ë£¨íˆ¬ìŠ¤, USB</li>
                            <li><strong>ìŠ¤íŠ¸ë¦¼ íƒ€ì…</strong>: MUSIC, VOICE_CALL, ALARM</li>
                            <li><strong>ì˜¤ë””ì˜¤ ëª¨ë“œ</strong>: NORMAL, RINGTONE, IN_CALL</li>
                            <li><strong>ì‚¬ìš©ì ì„¤ì •</strong>: ê¸°ë³¸ ì¶œë ¥ ì„ íƒ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ§</span>
                        ì¶œë ¥ ë””ë°”ì´ìŠ¤
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Earpiece</strong>: í†µí™”ìš© ìŠ¤í”¼ì»¤</li>
                            <li><strong>Speaker</strong>: ì¼ë°˜ ìŠ¤í”¼ì»¤</li>
                            <li><strong>Wired Headset</strong>: ìœ ì„  í—¤ë“œí°</li>
                            <li><strong>Bluetooth</strong>: ë¸”ë£¨íˆ¬ìŠ¤ ë””ë°”ì´ìŠ¤</li>
                            <li><strong>USB</strong>: USB DAC/í—¤ë“œí°</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸš—</span>
                        íŠ¹ìˆ˜ ë¼ìš°íŒ…
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ë©€í‹° ë””ë°”ì´ìŠ¤</strong>: ë™ì‹œ ì¶œë ¥ (Android 12+)</li>
                            <li><strong>ì°¨ëŸ‰ ë©€í‹°ì¡´</strong>: êµ¬ì—­ë³„ ì˜¤ë””ì˜¤ (AAOS)</li>
                            <li><strong>ì˜¤ë””ì˜¤ ìº¡ì²˜</strong>: ì•±ê°„ ì˜¤ë””ì˜¤ ê³µìœ </li>
                            <li><strong>Bit-perfect</strong>: USB DAC ì§ì ‘ ì¶œë ¥</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TD
                    APP[Application]
                    AM[AudioManager<br />setAudioMode]
                    APS[AudioPolicyService]

                    subgraph Routing["Routing Decision"]
                    DEV_CHECK{Connected<br />Devices?}
                    STREAM_CHECK{Stream<br />Type?}
                    end

                    subgraph Devices["Output Devices"]
                    SPK[Speaker]
                    HP[Headphone]
                    BT[Bluetooth]
                    USB_DAC[USB DAC]
                    end

                    AF[AudioFlinger]

                    APP --> AM
                    AM --> APS
                    APS --> DEV_CHECK
                    DEV_CHECK --> STREAM_CHECK

                    STREAM_CHECK -->|Music| HP
                    STREAM_CHECK -->|Music| BT
                    STREAM_CHECK -->|Call| SPK
                    STREAM_CHECK -->|HiFi| USB_DAC

                    HP --> AF
                    BT --> AF
                    SPK --> AF
                    USB_DAC --> AF

                </div>
            </div>
        </section>

        <!-- Section 9: Code Examples -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">9</span>
                ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ
            </h2>
            <p class="section-description">
                Android Audio Frameworkì˜ ì£¼ìš” APIë¥¼ ì‚¬ìš©í•œ ì‹¤ì œ Kotlin/Java ì½”ë“œ ì˜ˆì‹œì…ë‹ˆë‹¤.
            </p>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“¤ AudioTrack - ì €ìˆ˜ì¤€ PCM ì¬ìƒ</h3>
            <div class="code-block">
                <pre><code>// AudioTrackìœ¼ë¡œ ì €ìˆ˜ì¤€ PCM ì˜¤ë””ì˜¤ ì¬ìƒ
class LowLevelAudioPlayer {
    private var audioTrack: AudioTrack? = null

    fun initializeAudioTrack() {
        val sampleRate = 44100
        val channelConfig = AudioFormat.CHANNEL_OUT_STEREO
        val audioFormat = AudioFormat.ENCODING_PCM_16BIT

        val bufferSize = AudioTrack.getMinBufferSize(
            sampleRate,
            channelConfig,
            audioFormat
        )

        // AudioAttributes ì„¤ì • (Android 5.0+)
        val audioAttributes = AudioAttributes.Builder()
            .setUsage(AudioAttributes.USAGE_MEDIA)
            .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)
            .build()

        // AudioFormat ì„¤ì •
        val format = AudioFormat.Builder()
            .setSampleRate(sampleRate)
            .setEncoding(audioFormat)
            .setChannelMask(channelConfig)
            .build()

        audioTrack = AudioTrack.Builder()
            .setAudioAttributes(audioAttributes)
            .setAudioFormat(format)
            .setBufferSizeInBytes(bufferSize)
            .setTransferMode(AudioTrack.MODE_STREAM)
            .build()
    }

    fun playPCMData(pcmData: ByteArray) {
        audioTrack?.let { track ->
            track.play()

            // ë¹„ë™ê¸°ë¡œ PCM ë°ì´í„° ì“°ê¸°
            Thread {
                var offset = 0
                while (offset < pcmData.size) {
                    val written = track.write(
                        pcmData,
                        offset,
                        minOf(4096, pcmData.size - offset)
                    )

                    if (written < 0) {
                        Log.e("AudioTrack", "Write error: $written")
                        break
                    }
                    offset += written
                }
            }.start()
        }
    }

    fun release() {
        audioTrack?.stop()
        audioTrack?.release()
        audioTrack = null
    }
}</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“¥ AudioRecord - ì €ìˆ˜ì¤€ PCM ë…¹ìŒ</h3>
            <div class="code-block">
                <pre><code>// AudioRecordë¡œ ë§ˆì´í¬ ì…ë ¥ ë…¹ìŒ
class LowLevelAudioRecorder {
    private var audioRecord: AudioRecord? = null
    private var isRecording = false

    fun startRecording() {
        val sampleRate = 44100
        val channelConfig = AudioFormat.CHANNEL_IN_MONO
        val audioFormat = AudioFormat.ENCODING_PCM_16BIT

        val bufferSize = AudioRecord.getMinBufferSize(
            sampleRate,
            channelConfig,
            audioFormat
        )

        audioRecord = AudioRecord(
            MediaRecorder.AudioSource.MIC,
            sampleRate,
            channelConfig,
            audioFormat,
            bufferSize
        )

        audioRecord?.startRecording()
        isRecording = true

        Thread {
            val buffer = ByteArray(bufferSize)

            while (isRecording) {
                val read = audioRecord?.read(buffer, 0, buffer.size) ?: 0

                if (read > 0) {
                    // PCM ë°ì´í„° ì²˜ë¦¬ (íŒŒì¼ ì €ì¥, ë¶„ì„ ë“±)
                    processPCMData(buffer, read)
                }
            }
        }.start()
    }

    fun stopRecording() {
        isRecording = false
        audioRecord?.stop()
        audioRecord?.release()
        audioRecord = null
    }

    private fun processPCMData(data: ByteArray, size: Int) {
        // PCM ë°ì´í„° ì²˜ë¦¬ ë¡œì§
    }
}</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ¯ Audio Focus - í¬ì»¤ìŠ¤ ê´€ë¦¬</h3>
            <div class="code-block">
                <pre><code>// Audio Focus ìš”ì²­ ë° ê´€ë¦¬
class AudioFocusManager(private val context: Context) {
    private val audioManager = context.getSystemService(Context.AUDIO_SERVICE) as AudioManager
    private var audioFocusRequest: AudioFocusRequest? = null

    // Audio Focus ì½œë°± (Android 8.0+)
    private val focusChangeListener = AudioManager.OnAudioFocusChangeListener { focusChange ->
        when (focusChange) {
            AudioManager.AUDIOFOCUS_GAIN -> {
                // í¬ì»¤ìŠ¤ íšë“: ì¬ìƒ ì‹œì‘/ì¬ê°œ
                Log.d("AudioFocus", "Focus gained")
                player.volume = 1.0f
                if (shouldResumeOnFocusGain) {
                    player.play()
                }
            }

            AudioManager.AUDIOFOCUS_LOSS -> {
                // ì˜êµ¬ ì†ì‹¤: ì¬ìƒ ì •ì§€
                Log.d("AudioFocus", "Focus lost permanently")
                player.pause()
                shouldResumeOnFocusGain = false
            }

            AudioManager.AUDIOFOCUS_LOSS_TRANSIENT -> {
                // ì¼ì‹œ ì†ì‹¤: ì¼ì‹œì •ì§€
                Log.d("AudioFocus", "Focus lost temporarily")
                player.pause()
                shouldResumeOnFocusGain = true
            }

            AudioManager.AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK -> {
                // Ducking: ë³¼ë¥¨ ê°ì†Œ (20%)
                Log.d("AudioFocus", "Ducking")
                player.volume = 0.2f
            }
        }
    }

    fun requestAudioFocus(): Boolean {
        // Android 8.0+ (API 26+)
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
            val audioAttributes = AudioAttributes.Builder()
                .setUsage(AudioAttributes.USAGE_MEDIA)
                .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)
                .build()

            audioFocusRequest = AudioFocusRequest.Builder(AudioManager.AUDIOFOCUS_GAIN)
                .setAudioAttributes(audioAttributes)
                .setOnAudioFocusChangeListener(focusChangeListener)
                .setAcceptsDelayedFocusGain(true)  // ì§€ì—°ëœ í¬ì»¤ìŠ¤ í—ˆìš©
                .setWillPauseWhenDucked(false)     // Ducking ì‹œ ì¼ì‹œì •ì§€ ì•ˆ í•¨
                .build()

            val result = audioManager.requestAudioFocus(audioFocusRequest!!)
            return result == AudioManager.AUDIOFOCUS_REQUEST_GRANTED
        } else {
            // Legacy API (Android 7.1 ì´í•˜)
            @Suppress("DEPRECATION")
            val result = audioManager.requestAudioFocus(
                focusChangeListener,
                AudioManager.STREAM_MUSIC,
                AudioManager.AUDIOFOCUS_GAIN
            )
            return result == AudioManager.AUDIOFOCUS_REQUEST_GRANTED
        }
    }

    fun abandonAudioFocus() {
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {
            audioFocusRequest?.let {
                audioManager.abandonAudioFocusRequest(it)
            }
        } else {
            @Suppress("DEPRECATION")
            audioManager.abandonAudioFocus(focusChangeListener)
        }
    }

    private var shouldResumeOnFocusGain = false
    private lateinit var player: MediaPlayer  // ì‹¤ì œ í”Œë ˆì´ì–´ ì¸ìŠ¤í„´ìŠ¤
}</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸµ MediaPlayer vs AudioTrack ë¹„êµ</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>ê¸°ëŠ¥</th>
                            <th>MediaPlayer</th>
                            <th>AudioTrack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ë ˆë²¨</td>
                            <td>ê³ ìˆ˜ì¤€ API</td>
                            <td>ì €ìˆ˜ì¤€ API</td>
                        </tr>
                        <tr>
                            <td>ì…ë ¥</td>
                            <td>íŒŒì¼, URL, ContentProvider</td>
                            <td>PCM ë°”ì´íŠ¸ ë°°ì—´</td>
                        </tr>
                        <tr>
                            <td>ë””ì½”ë”©</td>
                            <td>ìë™ (MP3, AAC ë“±)</td>
                            <td>ìˆ˜ë™ (ë””ì½”ë”©ëœ PCM í•„ìš”)</td>
                        </tr>
                        <tr>
                            <td>ì œì–´</td>
                            <td>play(), pause(), seek()</td>
                            <td>write(), play(), stop()</td>
                        </tr>
                        <tr>
                            <td>ì§€ì—°ì‹œê°„</td>
                            <td>ë†’ìŒ (100-200ms)</td>
                            <td>ë‚®ìŒ (10-50ms)</td>
                        </tr>
                        <tr>
                            <td>ì‚¬ìš© ì‚¬ë¡€</td>
                            <td>ìŒì•…/ë¹„ë””ì˜¤ ì¬ìƒ</td>
                            <td>ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤, ê²Œì„, VoIP</td>
                        </tr>
                        <tr>
                            <td>ë³µì¡ë„</td>
                            <td>ê°„ë‹¨</td>
                            <td>ë³µì¡ (ë²„í¼ ê´€ë¦¬ í•„ìš”)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section 10: AAudio & Low-Latency -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">10</span>
                AAudio & ì €ì§€ì—° ì˜¤ë””ì˜¤
            </h2>
            <p class="section-description">
                AAudioëŠ” Android 8.0(API 26)ë¶€í„° ë„ì…ëœ C++ ë„¤ì´í‹°ë¸Œ ì €ì§€ì—° ì˜¤ë””ì˜¤ APIì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš¡</span>
                        AAudio íŠ¹ì§•
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ì €ì§€ì—°</strong>: 10ms ì´í•˜ ì™•ë³µ ì§€ì—°ì‹œê°„</li>
                            <li><strong>ë„¤ì´í‹°ë¸Œ API</strong>: C/C++ ì§ì ‘ ì‚¬ìš©</li>
                            <li><strong>ì½œë°± ëª¨ë“œ</strong>: ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ì²˜ë¦¬</li>
                            <li><strong>MMAP ëª¨ë“œ</strong>: ê³µìœ  ë©”ëª¨ë¦¬ ì§ì ‘ ì ‘ê·¼</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”„</span>
                        AAudio vs OpenSL ES
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>AAudio</strong>: ëª¨ë˜ API, ê¶Œì¥</li>
                            <li><strong>OpenSL ES</strong>: ë ˆê±°ì‹œ, Android 4.1+</li>
                            <li>AAudioëŠ” ë” ê°„ë‹¨í•˜ê³  íš¨ìœ¨ì </li>
                            <li>OpenSL ESëŠ” ë³µì¡í•œ API</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ®</span>
                        ì‚¬ìš© ì‚¬ë¡€
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>ê²Œì„ ì‚¬ìš´ë“œ ì—”ì§„</li>
                            <li>ìŒì•… ì œì‘ ì•± (DAW)</li>
                            <li>VoIP í†µí™”</li>
                            <li>ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ íš¨ê³¼</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ”§ AAudio ìŠ¤íŠ¸ë¦¼ ìƒì„± (C++ Native)</h3>
            <div class="code-block">
                <pre><code>// AAudio ìŠ¤íŠ¸ë¦¼ ìƒì„± ë° ì½œë°± ëª¨ë“œ
#include &lt;aaudio/AAudio.h&gt;

class AAudioPlayer {
private:
    AAudioStream* stream = nullptr;

    // ì½œë°± í•¨ìˆ˜: ì˜¤ë””ì˜¤ ë°ì´í„° ì œê³µ
    static aaudio_data_callback_result_t dataCallback(
        AAudioStream* stream,
        void* userData,
        void* audioData,
        int32_t numFrames
    ) {
        // PCM ë°ì´í„°ë¥¼ audioData ë²„í¼ì— ì“°ê¸°
        auto* player = static_cast&lt;AAudioPlayer*&gt;(userData);
        player->fillAudioBuffer(static_cast&lt;float*&gt;(audioData), numFrames);

        return AAUDIO_CALLBACK_RESULT_CONTINUE;
    }

    // ì—ëŸ¬ ì½œë°±
    static void errorCallback(
        AAudioStream* stream,
        void* userData,
        aaudio_result_t error
    ) {
        // ì—ëŸ¬ ì²˜ë¦¬ (ë””ë°”ì´ìŠ¤ ì—°ê²° í•´ì œ ë“±)
    }

public:
    void createStream() {
        AAudioStreamBuilder* builder;
        AAudio_createStreamBuilder(&builder);

        // ìŠ¤íŠ¸ë¦¼ ì„¤ì •
        AAudioStreamBuilder_setDirection(builder, AAUDIO_DIRECTION_OUTPUT);
        AAudioStreamBuilder_setFormat(builder, AAUDIO_FORMAT_PCM_FLOAT);
        AAudioStreamBuilder_setSampleRate(builder, 48000);
        AAudioStreamBuilder_setChannelCount(builder, 2);  // Stereo

        // ì„±ëŠ¥ ëª¨ë“œ ì„¤ì •
        AAudioStreamBuilder_setPerformanceMode(builder, AAUDIO_PERFORMANCE_MODE_LOW_LATENCY);

        // ê³µìœ  ëª¨ë“œ ì„¤ì •
        AAudioStreamBuilder_setSharingMode(builder, AAUDIO_SHARING_MODE_EXCLUSIVE);

        // ì½œë°± ì„¤ì •
        AAudioStreamBuilder_setDataCallback(builder, dataCallback, this);
        AAudioStreamBuilder_setErrorCallback(builder, errorCallback, this);

        // ìŠ¤íŠ¸ë¦¼ ì—´ê¸°
        aaudio_result_t result = AAudioStreamBuilder_openStream(builder, &stream);
        AAudioStreamBuilder_delete(builder);

        if (result != AAUDIO_OK) {
            // ì—ëŸ¬ ì²˜ë¦¬
            return;
        }

        // ì‹¤ì œ ì„¤ì •ê°’ í™•ì¸
        int32_t bufferSize = AAudioStream_getBufferSizeInFrames(stream);
        int32_t framesPerBurst = AAudioStream_getFramesPerBurst(stream);

        // ìŠ¤íŠ¸ë¦¼ ì‹œì‘
        AAudioStream_requestStart(stream);
    }

    void fillAudioBuffer(float* buffer, int32_t numFrames) {
        // ì‹¤ì‹œê°„ìœ¼ë¡œ ì˜¤ë””ì˜¤ ë°ì´í„° ìƒì„±
        // ì˜ˆ: ì‚¬ì¸íŒŒ ìƒì„±, íŒŒì¼ ì½ê¸° ë“±
    }

    void closeStream() {
        if (stream) {
            AAudioStream_requestStop(stream);
            AAudioStream_close(stream);
            stream = nullptr;
        }
    }
};</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“Š AAudio vs OpenSL ES vs AudioTrack ë¹„êµ</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>í•­ëª©</th>
                            <th>AAudio</th>
                            <th>OpenSL ES</th>
                            <th>AudioTrack</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ì§€ì› ë²„ì „</td>
                            <td>Android 8.0+</td>
                            <td>Android 4.1+</td>
                            <td>ëª¨ë“  ë²„ì „</td>
                        </tr>
                        <tr>
                            <td>ì–¸ì–´</td>
                            <td>C/C++</td>
                            <td>C/C++</td>
                            <td>Java/Kotlin</td>
                        </tr>
                        <tr>
                            <td>ì§€ì—°ì‹œê°„</td>
                            <td>10ms ì´í•˜</td>
                            <td>10-20ms</td>
                            <td>50-200ms</td>
                        </tr>
                        <tr>
                            <td>ì½œë°± ëª¨ë“œ</td>
                            <td>âœ… ì§€ì›</td>
                            <td>âœ… ì§€ì›</td>
                            <td>âŒ ë¯¸ì§€ì›</td>
                        </tr>
                        <tr>
                            <td>MMAP ëª¨ë“œ</td>
                            <td>âœ… ìë™</td>
                            <td>âŒ ë¯¸ì§€ì›</td>
                            <td>âŒ ë¯¸ì§€ì›</td>
                        </tr>
                        <tr>
                            <td>API ë³µì¡ë„</td>
                            <td>ê°„ë‹¨</td>
                            <td>ë³µì¡</td>
                            <td>ë³´í†µ</td>
                        </tr>
                        <tr>
                            <td>ê¶Œì¥ ì‚¬ìš©</td>
                            <td>âœ… ì‹ ê·œ í”„ë¡œì íŠ¸</td>
                            <td>ë ˆê±°ì‹œ ì§€ì›</td>
                            <td>ê³ ìˆ˜ì¤€ ì•±</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph Low-Latency["ì €ì§€ì—° ì˜¤ë””ì˜¤ ê²½ë¡œ"]
                    APP[AAudio App<br />C++ Native]
                    AAUDIO[AAudio API]
                    MMAP{MMAP<br />ì§€ì›?}
                    LEGACY[Legacy Path<br />AudioFlinger]
                    FAST[MMAP Path<br />Shared Memory]
                    HAL[Audio HAL]
                    HW[Hardware]

                    APP --> AAUDIO
                    AAUDIO --> MMAP
                    MMAP -->|No| LEGACY
                    MMAP -->|Yes| FAST
                    LEGACY --> HAL
                    FAST --> HAL
                    HAL --> HW
                    end

                    style FAST fill:#4ade80
                    style LEGACY fill:#fbbf24
                </div>
            </div>
        </section>

        <!-- Section 11: Audio Effects -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">11</span>
                Audio Effects
            </h2>
            <p class="section-description">
                AndroidëŠ” ì´í€„ë¼ì´ì €, ë¦¬ë²„ë¸Œ, Bass Boost ë“± ë‹¤ì–‘í•œ ì˜¤ë””ì˜¤ íš¨ê³¼ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ›ï¸</span>
                        ê¸°ë³¸ ì œê³µ íš¨ê³¼
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Equalizer</strong>: ì£¼íŒŒìˆ˜ë³„ ë³¼ë¥¨ ì¡°ì ˆ</li>
                            <li><strong>BassBoost</strong>: ì €ìŒ ê°•í™”</li>
                            <li><strong>Virtualizer</strong>: ê°€ìƒ ì„œë¼ìš´ë“œ</li>
                            <li><strong>PresetReverb</strong>: ë¦¬ë²„ë¸Œ íš¨ê³¼</li>
                            <li><strong>LoudnessEnhancer</strong>: ë¼ìš°ë“œë‹ˆìŠ¤ ì¦ê°€</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“Š</span>
                        ë¶„ì„ íš¨ê³¼
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Visualizer</strong>: íŒŒí˜•, FFT ë°ì´í„°</li>
                            <li>ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ì‹œê°í™”</li>
                            <li>ì£¼íŒŒìˆ˜ ìŠ¤í™íŠ¸ëŸ¼ ë¶„ì„</li>
                            <li>ê¶Œí•œ í•„ìš”: RECORD_AUDIO</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”§</span>
                        ì»¤ìŠ¤í…€ íš¨ê³¼
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>Audio Effects HALì„ í†µí•œ êµ¬í˜„</li>
                            <li>ë²¤ë”ë³„ íš¨ê³¼ (Dolby, DTS)</li>
                            <li>í”„ë¦¬ì…‹ ë° íŒŒë¼ë¯¸í„° ì œì–´</li>
                            <li>Global vs Session íš¨ê³¼</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸšï¸ Equalizer ì‚¬ìš© ì˜ˆì‹œ</h3>
            <div class="code-block">
                <pre><code>// Equalizerë¡œ ì£¼íŒŒìˆ˜ë³„ ë³¼ë¥¨ ì¡°ì ˆ
class AudioEqualizerManager(private val audioSessionId: Int) {
    private var equalizer: Equalizer? = null

    fun setupEqualizer() {
        // Equalizer ìƒì„± (ìš°ì„ ìˆœìœ„ 0, ì˜¤ë””ì˜¤ ì„¸ì…˜ ID)
        equalizer = Equalizer(0, audioSessionId)

        // Equalizer ì •ë³´ í™•ì¸
        val numBands = equalizer?.numberOfBands ?: 0
        val bandLevelRange = equalizer?.bandLevelRange  // [min, max] in millibels

        Log.d("Equalizer", "Number of bands: $numBands")
        Log.d("Equalizer", "Band level range: ${bandLevelRange?.get(0)} to ${bandLevelRange?.get(1)}")

        // ê° ë°´ë“œì˜ ì¤‘ì‹¬ ì£¼íŒŒìˆ˜ í™•ì¸
        for (band in 0 until numBands) {
            val centerFreq = equalizer?.getCenterFreq(band.toShort()) ?: 0
            Log.d("Equalizer", "Band $band: ${centerFreq / 1000} Hz")
        }
    }

    fun applyCustomEQ() {
        equalizer?.let { eq ->
            eq.enabled = true

            // ì»¤ìŠ¤í…€ EQ ì„¤ì • (ì˜ˆ: Bass Boost)
            // Band 0 (60 Hz): +5 dB
            // Band 1 (230 Hz): +3 dB
            // Band 2 (910 Hz): 0 dB
            // Band 3 (3600 Hz): -2 dB
            // Band 4 (14000 Hz): +4 dB

            val gains = listOf(500, 300, 0, -200, 400)  // millibels (1 dB = 100 mb)

            for ((index, gain) in gains.withIndex()) {
                eq.setBandLevel(index.toShort(), gain.toShort())
            }
        }
    }

    fun usePreset(presetIndex: Short) {
        equalizer?.let { eq ->
            eq.enabled = true

            // ì‚¬ìš© ê°€ëŠ¥í•œ í”„ë¦¬ì…‹ í™•ì¸
            val numPresets = eq.numberOfPresets
            for (i in 0 until numPresets) {
                val presetName = eq.getPresetName(i.toShort())
                Log.d("Equalizer", "Preset $i: $presetName")
            }

            // í”„ë¦¬ì…‹ ì ìš©
            eq.usePreset(presetIndex)
        }
    }

    fun release() {
        equalizer?.release()
        equalizer = null
    }
}</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“Š Visualizer - ì˜¤ë””ì˜¤ ì‹œê°í™”</h3>
            <div class="code-block">
                <pre><code>// Visualizerë¡œ ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ íŒŒí˜• ë° FFT ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
class AudioVisualizerManager(private val audioSessionId: Int) {
    private var visualizer: Visualizer? = null

    fun setupVisualizer() {
        // ê¶Œí•œ í™•ì¸ í•„ìš”: RECORD_AUDIO

        visualizer = Visualizer(audioSessionId).apply {
            // ìº¡ì²˜ ì‚¬ì´ì¦ˆ ì„¤ì • (2ì˜ ê±°ë“­ì œê³±)
            captureSize = Visualizer.getCaptureSizeRange()[1]  // ìµœëŒ€ ì‚¬ì´ì¦ˆ

            // ë°ì´í„° ìº¡ì²˜ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
            setDataCaptureListener(
                object : Visualizer.OnDataCaptureListener {
                    override fun onWaveFormDataCapture(
                        visualizer: Visualizer,
                        waveform: ByteArray,
                        samplingRate: Int
                    ) {
                        // íŒŒí˜• ë°ì´í„° ì²˜ë¦¬ (-128 ~ 127)
                        processWaveform(waveform)
                    }

                    override fun onFftDataCapture(
                        visualizer: Visualizer,
                        fft: ByteArray,
                        samplingRate: Int
                    ) {
                        // FFT ë°ì´í„° ì²˜ë¦¬ (ì£¼íŒŒìˆ˜ ìŠ¤í™íŠ¸ëŸ¼)
                        processFFT(fft)
                    }
                },
                Visualizer.getMaxCaptureRate(),  // ìµœëŒ€ ìº¡ì²˜ ë ˆì´íŠ¸
                true,   // íŒŒí˜• ìº¡ì²˜
                true    // FFT ìº¡ì²˜
            )

            // Visualizer í™œì„±í™”
            enabled = true
        }
    }

    private fun processWaveform(waveform: ByteArray) {
        // íŒŒí˜• ì‹œê°í™” (ì˜¤ì‹¤ë¡œìŠ¤ì½”í”„)
        // ê° ë°”ì´íŠ¸ëŠ” -128 ~ 127 ë²”ìœ„ì˜ ì§„í­
    }

    private fun processFFT(fft: ByteArray) {
        // FFT ë°ì´í„° ì²˜ë¦¬
        // fft[0] = DC ì„±ë¶„
        // fft[1..n-1] = ì£¼íŒŒìˆ˜ ë¹ˆ (magnitude, phase ìŒ)

        val magnitudes = FloatArray(fft.size / 2)

        for (i in 0 until fft.size / 2) {
            val real = fft[i * 2].toFloat()
            val imag = fft[i * 2 + 1].toFloat()

            // í¬ê¸° ê³„ì‚°
            magnitudes[i] = sqrt(real * real + imag * imag)
        }

        // ì£¼íŒŒìˆ˜ ìŠ¤í™íŠ¸ëŸ¼ ì‹œê°í™” (ë§‰ëŒ€ ê·¸ë˜í”„)
    }

    fun release() {
        visualizer?.enabled = false
        visualizer?.release()
        visualizer = null
    }
}</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ”Š Bass Boost & Virtualizer</h3>
            <div class="code-block">
                <pre><code>// Bass Boostì™€ Virtualizer ë™ì‹œ ì‚¬ìš©
class AudioEffectsController(private val audioSessionId: Int) {
    private var bassBoost: BassBoost? = null
    private var virtualizer: Virtualizer? = null
    private var loudnessEnhancer: LoudnessEnhancer? = null

    fun setupEffects() {
        // Bass Boost ì„¤ì •
        bassBoost = BassBoost(0, audioSessionId).apply {
            enabled = true
            setStrength(500)  // 0~1000 (0% ~ 100%)
        }

        // Virtualizer ì„¤ì • (ê°€ìƒ ì„œë¼ìš´ë“œ)
        virtualizer = Virtualizer(0, audioSessionId).apply {
            enabled = true
            setStrength(800)  // 0~1000
        }

        // Loudness Enhancer (Android 4.4+)
        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.KITKAT) {
            loudnessEnhancer = LoudnessEnhancer(audioSessionId).apply {
                enabled = true
                setTargetGain(500)  // millibels (+5 dB)
            }
        }
    }

    fun releaseEffects() {
        bassBoost?.release()
        virtualizer?.release()
        loudnessEnhancer?.release()

        bassBoost = null
        virtualizer = null
        loudnessEnhancer = null
    }
}</code></pre>
            </div>
        </section>

        <!-- Section 12: AAOS Car Audio -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">12</span>
                AAOS ì°¨ëŸ‰ìš© ì˜¤ë””ì˜¤
            </h2>
            <p class="section-description">
                Android Automotive OSëŠ” ì°¨ëŸ‰ í™˜ê²½ì— íŠ¹í™”ëœ ë©€í‹°ì¡´ ì˜¤ë””ì˜¤ ë° ë¼ìš°íŒ… ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸš—</span>
                        ì°¨ëŸ‰ ë©€í‹°ì¡´ ì˜¤ë””ì˜¤
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ë…ë¦½ ì˜¤ë””ì˜¤ ì¡´</strong>: ìš´ì „ì„/ë™ìŠ¹ì„/í›„ì„</li>
                            <li>ì¡´ë³„ ë…ë¦½ ì¬ìƒ ë° ë³¼ë¥¨</li>
                            <li>Zone ID ê¸°ë°˜ ë¼ìš°íŒ…</li>
                            <li>CarAudioService ê´€ë¦¬</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¯</span>
                        Car Audio Zones
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>PRIMARY_ZONE</code>: ìš´ì „ì„ (Zone 0)</li>
                            <li><code>REAR_ZONE</code>: í›„ì„ (Zone 1+)</li>
                            <li>ê° ì¡´ì€ ë…ë¦½ëœ AudioDeviceInfo</li>
                            <li>ì¡´ë³„ AudioFocus ê´€ë¦¬</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”„</span>
                        CarAudioService
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>ì°¨ëŸ‰ ì˜¤ë””ì˜¤ ë¼ìš°íŒ… ì œì–´</li>
                            <li>ì¡´ë³„ ë³¼ë¥¨ ê·¸ë£¹ ê´€ë¦¬</li>
                            <li>ì˜¤ë””ì˜¤ í¬ì»¤ìŠ¤ ì¤‘ì¬</li>
                            <li>car_audio_configuration.xml ì„¤ì •</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="mermaid-container">
                <div class="mermaid">
                    graph TB
                    subgraph CarAudio["AAOS ì°¨ëŸ‰ ì˜¤ë””ì˜¤ ì•„í‚¤í…ì²˜"]
                    APP1[Nav App<br />Zone 0]
                    APP2[Music App<br />Zone 1]

                    CAS[CarAudioService<br />Zone Management]

                    APS[AudioPolicyService<br />Routing Policy]

                    AF[AudioFlinger<br />Mixer]

                    HAL[Audio HAL]

                    subgraph Zones["Physical Zones"]
                    ZONE0[Zone 0<br />Driver Speakers]
                    ZONE1[Zone 1<br />Rear Speakers]
                    end

                    APP1 --> CAS
                    APP2 --> CAS
                    CAS --> APS
                    APS --> AF
                    AF --> HAL
                    HAL --> ZONE0
                    HAL --> ZONE1
                    end
                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“‹ car_audio_configuration.xml ì˜ˆì‹œ</h3>
            <div class="code-block">
                <pre><code>&lt;!-- car_audio_configuration.xml: ì°¨ëŸ‰ ì˜¤ë””ì˜¤ ì¡´ ì„¤ì • --&gt;
&lt;carAudioConfiguration version="2"&gt;
    &lt;!-- Zone 0: ìš´ì „ì„ --&gt;
    &lt;zone name="primary zone" audioZoneId="0" isPrimary="true"&gt;
        &lt;volumeGroups&gt;
            &lt;group&gt;
                &lt;device address="bus0_media_out"&gt;
                    &lt;context context="music"/&gt;
                    &lt;context context="navigation"/&gt;
                &lt;/device&gt;
            &lt;/group&gt;

            &lt;group&gt;
                &lt;device address="bus1_call_out"&gt;
                    &lt;context context="call"/&gt;
                    &lt;context context="call_ring"/&gt;
                &lt;/device&gt;
            &lt;/group&gt;

            &lt;group&gt;
                &lt;device address="bus2_notification_out"&gt;
                    &lt;context context="alarm"/&gt;
                    &lt;context context="notification"/&gt;
                &lt;/device&gt;
            &lt;/group&gt;
        &lt;/volumeGroups&gt;
    &lt;/zone&gt;

    &lt;!-- Zone 1: í›„ì„ --&gt;
    &lt;zone name="rear seat zone" audioZoneId="1"&gt;
        &lt;volumeGroups&gt;
            &lt;group&gt;
                &lt;device address="bus100_rear_media_out"&gt;
                    &lt;context context="music"/&gt;
                    &lt;context context="media"/&gt;
                &lt;/device&gt;
            &lt;/group&gt;
        &lt;/volumeGroups&gt;
    &lt;/zone&gt;
&lt;/carAudioConfiguration&gt;</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸš— ì°¨ëŸ‰ ë©€í‹°ì¡´ ì˜¤ë””ì˜¤ ì‚¬ìš© ì˜ˆì‹œ</h3>
            <div class="code-block">
                <pre><code>// AAOSì—ì„œ íŠ¹ì • ì¡´ìœ¼ë¡œ ì˜¤ë””ì˜¤ ë¼ìš°íŒ…
class CarAudioManager(private val context: Context) {
    private val carAudioManager =
        (context.getSystemService(Context.CAR_SERVICE) as Car)
            .getCarManager(Car.AUDIO_SERVICE) as android.car.media.CarAudioManager

    fun playAudioInZone(zoneId: Int) {
        // ì¡´ ì •ë³´ í™•ì¸
        val zoneCount = carAudioManager.audioZoneIds.size
        Log.d("CarAudio", "Total zones: $zoneCount")

        // íŠ¹ì • ì¡´ì˜ AudioAttributes ìƒì„±
        val audioAttributes = AudioAttributes.Builder()
            .setUsage(AudioAttributes.USAGE_MEDIA)
            .build()

        // ì¡´ë³„ ë³¼ë¥¨ ê·¸ë£¹ í™•ì¸
        val volumeGroupCount = carAudioManager.getVolumeGroupCount(zoneId)
        for (groupId in 0 until volumeGroupCount) {
            val groupVolume = carAudioManager.getGroupVolume(zoneId, groupId)
            val maxVolume = carAudioManager.getGroupMaxVolume(zoneId, groupId)

            Log.d("CarAudio", "Zone $zoneId, Group $groupId: $groupVolume / $maxVolume")
        }

        // AudioPlayer ìƒì„± (ì¡´ ì§€ì •)
        val player = MediaPlayer().apply {
            setDataSource(context, audioUri)
            setAudioAttributes(audioAttributes)

            // ì¡´ë³„ ë¼ìš°íŒ…ì€ CarAudioServiceê°€ ìë™ ì²˜ë¦¬
            // AudioAttributesì˜ Usage/ContentType ê¸°ë°˜

            prepare()
            start()
        }
    }

    fun setZoneVolume(zoneId: Int, groupId: Int, volume: Int) {
        carAudioManager.setGroupVolume(zoneId, groupId, volume, 0)
    }
}</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“Š ì°¨ëŸ‰ ì˜¤ë””ì˜¤ ì¡´ ë¹„êµ</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>í•­ëª©</th>
                            <th>Primary Zone (Zone 0)</th>
                            <th>Rear Zone (Zone 1+)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ìœ„ì¹˜</td>
                            <td>ìš´ì „ì„ / ì „ë°©</td>
                            <td>í›„ì„ / í›„ë°©</td>
                        </tr>
                        <tr>
                            <td>ìš°ì„ ìˆœìœ„</td>
                            <td>ë†’ìŒ (ì•ˆì „ ê´€ë ¨)</td>
                            <td>ë‚®ìŒ (ì—”í„°í…Œì¸ë¨¼íŠ¸)</td>
                        </tr>
                        <tr>
                            <td>ì§€ì› ì»¨í…ìŠ¤íŠ¸</td>
                            <td>ëª¨ë“  ì»¨í…ìŠ¤íŠ¸</td>
                            <td>ì£¼ë¡œ MUSIC, MEDIA</td>
                        </tr>
                        <tr>
                            <td>ë„¤ë¹„ê²Œì´ì…˜</td>
                            <td>âœ… ì§€ì›</td>
                            <td>âŒ ë¯¸ì§€ì›</td>
                        </tr>
                        <tr>
                            <td>ì „í™” í†µí™”</td>
                            <td>âœ… ì§€ì›</td>
                            <td>âŒ ë¯¸ì§€ì›</td>
                        </tr>
                        <tr>
                            <td>ë³¼ë¥¨ ì œì–´</td>
                            <td>ë…ë¦½ ì œì–´</td>
                            <td>ë…ë¦½ ì œì–´</td>
                        </tr>
                        <tr>
                            <td>ì‚¬ìš© ì˜ˆì‹œ</td>
                            <td>ë‚´ë¹„, ì „í™”, ë¯¸ë””ì–´</td>
                            <td>í›„ì„ ì—”í„°í…Œì¸ë¨¼íŠ¸</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section 13: Performance Optimization -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">13</span>
                ì„±ëŠ¥ ìµœì í™”
            </h2>
            <p class="section-description">
                ì˜¤ë””ì˜¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì§€ì—°ì‹œê°„ì„ ìµœì†Œí™”í•˜ê³  ì„±ëŠ¥ì„ ê·¹ëŒ€í™”í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš¡</span>
                        ë²„í¼ ì‚¬ì´ì¦ˆ ìµœì í™”
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>ì‘ì€ ë²„í¼</strong>: ë‚®ì€ ì§€ì—°, ë†’ì€ CPU</li>
                            <li><strong>í° ë²„í¼</strong>: ë†’ì€ ì§€ì—°, ë‚®ì€ CPU</li>
                            <li>ìµœì ê°’: ë””ë°”ì´ìŠ¤ë³„ <code>framesPerBurst</code></li>
                            <li>AAudio ìë™ ë²„í¼ ì¡°ì •</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“Š</span>
                        ì§€ì—°ì‹œê°„ ì¸¡ì •
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>Roundtrip Latency</strong>: ì…ë ¥â†’ì¶œë ¥</li>
                            <li>Oboe ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ LatencyTuner</li>
                            <li>AAudio <code>getTimestamp()</code></li>
                            <li>ëª©í‘œ: 10ms ì´í•˜</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”§</span>
                        ìµœì í™” ê¸°ë²•
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>EXCLUSIVE ê³µìœ  ëª¨ë“œ ì‚¬ìš©</li>
                            <li>LOW_LATENCY ì„±ëŠ¥ ëª¨ë“œ</li>
                            <li>ì½œë°±ì—ì„œ ë¸”ë¡œí‚¹ ì‘ì—… ì œê±°</li>
                            <li>NEON ìµœì í™” (ARM)</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“Š ì§€ì—°ì‹œê°„ ë²¤ì¹˜ë§ˆí¬ (ì¼ë°˜ì ì¸ ê°’)</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>API / ì„¤ì •</th>
                            <th>ì§€ì—°ì‹œê°„ (Output)</th>
                            <th>Roundtrip</th>
                            <th>ì í•© ì‚¬ìš© ì‚¬ë¡€</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>AAudio EXCLUSIVE + LOW_LATENCY</td>
                            <td>5-10 ms</td>
                            <td>10-20 ms</td>
                            <td>ê²Œì„, ì•…ê¸° ì•±, VoIP</td>
                        </tr>
                        <tr>
                            <td>AAudio SHARED + LOW_LATENCY</td>
                            <td>10-20 ms</td>
                            <td>20-40 ms</td>
                            <td>ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ì²˜ë¦¬</td>
                        </tr>
                        <tr>
                            <td>OpenSL ES</td>
                            <td>10-30 ms</td>
                            <td>20-60 ms</td>
                            <td>ë ˆê±°ì‹œ ê²Œì„</td>
                        </tr>
                        <tr>
                            <td>AudioTrack (ì‘ì€ ë²„í¼)</td>
                            <td>20-50 ms</td>
                            <td>40-100 ms</td>
                            <td>ì €ì§€ì—° ì¬ìƒ</td>
                        </tr>
                        <tr>
                            <td>AudioTrack (ê¸°ë³¸ ë²„í¼)</td>
                            <td>50-100 ms</td>
                            <td>100-200 ms</td>
                            <td>ì¼ë°˜ ë¯¸ë””ì–´ ì¬ìƒ</td>
                        </tr>
                        <tr>
                            <td>MediaPlayer</td>
                            <td>100-200 ms</td>
                            <td>N/A</td>
                            <td>ìŒì•…/ë¹„ë””ì˜¤ ì¬ìƒ</td>
                        </tr>
                        <tr>
                            <td>Bluetooth A2DP</td>
                            <td>100-300 ms</td>
                            <td>N/A</td>
                            <td>ë¬´ì„  ì˜¤ë””ì˜¤</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">âš¡ AAudio ë²„í¼ ì‚¬ì´ì¦ˆ ìµœì í™”</h3>
            <div class="code-block">
                <pre><code>// AAudio ë²„í¼ ì‚¬ì´ì¦ˆ ë™ì  ì¡°ì •ìœ¼ë¡œ ì§€ì—°ì‹œê°„ ìµœì†Œí™”
void optimizeBufferSize(AAudioStream* stream) {
    // ë””ë°”ì´ìŠ¤ê°€ ì§€ì›í•˜ëŠ” ìµœì†Œ ë²„í¼ ì‚¬ì´ì¦ˆ
    int32_t framesPerBurst = AAudioStream_getFramesPerBurst(stream);

    // ì´ˆê¸° ë²„í¼ ì‚¬ì´ì¦ˆ: 2 Ã— framesPerBurst (ì•ˆì „í•œ ì‹œì‘ì )
    int32_t initialBufferSize = framesPerBurst * 2;
    AAudioStream_setBufferSizeInFrames(stream, initialBufferSize);

    // ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
    int32_t underrunCount = 0;
    int32_t previousUnderrunCount = AAudioStream_getXRunCount(stream);

    // ëŸ°íƒ€ì„ ì¤‘ ë™ì  ì¡°ì •
    while (isPlaying) {
        // í˜„ì¬ underrun í™•ì¸
        int32_t currentUnderrunCount = AAudioStream_getXRunCount(stream);

        if (currentUnderrunCount > previousUnderrunCount) {
            // Underrun ë°œìƒ â†’ ë²„í¼ ì¦ê°€
            int32_t currentSize = AAudioStream_getBufferSizeInFrames(stream);
            int32_t newSize = currentSize + framesPerBurst;

            AAudioStream_setBufferSizeInFrames(stream, newSize);

            Log("Buffer increased to %d frames due to underrun", newSize);
        } else {
            // Underrun ì—†ìŒ â†’ ë²„í¼ ì ì§„ì  ê°ì†Œ ì‹œë„
            int32_t currentSize = AAudioStream_getBufferSizeInFrames(stream);
            int32_t newSize = std::max(currentSize - framesPerBurst / 4, framesPerBurst);

            AAudioStream_setBufferSizeInFrames(stream, newSize);
        }

        previousUnderrunCount = currentUnderrunCount;

        // 1ì´ˆë§ˆë‹¤ í™•ì¸
        std::this_thread::sleep_for(std::chrono::seconds(1));
    }
}

// Oboe ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© (AAudio ë˜í¼)
#include &lt;oboe/Oboe.h&gt;

class OboeAudioPlayer : public oboe::AudioStreamCallback {
public:
    void start() {
        oboe::AudioStreamBuilder builder;

        builder.setDirection(oboe::Direction::Output)
               -&gt;setPerformanceMode(oboe::PerformanceMode::LowLatency)
               -&gt;setSharingMode(oboe::SharingMode::Exclusive)
               -&gt;setFormat(oboe::AudioFormat::Float)
               -&gt;setChannelCount(oboe::ChannelCount::Stereo)
               -&gt;setCallback(this);

        oboe::Result result = builder.openStream(stream);

        if (result == oboe::Result::OK) {
            stream->requestStart();

            // Oboe ìë™ ë²„í¼ ì¡°ì • í™œì„±í™”
            int32_t framesPerBurst = stream->getFramesPerBurst();
            Log("Frames per burst: %d", framesPerBurst);
        }
    }

    oboe::DataCallbackResult onAudioReady(
        oboe::AudioStream* stream,
        void* audioData,
        int32_t numFrames
    ) override {
        // ì˜¤ë””ì˜¤ ë°ì´í„° ìƒì„±
        return oboe::DataCallbackResult::Continue;
    }

private:
    std::shared_ptr&lt;oboe::AudioStream&gt; stream;
};</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ” ì„±ëŠ¥ í”„ë¡œíŒŒì¼ë§</h3>
            <div class="code-block">
                <pre><code># Systraceë¡œ ì˜¤ë””ì˜¤ ì„±ëŠ¥ ë¶„ì„
adb shell atrace -t 10 -b 32768 audio sched freq idle > trace.html

# ì£¼ìš” í™•ì¸ ì‚¬í•­:
# - AudioFlinger ìŠ¤ë ˆë“œ ì‹¤í–‰ ì‹œê°„
# - Underrun ë°œìƒ ë¹ˆë„
# - CPU ìŠ¤ì¼€ì¤„ë§ ì§€ì—°

# dumpsysë¡œ AudioFlinger ìƒíƒœ í™•ì¸
adb shell dumpsys media.audio_flinger

# ì¶œë ¥ ì˜ˆì‹œ:
# Latency (msec): 10
# Frames per buffer: 192
# Sample rate: 48000
# Underruns: 5

# logcatìœ¼ë¡œ AAudio ë¡œê·¸ í™•ì¸
adb logcat -s AAudio:V

# ì§€ì—°ì‹œê°„ ì¸¡ì •
adb shell dumpsys media.audio_flinger | grep -i latency</code></pre>
            </div>
        </section>

        <!-- Section 14: Android Version Changes -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">14</span>
                Android ë²„ì „ë³„ ë³€í™”
            </h2>
            <p class="section-description">
                Android ë²„ì „ì— ë”°ë¥¸ Audio Frameworkì˜ ì£¼ìš” ë³€í™” ë° API ì§„í™”ì…ë‹ˆë‹¤.
            </p>

            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>ë²„ì „</th>
                            <th>ì£¼ìš” ë³€í™”</th>
                            <th>ìƒˆë¡œìš´ ê¸°ëŠ¥</th>
                            <th>HAL ë²„ì „</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Android 14</strong><br />(API 34)</td>
                            <td>
                                â€¢ Audio HAL AIDL ì „í™˜ ì™„ë£Œ<br />
                                â€¢ Spatial Audio ê°œì„ <br />
                                â€¢ LE Audio ì§€ì› ê°•í™”
                            </td>
                            <td>
                                â€¢ AIDL Audio HAL<br />
                                â€¢ Loudness Metadata API<br />
                                â€¢ Multi-channel audio
                            </td>
                            <td>AIDL V3</td>
                        </tr>
                        <tr>
                            <td><strong>Android 13</strong><br />(API 33)</td>
                            <td>
                                â€¢ Bluetooth LE Audio<br />
                                â€¢ Spatial Audio<br />
                                â€¢ MIDI 2.0
                            </td>
                            <td>
                                â€¢ LE Audio codec<br />
                                â€¢ Head tracking API<br />
                                â€¢ MIDI 2.0 API
                            </td>
                            <td>AIDL V2</td>
                        </tr>
                        <tr>
                            <td><strong>Android 12</strong><br />(API 31)</td>
                            <td>
                                â€¢ Audio Focus ìë™ Fade<br />
                                â€¢ MPEG-H 3D Audio<br />
                                â€¢ ë©€í‹° ë””ë°”ì´ìŠ¤ ì¶œë ¥
                            </td>
                            <td>
                                â€¢ AudioManager.setAllowedCapturePolicy()<br />
                                â€¢ Haptic generator<br />
                                â€¢ Audio capture improvements
                            </td>
                            <td>AIDL V1<br />HIDL 2.0</td>
                        </tr>
                        <tr>
                            <td><strong>Android 11</strong><br />(API 30)</td>
                            <td>
                                â€¢ Audio HAL V7.0<br />
                                â€¢ AAudio MMAP ê°œì„ <br />
                                â€¢ Audio sharing
                            </td>
                            <td>
                                â€¢ Low-latency capture<br />
                                â€¢ AudioRecord sharing<br />
                                â€¢ Direct playback
                            </td>
                            <td>HIDL 7.0</td>
                        </tr>
                        <tr>
                            <td><strong>Android 10</strong><br />(API 29)</td>
                            <td>
                                â€¢ AudioPlaybackCapture API<br />
                                â€¢ ì˜¤ë””ì˜¤ ìº¡ì²˜ ì •ì±…<br />
                                â€¢ Opus ì¸ì½”ë”
                            </td>
                            <td>
                                â€¢ Playback capture<br />
                                â€¢ AudioAttributes privacy flag<br />
                                â€¢ Dynamic sensor routing
                            </td>
                            <td>HIDL 6.0</td>
                        </tr>
                        <tr>
                            <td><strong>Android 9</strong><br />(API 28)</td>
                            <td>
                                â€¢ AAudio ì •ì‹ ì§€ì›<br />
                                â€¢ 32-bit float ë¯¹ì‹±<br />
                                â€¢ Multi-channel ê°œì„ 
                            </td>
                            <td>
                                â€¢ AAudio API stable<br />
                                â€¢ Dynamics Processing API<br />
                                â€¢ USB audio routing
                            </td>
                            <td>HIDL 5.0</td>
                        </tr>
                        <tr>
                            <td><strong>Android 8.0</strong><br />(API 26)</td>
                            <td>
                                â€¢ AAudio ë„ì…<br />
                                â€¢ Audio Focus ê°œì„ <br />
                                â€¢ AudioAttributes í™•ì¥
                            </td>
                            <td>
                                â€¢ AAudio API (native)<br />
                                â€¢ AudioFocusRequest<br />
                                â€¢ Background audio limits
                            </td>
                            <td>HIDL 4.0</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ”„ Audio HAL ë²„ì „ë³„ ì°¨ì´</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>í•­ëª©</th>
                            <th>HIDL (ë ˆê±°ì‹œ)</th>
                            <th>AIDL (í˜„ì¬)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ì§€ì› ë²„ì „</td>
                            <td>Android 8.0 - 13</td>
                            <td>Android 12+ (ê¶Œì¥: 14+)</td>
                        </tr>
                        <tr>
                            <td>ì •ì˜ íŒŒì¼</td>
                            <td>.hal íŒŒì¼</td>
                            <td>.aidl íŒŒì¼</td>
                        </tr>
                        <tr>
                            <td>ìœ„ì¹˜</td>
                            <td>hardware/interfaces/audio/</td>
                            <td>hardware/interfaces/audio/aidl/</td>
                        </tr>
                        <tr>
                            <td>ë²„ì „ ê´€ë¦¬</td>
                            <td>Major.Minor (ì˜ˆ: 7.0)</td>
                            <td>ë‹¨ì¼ ë²„ì „ (V1, V2, V3)</td>
                        </tr>
                        <tr>
                            <td>ì„±ëŠ¥</td>
                            <td>ë³´í†µ</td>
                            <td>ê°œì„  (ë” ë¹ ë¥¸ IPC)</td>
                        </tr>
                        <tr>
                            <td>ìœ ì—°ì„±</td>
                            <td>ì œí•œì </td>
                            <td>ë†’ìŒ (backward compatible)</td>
                        </tr>
                        <tr>
                            <td>ìƒíƒœ</td>
                            <td>Deprecated</td>
                            <td>Active development</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“‹ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ</h3>
            <div class="code-block">
                <pre><code>// AudioFocus: Legacy â†’ Modern API ë§ˆì´ê·¸ë ˆì´ì…˜

// âŒ Legacy API (Android 7.1 ì´í•˜)
@Deprecated
val result = audioManager.requestAudioFocus(
    focusChangeListener,
    AudioManager.STREAM_MUSIC,
    AudioManager.AUDIOFOCUS_GAIN
)

// âœ… Modern API (Android 8.0+)
val audioAttributes = AudioAttributes.Builder()
    .setUsage(AudioAttributes.USAGE_MEDIA)
    .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)
    .build()

val focusRequest = AudioFocusRequest.Builder(AudioManager.AUDIOFOCUS_GAIN)
    .setAudioAttributes(audioAttributes)
    .setOnAudioFocusChangeListener(focusChangeListener)
    .setAcceptsDelayedFocusGain(true)
    .build()

val result = audioManager.requestAudioFocus(focusRequest)

// AudioTrack: STREAM_TYPE â†’ AudioAttributes ë§ˆì´ê·¸ë ˆì´ì…˜

// âŒ Legacy (Deprecated)
@Deprecated
val audioTrack = AudioTrack(
    AudioManager.STREAM_MUSIC,  // Stream type (deprecated)
    44100,
    AudioFormat.CHANNEL_OUT_STEREO,
    AudioFormat.ENCODING_PCM_16BIT,
    bufferSize,
    AudioTrack.MODE_STREAM
)

// âœ… Modern (Android 5.0+)
val audioAttributes = AudioAttributes.Builder()
    .setUsage(AudioAttributes.USAGE_MEDIA)
    .setContentType(AudioAttributes.CONTENT_TYPE_MUSIC)
    .build()

val audioFormat = AudioFormat.Builder()
    .setSampleRate(44100)
    .setEncoding(AudioFormat.ENCODING_PCM_16BIT)
    .setChannelMask(AudioFormat.CHANNEL_OUT_STEREO)
    .build()

val audioTrack = AudioTrack.Builder()
    .setAudioAttributes(audioAttributes)
    .setAudioFormat(audioFormat)
    .setBufferSizeInBytes(bufferSize)
    .setTransferMode(AudioTrack.MODE_STREAM)
    .build()</code></pre>
            </div>

            <div class="mermaid-container">
                <div class="mermaid">
                    timeline
                        title Android Audio Framework ì§„í™”

                        section Android 8.0
                            AAudio ë„ì… : HIDL Audio HAL 4.0

                        section Android 9.0
                            32-bit float ë¯¹ì‹± : AAudio ì •ì‹ ì§€ì›

                        section Android 10
                            AudioPlaybackCapture : ì•± ê°„ ì˜¤ë””ì˜¤ ìº¡ì²˜

                        section Android 11
                            Low-latency capture : HIDL 7.0

                        section Android 12
                            AIDL HAL ë„ì… : ìë™ Fade

                        section Android 13
                            LE Audio : Spatial Audio

                        section Android 14
                            AIDL ì „í™˜ ì™„ë£Œ : Loudness Metadata
                </div>
            </div>
        </section>

        <!-- Section 15: Debugging & Troubleshooting -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">15</span>
                ë””ë²„ê¹… & íŠ¸ëŸ¬ë¸”ìŠˆíŒ…
            </h2>
            <p class="section-description">
                ì˜¤ë””ì˜¤ ë¬¸ì œë¥¼ ì§„ë‹¨í•˜ê³  í•´ê²°í•˜ê¸° ìœ„í•œ ë„êµ¬ ë° ë°©ë²•ë¡ ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”</span>
                        ì£¼ìš” ë””ë²„ê¹… ë„êµ¬
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><code>dumpsys media.audio_flinger</code></li>
                            <li><code>dumpsys audio</code></li>
                            <li><code>adb logcat -s AudioFlinger:V</code></li>
                            <li>Systrace (atrace)</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš ï¸</span>
                        ì¼ë°˜ì ì¸ ë¬¸ì œ
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>Underrun (ëŠê¹€, ë…¸ì´ì¦ˆ)</li>
                            <li>ë†’ì€ ì§€ì—°ì‹œê°„</li>
                            <li>ì˜¤ë””ì˜¤ ë¼ìš°íŒ… ì‹¤íŒ¨</li>
                            <li>ë³¼ë¥¨ ì œì–´ ë¬¸ì œ</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ› ï¸</span>
                        ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li>Underrun ì¹´ìš´íŠ¸ ì¶”ì </li>
                            <li>ì§€ì—°ì‹œê°„ ì¸¡ì •</li>
                            <li>CPU ì‚¬ìš©ë¥  í”„ë¡œíŒŒì¼ë§</li>
                            <li>ë©”ëª¨ë¦¬ ì‚¬ìš© ë¶„ì„</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ”§ ì£¼ìš” dumpsys ëª…ë ¹ì–´</h3>
            <div class="code-block">
                <pre><code># AudioFlinger ìƒíƒœ í™•ì¸
adb shell dumpsys media.audio_flinger

# ì¶œë ¥ ì˜ˆì‹œ:
# Hardware status:
#   Latency (msec): 10
#   Sample rate: 48000
#   Frames per buffer: 192
#   Underruns: 5
#   Overruns: 0
#
# Active tracks:
#   Session ID: 123
#   Stream type: MUSIC
#   Format: PCM 16-bit
#   Channel count: 2

# Audio ì •ì±… ë° ë””ë°”ì´ìŠ¤ ìƒíƒœ í™•ì¸
adb shell dumpsys audio

# ì¶œë ¥ ì˜ˆì‹œ:
# Audio Devices:
#   Type: WIRED_HEADSET
#   Address:
#   State: AVAILABLE
#
# Audio Focus:
#   UID: 10123
#   Package: com.example.musicapp
#   Focus: GAIN
#   Usage: MEDIA

# ì˜¤ë””ì˜¤ ë¼ìš°íŒ… í™•ì¸
adb shell dumpsys media.audio_policy

# í™œì„± ìŠ¤íŠ¸ë¦¼ í™•ì¸
adb shell dumpsys media.audio_flinger | grep -A 10 "Output thread"

# Underrun ì¹´ìš´íŠ¸ í™•ì¸
adb shell dumpsys media.audio_flinger | grep -i underrun</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“‹ logcat í•„í„°ë§</h3>
            <div class="code-block">
                <pre><code># AudioFlinger ë¡œê·¸ë§Œ í‘œì‹œ
adb logcat -s AudioFlinger:V

# Audio ê´€ë ¨ ëª¨ë“  ë¡œê·¸
adb logcat -s AudioFlinger:V AudioPolicyService:V AAudio:V

# íŠ¹ì • ì•±ì˜ ì˜¤ë””ì˜¤ ë¡œê·¸
adb logcat | grep -E "AudioTrack|AudioRecord"

# Underrun ë°œìƒ ì¶”ì 
adb logcat | grep -i underrun

# Audio Focus ë³€ê²½ ì¶”ì 
adb logcat -s AudioManager:V | grep -i focus

# ì§€ì—°ì‹œê°„ ê´€ë ¨ ë¡œê·¸
adb logcat | grep -i latency</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">âš ï¸ íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ</h3>
            <div class="comparison-table">
                <table>
                    <thead>
                        <tr>
                            <th>ë¬¸ì œ ì¦ìƒ</th>
                            <th>ê°€ëŠ¥í•œ ì›ì¸</th>
                            <th>í•´ê²° ë°©ë²•</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ì˜¤ë””ì˜¤ ëŠê¹€ / ë…¸ì´ì¦ˆ</td>
                            <td>
                                â€¢ Underrun ë°œìƒ<br />
                                â€¢ ë²„í¼ ì‚¬ì´ì¦ˆ ë„ˆë¬´ ì‘ìŒ<br />
                                â€¢ CPU ë¶€ì¡±
                            </td>
                            <td>
                                â€¢ ë²„í¼ ì‚¬ì´ì¦ˆ ì¦ê°€<br />
                                â€¢ ì½œë°±ì—ì„œ ë¸”ë¡œí‚¹ ì œê±°<br />
                                â€¢ CPU ìš°ì„ ìˆœìœ„ ìƒìŠ¹
                            </td>
                        </tr>
                        <tr>
                            <td>ë†’ì€ ì§€ì—°ì‹œê°„</td>
                            <td>
                                â€¢ ë²„í¼ ì‚¬ì´ì¦ˆ ë„ˆë¬´ í¼<br />
                                â€¢ SHARED ëª¨ë“œ ì‚¬ìš©<br />
                                â€¢ ë¹„íš¨ìœ¨ì  API (MediaPlayer)
                            </td>
                            <td>
                                â€¢ ë²„í¼ ì‚¬ì´ì¦ˆ ê°ì†Œ<br />
                                â€¢ EXCLUSIVE ëª¨ë“œ ì‚¬ìš©<br />
                                â€¢ AAudioë¡œ ì „í™˜
                            </td>
                        </tr>
                        <tr>
                            <td>ì†Œë¦¬ ì•ˆ ë‚¨</td>
                            <td>
                                â€¢ ì˜ëª»ëœ ë¼ìš°íŒ…<br />
                                â€¢ ë³¼ë¥¨ 0<br />
                                â€¢ Audio Focus ë¯¸íšë“
                            </td>
                            <td>
                                â€¢ dumpsys audioë¡œ ë””ë°”ì´ìŠ¤ í™•ì¸<br />
                                â€¢ ë³¼ë¥¨ ì„¤ì • í™•ì¸<br />
                                â€¢ Audio Focus ìš”ì²­
                            </td>
                        </tr>
                        <tr>
                            <td>Bluetooth ì˜¤ë””ì˜¤ ì§€ì—°</td>
                            <td>
                                â€¢ A2DP í”„ë¡œí† ì½œ ì§€ì—°<br />
                                â€¢ ì½”ë± ì„¤ì •
                            </td>
                            <td>
                                â€¢ aptX/LDAC ì½”ë± ì‚¬ìš©<br />
                                â€¢ ì§€ì—° ë³´ìƒ êµ¬í˜„<br />
                                â€¢ LE Audio ê³ ë ¤
                            </td>
                        </tr>
                        <tr>
                            <td>ë…¹ìŒ ì•ˆ ë¨</td>
                            <td>
                                â€¢ ê¶Œí•œ ë¯¸ë¶€ì—¬<br />
                                â€¢ ë‹¤ë¥¸ ì•±ì´ ë…¹ìŒ ì¤‘<br />
                                â€¢ Audio Source ë¬¸ì œ
                            </td>
                            <td>
                                â€¢ RECORD_AUDIO ê¶Œí•œ í™•ì¸<br />
                                â€¢ Audio Focus ìš”ì²­<br />
                                â€¢ Audio Source ë³€ê²½
                            </td>
                        </tr>
                        <tr>
                            <td>ë³¼ë¥¨ ì œì–´ ì•ˆ ë¨</td>
                            <td>
                                â€¢ ì˜ëª»ëœ Stream Type<br />
                                â€¢ DND ëª¨ë“œ<br />
                                â€¢ ì‹œìŠ¤í…œ ë³¼ë¥¨ ê³ ì •
                            </td>
                            <td>
                                â€¢ AudioAttributes í™•ì¸<br />
                                â€¢ DND ì„¤ì • í™•ì¸<br />
                                â€¢ dumpsys audio ë¶„ì„
                            </td>
                        </tr>
                        <tr>
                            <td>Audio Effects ì ìš© ì•ˆ ë¨</td>
                            <td>
                                â€¢ ì˜ëª»ëœ Session ID<br />
                                â€¢ íš¨ê³¼ ë¯¸ì§€ì› ë””ë°”ì´ìŠ¤<br />
                                â€¢ ê¶Œí•œ ë¶€ì¡±
                            </td>
                            <td>
                                â€¢ AudioTrackì˜ Session ID ì‚¬ìš©<br />
                                â€¢ ë””ë°”ì´ìŠ¤ capability í™•ì¸<br />
                                â€¢ MODIFY_AUDIO_SETTINGS ê¶Œí•œ
                            </td>
                        </tr>
                        <tr>
                            <td>AAOS ë©€í‹°ì¡´ ë¬¸ì œ</td>
                            <td>
                                â€¢ ì˜ëª»ëœ Zone ID<br />
                                â€¢ car_audio_configuration.xml ì˜¤ë¥˜<br />
                                â€¢ CarAudioService ë¯¸ì‘ë™
                            </td>
                            <td>
                                â€¢ dumpsys car_service í™•ì¸<br />
                                â€¢ XML ì„¤ì • ê²€ì¦<br />
                                â€¢ ë¡œê·¸ ë¶„ì„ (CarAudioService)
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“Š Systrace í”„ë¡œíŒŒì¼ë§</h3>
            <div class="code-block">
                <pre><code># Systraceë¡œ ì˜¤ë””ì˜¤ ì„±ëŠ¥ ë¶„ì„ (10ì´ˆ)
adb shell atrace -t 10 -b 32768 audio sched freq idle am wm > audio_trace.html

# ë¸Œë¼ìš°ì €ì—ì„œ audio_trace.html ì—´ê¸°

# í™•ì¸ ì‚¬í•­:
# 1. AudioFlinger ìŠ¤ë ˆë“œ ì‹¤í–‰ ì£¼ê¸°
#    - MixerThreadê°€ ì¼ì •í•œ ê°„ê²©ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ”ì§€
#    - ìŠ¤ì¼€ì¤„ë§ ì§€ì—°ì´ ìˆëŠ”ì§€
#
# 2. Underrun ë°œìƒ ì§€ì 
#    - ì–´ëŠ ì‹œì ì—ì„œ ë°ì´í„° ë¶€ì¡±ì´ ë°œìƒí•˜ëŠ”ì§€
#
# 3. CPU ì£¼íŒŒìˆ˜
#    - ì˜¤ë””ì˜¤ ì²˜ë¦¬ ì¤‘ CPUê°€ ì¶©ë¶„í•œ í´ëŸ­ìœ¼ë¡œ ë™ì‘í•˜ëŠ”ì§€
#
# 4. ì•± ì½œë°± ì‹¤í–‰ ì‹œê°„
#    - ì½œë°±ì—ì„œ ë„ˆë¬´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—…ì´ ìˆëŠ”ì§€

# íŠ¹ì • í”„ë¡œì„¸ìŠ¤ë§Œ ì¶”ì 
adb shell atrace -t 10 --app=com.example.audioapp audio > trace.html</code></pre>
            </div>
        </section>

        <!-- Section 16: AOSP Source Reference -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">16</span>
                AOSP ì†ŒìŠ¤ ì½”ë“œ ì°¸ì¡°
            </h2>
            <p class="section-description">
                Android Audio Frameworkì˜ í•µì‹¬ ì†ŒìŠ¤ ì½”ë“œ ìœ„ì¹˜ ë° ì£¼ìš” íŒŒì¼ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">âš™ï¸</span>
                        AudioFlinger
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>AudioFlinger.cpp</strong></li>
                            <li>frameworks/av/services/audioflinger/</li>
                            <li>ì˜¤ë””ì˜¤ ë¯¹ì‹± ì—”ì§„ êµ¬í˜„</li>
                            <li>PlaybackThread, RecordThread</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ“‹</span>
                        AudioPolicyService
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>AudioPolicyService.cpp</strong></li>
                            <li>frameworks/av/services/audiopolicy/</li>
                            <li>ë¼ìš°íŒ… ì •ì±… ê²°ì •</li>
                            <li>audio_policy_configuration.xml</li>
                        </ul>
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Œ</span>
                        Audio HAL
                    </h3>
                    <div class="card-description">
                        <ul>
                            <li><strong>AIDL</strong>: hardware/interfaces/audio/aidl/</li>
                            <li><strong>HIDL</strong>: hardware/interfaces/audio/</li>
                            <li>IDevice.aidl, IStreamOut.aidl</li>
                            <li>default êµ¬í˜„: audio.primary.default.so</li>
                        </ul>
                    </div>
                </div>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ“‚ ì£¼ìš” ë””ë ‰í† ë¦¬ êµ¬ì¡°</h3>
            <div class="code-block">
                <pre><code># AudioFlinger (Native Audio Server)
frameworks/av/services/audioflinger/
â”œâ”€â”€ AudioFlinger.cpp                    # ë©”ì¸ ì˜¤ë””ì˜¤ ì„œë²„
â”œâ”€â”€ AudioFlinger.h
â”œâ”€â”€ Threads.cpp                         # PlaybackThread, RecordThread êµ¬í˜„
â”œâ”€â”€ Tracks.cpp                          # AudioTrack, AudioRecord ê´€ë¦¬
â”œâ”€â”€ AudioMixer.cpp                      # ë¯¹ì‹± ì—”ì§„ (32-bit float)
â”œâ”€â”€ Effects.cpp                         # ì˜¤ë””ì˜¤ íš¨ê³¼ ì²˜ë¦¬
â””â”€â”€ FastMixer.cpp                       # ì €ì§€ì—° Fast Mixer

# AudioPolicyService (ì •ì±… ê´€ë¦¬ì)
frameworks/av/services/audiopolicy/
â”œâ”€â”€ AudioPolicyService.cpp              # ì •ì±… ì„œë¹„ìŠ¤
â”œâ”€â”€ AudioPolicyManager.cpp              # ë¼ìš°íŒ… ê²°ì •
â”œâ”€â”€ AudioPolicyInterface.h
â””â”€â”€ config/
    â””â”€â”€ audio_policy_configuration.xsd  # ì„¤ì • ìŠ¤í‚¤ë§ˆ

# Framework API (Java/Kotlin)
frameworks/base/media/java/android/media/
â”œâ”€â”€ AudioManager.java                   # ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ê´€ë¦¬
â”œâ”€â”€ AudioTrack.java                     # ì €ìˆ˜ì¤€ ì¬ìƒ API
â”œâ”€â”€ AudioRecord.java                    # ì €ìˆ˜ì¤€ ë…¹ìŒ API
â”œâ”€â”€ AudioAttributes.java                # ì˜¤ë””ì˜¤ ì†ì„±
â”œâ”€â”€ AudioFocusRequest.java              # Focus ìš”ì²­ (Android 8.0+)
â”œâ”€â”€ MediaPlayer.java                    # ê³ ìˆ˜ì¤€ ì¬ìƒ API
â””â”€â”€ audiofx/
    â”œâ”€â”€ Equalizer.java                  # ì´í€„ë¼ì´ì €
    â”œâ”€â”€ BassBoost.java                  # Bass Boost
    â”œâ”€â”€ Virtualizer.java                # ê°€ìƒ ì„œë¼ìš´ë“œ
    â””â”€â”€ Visualizer.java                 # ì‹œê°í™”

# Native API (C++)
frameworks/av/media/libaudioclient/
â”œâ”€â”€ AudioTrack.cpp                      # AudioTrack ë„¤ì´í‹°ë¸Œ êµ¬í˜„
â”œâ”€â”€ AudioRecord.cpp                     # AudioRecord ë„¤ì´í‹°ë¸Œ êµ¬í˜„
â”œâ”€â”€ AudioSystem.cpp                     # ì˜¤ë””ì˜¤ ì‹œìŠ¤í…œ ì¸í„°í˜ì´ìŠ¤
â””â”€â”€ include/
    â””â”€â”€ media/
        â”œâ”€â”€ AudioTrack.h
        â””â”€â”€ AudioRecord.h

# AAudio (ì €ì§€ì—° ë„¤ì´í‹°ë¸Œ API)
frameworks/av/media/libaaudio/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ AAudioService.cpp               # AAudio ì„œë¹„ìŠ¤
â”‚   â”œâ”€â”€ AAudioStreamTracker.cpp         # ìŠ¤íŠ¸ë¦¼ ê´€ë¦¬
â”‚   â””â”€â”€ binding/
â”‚       â”œâ”€â”€ AAudioStreamRequest.cpp
â”‚       â””â”€â”€ AAudioStreamConfiguration.cpp
â””â”€â”€ include/aaudio/
    â””â”€â”€ AAudio.h                        # Public C API

# Audio HAL AIDL (Android 12+)
hardware/interfaces/audio/aidl/
â”œâ”€â”€ android/hardware/audio/
â”‚   â”œâ”€â”€ IDevice.aidl                    # ë””ë°”ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ IStreamOut.aidl                 # ì¶œë ¥ ìŠ¤íŠ¸ë¦¼
â”‚   â”œâ”€â”€ IStreamIn.aidl                  # ì…ë ¥ ìŠ¤íŠ¸ë¦¼
â”‚   â”œâ”€â”€ IModule.aidl                    # ëª¨ë“ˆ ì¸í„°í˜ì´ìŠ¤
â”‚   â””â”€â”€ core/
â”‚       â”œâ”€â”€ IConfig.aidl
â”‚       â””â”€â”€ sounddose/
â””â”€â”€ default/                            # ê¸°ë³¸ êµ¬í˜„

# Audio HAL HIDL (ë ˆê±°ì‹œ, Android 8-13)
hardware/interfaces/audio/
â”œâ”€â”€ 7.0/                                # HIDL 7.0 (Android 11)
â”œâ”€â”€ 6.0/                                # HIDL 6.0 (Android 10)
â”œâ”€â”€ 5.0/                                # HIDL 5.0 (Android 9)
â””â”€â”€ 4.0/                                # HIDL 4.0 (Android 8)

# AAOS Car Audio
packages/services/Car/service/src/com/android/car/audio/
â”œâ”€â”€ CarAudioService.java                # ì°¨ëŸ‰ ì˜¤ë””ì˜¤ ì„œë¹„ìŠ¤
â”œâ”€â”€ CarAudioZone.java                   # ì˜¤ë””ì˜¤ ì¡´ ê´€ë¦¬
â”œâ”€â”€ CarVolumeGroup.java                 # ë³¼ë¥¨ ê·¸ë£¹
â””â”€â”€ CarAudioContext.java                # ì˜¤ë””ì˜¤ ì»¨í…ìŠ¤íŠ¸

# Audio Policy Configuration
hardware/[vendor]/[device]/audio/
â””â”€â”€ audio_policy_configuration.xml      # ë””ë°”ì´ìŠ¤ë³„ ì˜¤ë””ì˜¤ ì •ì±…</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸ”— ì£¼ìš” AIDL ì¸í„°í˜ì´ìŠ¤</h3>
            <div class="code-block">
                <pre><code>// IDevice.aidl - ì˜¤ë””ì˜¤ ë””ë°”ì´ìŠ¤ ì¸í„°í˜ì´ìŠ¤
package android.hardware.audio;

interface IDevice {
    // ìŠ¤íŠ¸ë¦¼ ì—´ê¸°
    IStreamOut openOutputStream(
        int ioHandle,
        AudioDevice device,
        AudioConfig config,
        AudioOutputFlag[] flags
    );

    IStreamIn openInputStream(
        int ioHandle,
        AudioDevice device,
        AudioConfig config,
        AudioInputFlag[] flags
    );

    // ì˜¤ë””ì˜¤ í¬íŠ¸ ì„¤ì •
    void setAudioPortConfig(AudioPortConfig config);

    // íŒŒë¼ë¯¸í„° ì„¤ì •
    void setParameters(KeyValuePair[] parameters);
}

// IStreamOut.aidl - ì¶œë ¥ ìŠ¤íŠ¸ë¦¼ ì¸í„°í˜ì´ìŠ¤
interface IStreamOut {
    // PCM ë°ì´í„° ì“°ê¸°
    WriteResult write(byte[] data);

    // ìŠ¤íŠ¸ë¦¼ ìƒíƒœ
    void standby();
    void pause();
    void resume();
    void drain(AudioDrain type);

    // ì§€ì—°ì‹œê°„
    long getLatency();

    // í”„ë ˆì  í…Œì´ì…˜ ìœ„ì¹˜
    PresentationPosition getPresentationPosition();
}

// IAudioFlinger.aidl - AudioFlinger Binder ì¸í„°í˜ì´ìŠ¤
interface IAudioFlinger {
    // Track ìƒì„±
    IAudioTrack createTrack(
        AudioStreamType streamType,
        int sampleRate,
        AudioFormat format,
        int channelMask,
        int frameCount,
        int flags,
        int sessionId
    );

    // Record ìƒì„±
    IAudioRecord openRecord(...);

    // ë§ˆìŠ¤í„° ë³¼ë¥¨
    void setMasterVolume(float volume);
    float getMasterVolume();
}</code></pre>
            </div>

            <h3 style="color: var(--accent-primary); margin: 30px 0 20px 0; font-size: 1.5rem;">ğŸŒ ìœ ìš©í•œ AOSP ë§í¬</h3>
            <div class="code-block">
                <pre><code># AudioFlinger ì†ŒìŠ¤
https://cs.android.com/android/platform/superproject/main/+/main:frameworks/av/services/audioflinger/

# AudioPolicyService ì†ŒìŠ¤
https://cs.android.com/android/platform/superproject/main/+/main:frameworks/av/services/audiopolicy/

# Audio HAL AIDL
https://cs.android.com/android/platform/superproject/main/+/main:hardware/interfaces/audio/aidl/

# AAudio ì†ŒìŠ¤
https://cs.android.com/android/platform/superproject/main/+/main:frameworks/av/media/libaaudio/

# CarAudioService ì†ŒìŠ¤
https://cs.android.com/android/platform/superproject/main/+/main:packages/services/Car/service/src/com/android/car/audio/

# Audio Framework ê³µì‹ ë¬¸ì„œ
https://source.android.com/docs/core/audio

# Audio HAL ë¬¸ì„œ
https://source.android.com/docs/core/audio/implement

# AAudio ê°€ì´ë“œ
https://developer.android.com/ndk/guides/audio/aaudio/aaudio</code></pre>
            </div>
        </section>

        <!-- Section 17: Related Documentation -->
        <section class="content-section section">
            <h2 class="section-title">
                <span class="section-number">17</span>
                ê´€ë ¨ ìƒì„¸ ë¬¸ì„œ
            </h2>
            <p class="section-description">
                Audio Frameworkì™€ ì—°ê´€ëœ ë‹¤ë¥¸ ì£¼ìš” ë¬¸ì„œ ë° ë¦¬ì†ŒìŠ¤ì…ë‹ˆë‹¤.
            </p>

            <div class="content-grid">
                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸµ</span>
                        <a href="mediasession.html" style="color: inherit; text-decoration: none;">
                            MediaSession
                        </a>
                    </h3>
                    <div class="card-description">
                        MediaSession í”„ë ˆì„ì›Œí¬ì™€ Audio Focusì˜ í†µí•©, ë¯¸ë””ì–´ ì»¨íŠ¸ë¡¤ ë° ì¬ìƒ ìƒíƒœ ê´€ë¦¬
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸš—</span>
                        <a href="carmedia.html" style="color: inherit; text-decoration: none;">
                            Car Media Service
                        </a>
                    </h3>
                    <div class="card-description">
                        AAOS ì°¨ëŸ‰ìš© ë¯¸ë””ì–´ ì„œë¹„ìŠ¤, CarAudioServiceì™€ì˜ ì—°ë™, Last Media Source
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ¬</span>
                        <a href="media-playback.html" style="color: inherit; text-decoration: none;">
                            Media Playback Pipeline
                        </a>
                    </h3>
                    <div class="card-description">
                        MediaPlayer, ExoPlayerì˜ ì˜¤ë””ì˜¤ ë Œë”ë§ íŒŒì´í”„ë¼ì¸ ë° AudioTrack í†µí•©
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ”Š</span>
                        <a href="codec2.html" style="color: inherit; text-decoration: none;">
                            Codec 2.0
                        </a>
                    </h3>
                    <div class="card-description">
                        ì˜¤ë””ì˜¤ ì½”ë± (AAC, MP3, Opus) ë””ì½”ë”© ë° AudioFlingerë¡œì˜ PCM ì „ë‹¬
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸš™</span>
                        <a href="aaos.html" style="color: inherit; text-decoration: none;">
                            Android Automotive OS
                        </a>
                    </h3>
                    <div class="card-description">
                        AAOS ì „ì²´ ì•„í‚¤í…ì²˜, ì°¨ëŸ‰ ì‹œìŠ¤í…œ ì„œë¹„ìŠ¤, ì˜¤ë””ì˜¤/ë¯¸ë””ì–´ í†µí•©
                    </div>
                </div>

                <div class="card">
                    <h3 class="card-title">
                        <span class="card-icon">ğŸ›ï¸</span>
                        <a href="dolby-codecs.html" style="color: inherit; text-decoration: none;">
                            Dolby Codecs
                        </a>
                    </h3>
                    <div class="card-description">
                        Dolby Atmos, AC-4, Digital Plus ì˜¤ë””ì˜¤ ì½”ë± ë° Audio HAL í†µí•©
                    </div>
                </div>
            </div>

            <div class="highlight-box" style="margin-top: 30px;">
                <strong>ğŸ’¡ ì¶”ê°€ ë¦¬ì†ŒìŠ¤:</strong> Android ê³µì‹ ë¬¸ì„œ
                <a href="https://source.android.com/docs/core/audio" target="_blank"
                   style="color: var(--accent-primary);">AOSP Audio Framework</a>,
                <a href="https://developer.android.com/ndk/guides/audio/aaudio" target="_blank"
                   style="color: var(--accent-primary);">AAudio Developer Guide</a>
            </div>
        </section>

    </div>

    <script src="scripts/mermaid-theme.js"></script>
    <!-- Navigation & Copy Features -->
    <script src="scripts/copy-code.js"></script>
    <script src="scripts/toc-generator.js"></script>
    <script src="scripts/page-navigation.js"></script>
    <!-- Interactive Diagram Features -->
    <script src="scripts/diagram-data.js"></script>
    <script src="scripts/diagram-interactive.js"></script>

    <script src="scripts/theme-toggle.js"></script>
    <script src="scripts/lang-switch.js"></script>
</body>

</html>